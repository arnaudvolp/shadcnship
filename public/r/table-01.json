{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "table-01",
  "title": "Table 01",
  "description": "A minimalist deals table with progress indicators",
  "dependencies": [
    "lucide-react"
  ],
  "registryDependencies": [
    "table"
  ],
  "files": [
    {
      "path": "src/registry/blocks/table-01/table.tsx",
      "content": "\"use client\";\n\nimport { useState } from \"react\";\nimport {\n  Search,\n  SlidersHorizontal,\n  Plus,\n  MoreHorizontal,\n  ChevronDown,\n  ChevronRight,\n  Pencil,\n  KeyRound,\n  Trash2,\n  Globe,\n  Sparkles,\n  Rocket,\n  Zap,\n} from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Switch } from \"@/components/ui/switch\";\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from \"@/components/ui/table\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\n\n// =============================================================================\n// TYPES\n// =============================================================================\n\ntype UserStatus =\n  | \"active\"\n  | \"inactive\"\n  | \"pending_approval\"\n  | \"pending_verification\"\n  | \"cancelled\"\n  | \"rejected\";\n\ninterface User {\n  id: string;\n  name: string;\n  phone: string;\n  dealerships: string[];\n  dealershipEnabled: boolean;\n  roles: string[];\n  status: UserStatus;\n}\n\ninterface Deal {\n  id: string;\n  name: string;\n  icon: \"globe\" | \"sparkles\" | \"rocket\" | \"zap\";\n  loanId: string;\n  received: number;\n  goal: number;\n  rate: number;\n  created: string;\n}\n\n// =============================================================================\n// DATA\n// =============================================================================\n\nconst users: User[] = [\n  {\n    id: \"1\",\n    name: \"Anthony Dionne\",\n    phone: \"(201) 555-0124\",\n    dealerships: [\"Honda Drummondville\"],\n    dealershipEnabled: true,\n    roles: [\"Dealership group accounting\", \"Dealership user\"],\n    status: \"pending_approval\",\n  },\n  {\n    id: \"2\",\n    name: \"Nick Yahodin\",\n    phone: \"(201) 555-0124\",\n    dealerships: [\"Honda Manic\", \"Jean Dumas\", \"Baie Comeau\"],\n    dealershipEnabled: true,\n    roles: [\"Dealership user\", \"Dealership group admin\", \"Dealership group accounting\"],\n    status: \"active\",\n  },\n  {\n    id: \"3\",\n    name: \"Mujeeb Aimaq\",\n    phone: \"(201) 555-0124\",\n    dealerships: [\"Auto Financement action\"],\n    dealershipEnabled: true,\n    roles: [\"Dealership group user\"],\n    status: \"cancelled\",\n  },\n  {\n    id: \"4\",\n    name: \"Eddie Parsons\",\n    phone: \"(201) 555-0124\",\n    dealerships: [\"Poirier Nissan\", \"Rouyn Noranda\"],\n    dealershipEnabled: false,\n    roles: [\"Admin\"],\n    status: \"rejected\",\n  },\n  {\n    id: \"5\",\n    name: \"Jakub Bandura\",\n    phone: \"(201) 555-0124\",\n    dealerships: [\"Garage Eric Provost\"],\n    dealershipEnabled: true,\n    roles: [\"Dealership user\", \"Dealership group user\"],\n    status: \"inactive\",\n  },\n  {\n    id: \"6\",\n    name: \"Michael St-Martin\",\n    phone: \"(201) 555-0124\",\n    dealerships: [\"Autos Namoune 9253-4239 qc inc\"],\n    dealershipEnabled: true,\n    roles: [\"Dealership group admin\"],\n    status: \"pending_verification\",\n  },\n];\n\nconst deals: Deal[] = [\n  {\n    id: \"1\",\n    name: \"Region scaling\",\n    icon: \"globe\",\n    loanId: \"A-139141\",\n    received: 420420,\n    goal: 3000000,\n    rate: 4.0,\n    created: \"22.07.2022\",\n  },\n  {\n    id: \"2\",\n    name: \"Marlin Corp. deal\",\n    icon: \"sparkles\",\n    loanId: \"A-114002\",\n    received: 54000,\n    goal: 104000,\n    rate: 2.0,\n    created: \"10.07.2022\",\n  },\n  {\n    id: \"3\",\n    name: \"Alpha app launch 2.0\",\n    icon: \"rocket\",\n    loanId: \"A-110249\",\n    received: 415200,\n    goal: 1000000,\n    rate: 3.2,\n    created: \"11.05.2022\",\n  },\n  {\n    id: \"4\",\n    name: \"Beat app launch 2.0\",\n    icon: \"zap\",\n    loanId: \"A-102888\",\n    received: 3527000,\n    goal: 6000000,\n    rate: 6.15,\n    created: \"22.04.2022\",\n  },\n];\n\n// =============================================================================\n// HELPERS\n// =============================================================================\n\nfunction getStatusConfig(status: UserStatus) {\n  const configs: Record<UserStatus, { label: string; className: string }> = {\n    active: {\n      label: \"Active\",\n      className: \"bg-emerald-50 text-emerald-700 dark:bg-emerald-950 dark:text-emerald-300\",\n    },\n    inactive: {\n      label: \"Inactive\",\n      className: \"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-300\",\n    },\n    pending_approval: {\n      label: \"Pending admin approval\",\n      className: \"bg-amber-50 text-amber-700 dark:bg-amber-950 dark:text-amber-300\",\n    },\n    pending_verification: {\n      label: \"Pending verification\",\n      className: \"bg-blue-50 text-blue-700 dark:bg-blue-950 dark:text-blue-300\",\n    },\n    cancelled: {\n      label: \"Cancelled by user\",\n      className: \"bg-red-50 text-red-700 dark:bg-red-950 dark:text-red-300\",\n    },\n    rejected: {\n      label: \"Rejected by admin\",\n      className: \"bg-red-50 text-red-700 dark:bg-red-950 dark:text-red-300\",\n    },\n  };\n  return configs[status];\n}\n\nfunction formatCurrency(amount: number): string {\n  return new Intl.NumberFormat(\"en-US\").format(amount);\n}\n\nfunction calculateProgress(received: number, goal: number): number {\n  return Math.min((received / goal) * 100, 100);\n}\n\nconst iconMap = {\n  globe: Globe,\n  sparkles: Sparkles,\n  rocket: Rocket,\n  zap: Zap,\n};\n\n// =============================================================================\n// COMPONENTS\n// =============================================================================\n\nfunction StatusBadge({ status }: { status: UserStatus }) {\n  const config = getStatusConfig(status);\n  return (\n    <span\n      className={cn(\n        \"inline-flex items-center rounded-md px-2 py-1 text-xs font-medium\",\n        config.className\n      )}\n    >\n      {config.label}\n    </span>\n  );\n}\n\nfunction UserActions({ user }: { user: User }) {\n  const [isActive, setIsActive] = useState(user.status === \"active\");\n\n  return (\n    <div className=\"flex items-center justify-end gap-2\">\n      {user.status === \"pending_approval\" && (\n        <Button size=\"sm\" variant=\"default\">\n          Approve\n        </Button>\n      )}\n      <DropdownMenu>\n        <DropdownMenuTrigger asChild>\n          <Button variant=\"ghost\" size=\"icon\" className=\"size-8\">\n            <MoreHorizontal className=\"size-4\" />\n            <span className=\"sr-only\">Open menu</span>\n          </Button>\n        </DropdownMenuTrigger>\n        <DropdownMenuContent align=\"end\" className=\"w-48\">\n          <div className=\"flex items-center justify-between px-2 py-1.5\">\n            <span className=\"text-sm\">Active</span>\n            <Switch checked={isActive} onCheckedChange={setIsActive} />\n          </div>\n          <DropdownMenuSeparator />\n          <DropdownMenuItem>\n            <Pencil className=\"mr-2 size-4\" />\n            Edit profile\n          </DropdownMenuItem>\n          <DropdownMenuItem>\n            <KeyRound className=\"mr-2 size-4\" />\n            Reset password\n          </DropdownMenuItem>\n          <DropdownMenuSeparator />\n          <DropdownMenuItem className=\"text-destructive focus:text-destructive\">\n            <Trash2 className=\"mr-2 size-4\" />\n            Delete\n          </DropdownMenuItem>\n        </DropdownMenuContent>\n      </DropdownMenu>\n    </div>\n  );\n}\n\nfunction ProgressCircle({ progress }: { progress: number }) {\n  const radius = 10;\n  const circumference = 2 * Math.PI * radius;\n  const strokeDashoffset = circumference - (progress / 100) * circumference;\n\n  return (\n    <svg className=\"size-6 -rotate-90\" viewBox=\"0 0 24 24\">\n      <circle\n        cx=\"12\"\n        cy=\"12\"\n        r={radius}\n        fill=\"none\"\n        stroke=\"currentColor\"\n        strokeWidth=\"2\"\n        className=\"text-muted\"\n      />\n      <circle\n        cx=\"12\"\n        cy=\"12\"\n        r={radius}\n        fill=\"none\"\n        stroke=\"currentColor\"\n        strokeWidth=\"2\"\n        strokeLinecap=\"round\"\n        strokeDasharray={circumference}\n        strokeDashoffset={strokeDashoffset}\n        className=\"text-primary\"\n      />\n    </svg>\n  );\n}\n\n// =============================================================================\n// MAIN COMPONENT\n// =============================================================================\n\nexport default function UsersTable() {\n  const [activeTab, setActiveTab] = useState<\"customers\" | \"employees\" | \"deals\">(\"customers\");\n  const [search, setSearch] = useState(\"\");\n\n  const filteredUsers = users.filter(\n    (user) =>\n      user.name.toLowerCase().includes(search.toLowerCase()) ||\n      user.phone.includes(search)\n  );\n\n  const filteredDeals = deals.filter(\n    (deal) =>\n      deal.name.toLowerCase().includes(search.toLowerCase()) ||\n      deal.loanId.toLowerCase().includes(search.toLowerCase())\n  );\n\n  return (\n    <div className=\"w-full bg-background\">\n      {/* Header */}\n      <div className=\"border-b px-6 py-8\">\n        <h1 className=\"text-3xl font-semibold tracking-tight\">Users management</h1>\n      </div>\n\n      {/* Toolbar */}\n      <div className=\"flex flex-col gap-4 border-b px-6 py-4 sm:flex-row sm:items-center sm:justify-between\">\n        {/* Tabs */}\n        <div className=\"flex gap-1\">\n          <Button\n            variant={activeTab === \"customers\" ? \"secondary\" : \"ghost\"}\n            size=\"sm\"\n            onClick={() => setActiveTab(\"customers\")}\n          >\n            Customers\n          </Button>\n          <Button\n            variant={activeTab === \"employees\" ? \"secondary\" : \"ghost\"}\n            size=\"sm\"\n            onClick={() => setActiveTab(\"employees\")}\n          >\n            Employees\n          </Button>\n          <Button\n            variant={activeTab === \"deals\" ? \"secondary\" : \"ghost\"}\n            size=\"sm\"\n            onClick={() => setActiveTab(\"deals\")}\n          >\n            Deals\n          </Button>\n        </div>\n\n        {/* Search and actions */}\n        <div className=\"flex items-center gap-2\">\n          <div className=\"relative\">\n            <Search className=\"absolute left-3 top-1/2 size-4 -translate-y-1/2 text-muted-foreground\" />\n            <Input\n              type=\"text\"\n              placeholder={activeTab === \"deals\" ? \"Search for deals...\" : \"Search for customers...\"}\n              value={search}\n              onChange={(e) => setSearch(e.target.value)}\n              className=\"w-64 pl-9\"\n            />\n          </div>\n          <Button variant=\"outline\" size=\"sm\">\n            <SlidersHorizontal className=\"mr-2 size-4\" />\n            Filters\n          </Button>\n          <Button size=\"sm\">\n            <Plus className=\"mr-2 size-4\" />\n            {activeTab === \"deals\" ? \"Add new deal\" : \"Add new customer\"}\n          </Button>\n        </div>\n      </div>\n\n      {/* Table */}\n      <div className=\"px-6 py-4\">\n        {activeTab === \"deals\" ? (\n          <Table>\n            <TableHeader>\n              <TableRow className=\"hover:bg-transparent border-none\">\n                <TableHead className=\"text-muted-foreground font-normal\">\n                  Deal name\n                </TableHead>\n                <TableHead className=\"text-muted-foreground font-normal\">\n                  Loan ID\n                </TableHead>\n                <TableHead className=\"text-muted-foreground font-normal\">\n                  Recieved / Goal\n                </TableHead>\n                <TableHead className=\"text-muted-foreground font-normal\">\n                  Rate\n                </TableHead>\n                <TableHead className=\"text-muted-foreground font-normal\">\n                  Created\n                </TableHead>\n                <TableHead className=\"w-10\"></TableHead>\n              </TableRow>\n            </TableHeader>\n            <TableBody>\n              {filteredDeals.map((deal) => {\n                const progress = calculateProgress(deal.received, deal.goal);\n                const Icon = iconMap[deal.icon];\n                return (\n                  <TableRow\n                    key={deal.id}\n                    className=\"cursor-pointer border-none hover:bg-muted/50\"\n                  >\n                    <TableCell>\n                      <div className=\"flex items-center gap-3\">\n                        <span className=\"text-muted-foreground\">\n                          <Icon className=\"size-4\" />\n                        </span>\n                        <span className=\"font-medium\">{deal.name}</span>\n                      </div>\n                    </TableCell>\n                    <TableCell className=\"text-muted-foreground\">\n                      {deal.loanId}\n                    </TableCell>\n                    <TableCell>\n                      <div className=\"flex items-center gap-3\">\n                        <ProgressCircle progress={progress} />\n                        <span>\n                          <span className=\"font-semibold\">\n                            {formatCurrency(deal.received)}\n                          </span>\n                          <span className=\"text-muted-foreground\">\n                            {\" \"}\n                            / {formatCurrency(deal.goal)} USD\n                          </span>\n                        </span>\n                      </div>\n                    </TableCell>\n                    <TableCell>{deal.rate.toFixed(2)}%</TableCell>\n                    <TableCell className=\"text-muted-foreground\">\n                      {deal.created}\n                    </TableCell>\n                    <TableCell>\n                      <ChevronRight className=\"size-5 text-muted-foreground\" />\n                    </TableCell>\n                  </TableRow>\n                );\n              })}\n            </TableBody>\n          </Table>\n        ) : (\n          <Table>\n            <TableHeader>\n              <TableRow className=\"hover:bg-transparent\">\n                <TableHead className=\"w-[200px]\">\n                  <Button variant=\"ghost\" size=\"sm\" className=\"-ml-3 h-8 font-medium\">\n                    Name\n                    <ChevronDown className=\"ml-1 size-3\" />\n                  </Button>\n                </TableHead>\n                <TableHead className=\"w-[280px]\">\n                  <Button variant=\"ghost\" size=\"sm\" className=\"-ml-3 h-8 font-medium\">\n                    Dealerships\n                    <ChevronDown className=\"ml-1 size-3\" />\n                  </Button>\n                </TableHead>\n                <TableHead>Role</TableHead>\n                <TableHead>Status</TableHead>\n                <TableHead className=\"w-[140px]\"></TableHead>\n              </TableRow>\n            </TableHeader>\n            <TableBody>\n              {filteredUsers.map((user) => (\n                <TableRow key={user.id} className=\"border-none hover:bg-muted/50\">\n                  <TableCell>\n                    <div>\n                      <div className=\"font-medium\">{user.name}</div>\n                      <div className=\"text-sm text-muted-foreground\">{user.phone}</div>\n                    </div>\n                  </TableCell>\n                  <TableCell>\n                    <div className=\"flex items-center gap-2\">\n                      <span className=\"text-sm\">{user.dealerships[0]}</span>\n                      {user.dealerships.length > 1 && (\n                        <Badge variant=\"secondary\" className=\"text-xs\">\n                          +{user.dealerships.length - 1}\n                        </Badge>\n                      )}\n                    </div>\n                  </TableCell>\n                  <TableCell>\n                    <span className=\"text-sm text-muted-foreground\">{user.roles[0]}</span>\n                  </TableCell>\n                  <TableCell>\n                    <StatusBadge status={user.status} />\n                  </TableCell>\n                  <TableCell>\n                    <UserActions user={user} />\n                  </TableCell>\n                </TableRow>\n              ))}\n            </TableBody>\n          </Table>\n        )}\n      </div>\n    </div>\n  );\n}\n",
      "type": "registry:component",
      "target": "components/table-01/table.tsx"
    }
  ],
  "meta": {
    "image": "/r/previews/table-01.webp"
  },
  "categories": [
    "table"
  ],
  "type": "registry:block"
}