{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "kanban-01",
  "title": "Kanban 01",
  "description": "A kanban board with drag and drop, task cards, and column management",
  "dependencies": [
    "lucide-react",
    "date-fns",
    "@dnd-kit/core",
    "@dnd-kit/sortable",
    "@dnd-kit/utilities"
  ],
  "registryDependencies": [
    "button",
    "card",
    "avatar",
    "badge",
    "input",
    "label",
    "dialog",
    "dropdown-menu",
    "select",
    "textarea",
    "separator"
  ],
  "files": [
    {
      "path": "src/registry/blocks/kanban-01/kanban.tsx",
      "content": "\"use client\";\n\nimport { useState, useMemo } from \"react\";\nimport {\n  DndContext,\n  DragOverlay,\n  closestCorners,\n  KeyboardSensor,\n  PointerSensor,\n  useSensor,\n  useSensors,\n  DragStartEvent,\n  DragEndEvent,\n  DragOverEvent,\n} from \"@dnd-kit/core\";\nimport { sortableKeyboardCoordinates, arrayMove } from \"@dnd-kit/sortable\";\nimport { cn } from \"@/lib/utils\";\nimport { Button } from \"@/components/ui/button\";\nimport { Separator } from \"@/components/ui/separator\";\nimport {\n  KanbanColumn,\n  KanbanCard,\n  CreateTaskDialog,\n} from \"./components\";\nimport { FileText, ChevronRight, Upload, Plus } from \"lucide-react\";\nimport type {\n  KanbanTask,\n  KanbanColumn as KanbanColumnType,\n  KanbanBoardProps,\n  TaskStatus,\n} from \"./types/kanban\";\n\n// =============================================================================\n// Demo Data\n// =============================================================================\n\nconst defaultColumns: KanbanColumnType[] = [\n  { id: \"todo\", title: \"To Do\", tasks: [], color: \"#f97316\" },\n  { id: \"in_progress\", title: \"In Progress\", tasks: [], color: \"#eab308\" },\n  { id: \"review\", title: \"In Review\", tasks: [], color: \"#8b5cf6\" },\n  { id: \"done\", title: \"Completed\", tasks: [], color: \"#22c55e\" },\n];\n\nconst demoTasks: KanbanTask[] = [\n  {\n    id: \"task_1\",\n    title: \"Change top CTA button text\",\n    client: \"Stellar\",\n    status: \"todo\",\n    priority: \"high\",\n    assignees: [\n      { id: \"1\", name: \"Phoenix Baker\", avatar: \"https://api.dicebear.com/7.x/avataaars/svg?seed=phoenix\" },\n    ],\n    labels: [\n      { id: \"l1\", name: \"Web\", color: \"#3b82f6\" },\n      { id: \"l2\", name: \"Saas\", color: \"#ef4444\" },\n    ],\n    dueDate: new Date(Date.now() + 4 * 24 * 60 * 60 * 1000).toISOString(),\n    createdAt: new Date().toISOString(),\n    order: 0,\n    attachments: 4,\n    progress: 25,\n    comments: 2,\n  },\n  {\n    id: \"task_2\",\n    title: \"Redesign analytics dashboard\",\n    client: \"Stellar\",\n    status: \"todo\",\n    priority: \"medium\",\n    assignees: [\n      { id: \"2\", name: \"Lana Wilson\", avatar: \"https://api.dicebear.com/7.x/avataaars/svg?seed=lana\" },\n    ],\n    labels: [\n      { id: \"l2\", name: \"Saas\", color: \"#ef4444\" },\n      { id: \"l3\", name: \"Mobile\", color: \"#8b5cf6\" },\n    ],\n    createdAt: new Date().toISOString(),\n    order: 1,\n    attachments: 2,\n    progress: 0,\n    comments: 5,\n  },\n  {\n    id: \"task_3\",\n    title: \"Create landing page\",\n    client: \"Taskez\",\n    status: \"todo\",\n    priority: \"high\",\n    assignees: [\n      { id: \"3\", name: \"Drew Carter\", avatar: \"https://api.dicebear.com/7.x/avataaars/svg?seed=drew\" },\n    ],\n    labels: [\n      { id: \"l1\", name: \"Web\", color: \"#3b82f6\" },\n    ],\n    dueDate: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000).toISOString(),\n    createdAt: new Date().toISOString(),\n    order: 2,\n    attachments: 1,\n    progress: 10,\n    comments: 0,\n  },\n  {\n    id: \"task_4\",\n    title: \"Redesign news page\",\n    client: \"Stellar\",\n    status: \"in_progress\",\n    priority: \"medium\",\n    assignees: [\n      { id: \"1\", name: \"Phoenix Baker\", avatar: \"https://api.dicebear.com/7.x/avataaars/svg?seed=phoenix\" },\n      { id: \"2\", name: \"Lana Wilson\", avatar: \"https://api.dicebear.com/7.x/avataaars/svg?seed=lana\" },\n    ],\n    labels: [{ id: \"l1\", name: \"Web\", color: \"#3b82f6\" }],\n    dueDate: new Date(Date.now() + 2 * 24 * 60 * 60 * 1000).toISOString(),\n    createdAt: new Date().toISOString(),\n    order: 0,\n    attachments: 6,\n    progress: 65,\n    comments: 8,\n  },\n  {\n    id: \"task_5\",\n    title: \"Copywriting for product page\",\n    client: \"Taskez\",\n    status: \"in_progress\",\n    priority: \"low\",\n    assignees: [\n      { id: \"4\", name: \"Sarah Chen\", avatar: \"https://api.dicebear.com/7.x/avataaars/svg?seed=sarah\" },\n    ],\n    labels: [{ id: \"l4\", name: \"Content\", color: \"#10b981\" }],\n    dueDate: new Date(Date.now() + 1 * 24 * 60 * 60 * 1000).toISOString(),\n    createdAt: new Date().toISOString(),\n    order: 1,\n    attachments: 0,\n    progress: 80,\n    comments: 3,\n  },\n  {\n    id: \"task_6\",\n    title: \"UI Animation for the onboarding flow\",\n    client: \"Stellar\",\n    status: \"review\",\n    priority: \"high\",\n    assignees: [\n      { id: \"3\", name: \"Drew Carter\", avatar: \"https://api.dicebear.com/7.x/avataaars/svg?seed=drew\" },\n    ],\n    labels: [\n      { id: \"l1\", name: \"Web\", color: \"#3b82f6\" },\n      { id: \"l2\", name: \"Saas\", color: \"#ef4444\" },\n    ],\n    dueDate: new Date(Date.now() + 1 * 24 * 60 * 60 * 1000).toISOString(),\n    createdAt: new Date().toISOString(),\n    order: 0,\n    attachments: 3,\n    progress: 95,\n    comments: 12,\n  },\n  {\n    id: \"task_7\",\n    title: \"UI Dark mode improvements\",\n    client: \"Stellar\",\n    status: \"review\",\n    priority: \"medium\",\n    assignees: [\n      { id: \"2\", name: \"Lana Wilson\", avatar: \"https://api.dicebear.com/7.x/avataaars/svg?seed=lana\" },\n    ],\n    labels: [\n      { id: \"l2\", name: \"Saas\", color: \"#ef4444\" },\n      { id: \"l3\", name: \"Mobile\", color: \"#8b5cf6\" },\n    ],\n    dueDate: new Date(Date.now() + 3 * 24 * 60 * 60 * 1000).toISOString(),\n    createdAt: new Date().toISOString(),\n    order: 1,\n    attachments: 2,\n    progress: 90,\n    comments: 4,\n  },\n  {\n    id: \"task_8\",\n    title: \"Mobile Redesign\",\n    client: \"Taskez\",\n    status: \"review\",\n    priority: \"high\",\n    assignees: [\n      { id: \"1\", name: \"Phoenix Baker\", avatar: \"https://api.dicebear.com/7.x/avataaars/svg?seed=phoenix\" },\n    ],\n    labels: [{ id: \"l3\", name: \"Mobile\", color: \"#8b5cf6\" }],\n    dueDate: new Date(Date.now() - 1 * 24 * 60 * 60 * 1000).toISOString(),\n    createdAt: new Date().toISOString(),\n    order: 2,\n    attachments: 8,\n    progress: 100,\n    comments: 6,\n  },\n  {\n    id: \"task_9\",\n    title: \"Navigation improvements\",\n    client: \"Taskez\",\n    status: \"done\",\n    priority: \"medium\",\n    assignees: [\n      { id: \"4\", name: \"Sarah Chen\", avatar: \"https://api.dicebear.com/7.x/avataaars/svg?seed=sarah\" },\n    ],\n    labels: [{ id: \"l1\", name: \"Web\", color: \"#3b82f6\" }],\n    createdAt: new Date().toISOString(),\n    order: 0,\n    attachments: 2,\n    progress: 100,\n    comments: 7,\n  },\n  {\n    id: \"task_10\",\n    title: \"Text Animation\",\n    client: \"Taskez\",\n    status: \"done\",\n    priority: \"low\",\n    assignees: [\n      { id: \"3\", name: \"Drew Carter\", avatar: \"https://api.dicebear.com/7.x/avataaars/svg?seed=drew\" },\n    ],\n    labels: [{ id: \"l5\", name: \"Design\", color: \"#f59e0b\" }],\n    createdAt: new Date().toISOString(),\n    order: 1,\n    attachments: 1,\n    progress: 100,\n    comments: 2,\n  },\n];\n\n// =============================================================================\n// Kanban Board Component\n// =============================================================================\n\nexport default function KanbanBoard({\n  columns: externalColumns,\n  projectName = \"Project UI/UX\",\n  onTaskMove,\n  onTaskCreate,\n  onTaskUpdate,\n  onTaskDelete,\n  isLoading,\n  className,\n}: KanbanBoardProps) {\n  const [internalTasks, setInternalTasks] = useState<KanbanTask[]>(demoTasks);\n  const [activeTask, setActiveTask] = useState<KanbanTask | null>(null);\n  const [createDialogOpen, setCreateDialogOpen] = useState(false);\n  const [createDialogStatus, setCreateDialogStatus] = useState<TaskStatus>(\"todo\");\n  const [activeView, setActiveView] = useState<\"board\" | \"list\" | \"timeline\" | \"due\">(\"board\");\n\n  // Use external columns if provided\n  const columns = externalColumns ?? defaultColumns;\n  const tasks = externalColumns\n    ? externalColumns.flatMap((c) => c.tasks)\n    : internalTasks;\n\n  // Group tasks by status\n  const tasksByStatus = useMemo(() => {\n    const grouped: Record<TaskStatus, KanbanTask[]> = {\n      todo: [],\n      in_progress: [],\n      review: [],\n      done: [],\n    };\n\n    tasks.forEach((task) => {\n      if (grouped[task.status]) {\n        grouped[task.status].push(task);\n      }\n    });\n\n    // Sort by order within each status\n    Object.keys(grouped).forEach((status) => {\n      grouped[status as TaskStatus].sort((a, b) => a.order - b.order);\n    });\n\n    return grouped;\n  }, [tasks]);\n\n  // DnD Sensors\n  const sensors = useSensors(\n    useSensor(PointerSensor, {\n      activationConstraint: {\n        distance: 8,\n      },\n    }),\n    useSensor(KeyboardSensor, {\n      coordinateGetter: sortableKeyboardCoordinates,\n    })\n  );\n\n  // DnD Handlers\n  const handleDragStart = (event: DragStartEvent) => {\n    const { active } = event;\n    const task = tasks.find((t) => t.id === active.id);\n    if (task) {\n      setActiveTask(task);\n    }\n  };\n\n  const handleDragOver = (event: DragOverEvent) => {\n    const { active, over } = event;\n    if (!over) return;\n\n    const activeId = active.id as string;\n    const overId = over.id as string;\n\n    const activeTask = tasks.find((t) => t.id === activeId);\n    if (!activeTask) return;\n\n    // Check if over a column\n    const overColumn = columns.find((c) => c.id === overId);\n    if (overColumn && activeTask.status !== overColumn.id) {\n      // Move to new column\n      if (externalColumns) {\n        onTaskMove?.(activeId, overColumn.id, 0);\n      } else {\n        setInternalTasks((prev) =>\n          prev.map((t) =>\n            t.id === activeId ? { ...t, status: overColumn.id, order: 0 } : t\n          )\n        );\n      }\n    }\n  };\n\n  const handleDragEnd = (event: DragEndEvent) => {\n    const { active, over } = event;\n    setActiveTask(null);\n\n    if (!over) return;\n\n    const activeId = active.id as string;\n    const overId = over.id as string;\n\n    if (activeId === overId) return;\n\n    const activeTask = tasks.find((t) => t.id === activeId);\n    const overTask = tasks.find((t) => t.id === overId);\n\n    if (!activeTask) return;\n\n    // If dropped on another task, reorder within the same column\n    if (overTask && activeTask.status === overTask.status) {\n      const columnTasks = tasksByStatus[activeTask.status];\n      const oldIndex = columnTasks.findIndex((t) => t.id === activeId);\n      const newIndex = columnTasks.findIndex((t) => t.id === overId);\n\n      if (oldIndex !== newIndex) {\n        const reordered = arrayMove(columnTasks, oldIndex, newIndex);\n\n        if (externalColumns) {\n          onTaskMove?.(activeId, activeTask.status, newIndex);\n        } else {\n          setInternalTasks((prev) => {\n            const otherTasks = prev.filter((t) => t.status !== activeTask.status);\n            const updatedColumnTasks = reordered.map((t, idx) => ({\n              ...t,\n              order: idx,\n            }));\n            return [...otherTasks, ...updatedColumnTasks];\n          });\n        }\n      }\n    }\n  };\n\n  // Task handlers\n  const handleOpenCreateDialog = (status: TaskStatus) => {\n    setCreateDialogStatus(status);\n    setCreateDialogOpen(true);\n  };\n\n  const handleCreateTask = (taskData: Partial<KanbanTask>) => {\n    if (onTaskCreate) {\n      onTaskCreate(taskData);\n    } else {\n      const newTask: KanbanTask = {\n        id: `task_${Date.now()}`,\n        title: taskData.title || \"Untitled\",\n        description: taskData.description,\n        client: taskData.client,\n        status: taskData.status || \"todo\",\n        priority: taskData.priority || \"medium\",\n        dueDate: taskData.dueDate,\n        createdAt: new Date().toISOString(),\n        order: tasksByStatus[taskData.status || \"todo\"].length,\n      };\n      setInternalTasks((prev) => [...prev, newTask]);\n    }\n  };\n\n  const handleDeleteTask = (taskId: string) => {\n    if (onTaskDelete) {\n      onTaskDelete(taskId);\n    } else {\n      setInternalTasks((prev) => prev.filter((t) => t.id !== taskId));\n    }\n  };\n\n  const handleEditTask = (task: KanbanTask) => {\n    if (onTaskUpdate) {\n      const { id, ...updates } = task;\n      onTaskUpdate(id, updates);\n    } else {\n      // Demo: log the edit action\n      console.log(\"Edit task:\", task);\n    }\n  };\n\n  const viewTabs = [\n    { id: \"board\", label: \"Board\" },\n    { id: \"list\", label: \"List\" },\n    { id: \"timeline\", label: \"Timeline\" },\n    { id: \"due\", label: \"Due Tasks\" },\n  ] as const;\n\n  return (\n    <div className={cn(\"w-full bg-background\", className)}>\n      {/* Breadcrumb */}\n      <div className=\"flex items-center gap-2 px-6 py-3 text-sm text-muted-foreground\">\n        <FileText className=\"size-4\" />\n        <ChevronRight className=\"size-4\" />\n        <span>Board</span>\n        <ChevronRight className=\"size-4\" />\n        <span className=\"text-foreground font-medium\">Overview</span>\n      </div>\n\n      {/* Project Title */}\n      <div className=\"px-6 pb-4\">\n        <h1 className=\"text-2xl font-bold\">{projectName}</h1>\n      </div>\n\n      {/* Navigation */}\n      <div className=\"flex items-center justify-between px-6 pb-6\">\n        <div className=\"flex items-center gap-1\">\n          {/* View Tabs */}\n          <div className=\"flex items-center bg-muted rounded-lg p-1\" role=\"tablist\" aria-label=\"Board views\">\n            {viewTabs.map((tab) => (\n              <button\n                key={tab.id}\n                role=\"tab\"\n                aria-selected={activeView === tab.id}\n                onClick={() => setActiveView(tab.id)}\n                className={cn(\n                  \"px-3 py-1.5 text-sm font-medium rounded-md transition-colors\",\n                  activeView === tab.id\n                    ? \"bg-background text-foreground shadow-sm\"\n                    : \"text-muted-foreground hover:text-foreground\"\n                )}\n              >\n                {tab.label}\n              </button>\n            ))}\n          </div>\n\n          <Separator orientation=\"vertical\" className=\"h-8 mx-2\" />\n\n          {/* Action Buttons */}\n          <Button variant=\"outline\" size=\"sm\" className=\"gap-2\">\n            <Upload className=\"size-4\" />\n            Import\n          </Button>\n          <Button size=\"sm\" className=\"gap-2\">\n            <Plus className=\"size-4\" />\n            New Board\n          </Button>\n        </div>\n      </div>\n\n      {/* Kanban Board */}\n      <DndContext\n        sensors={sensors}\n        collisionDetection={closestCorners}\n        onDragStart={handleDragStart}\n        onDragOver={handleDragOver}\n        onDragEnd={handleDragEnd}\n      >\n        <div className=\"overflow-x-auto pb-4\">\n          <div className=\"flex gap-4 px-6 min-w-max\">\n            {columns.map((column) => (\n              <KanbanColumn\n                key={column.id}\n                column={column}\n                tasks={tasksByStatus[column.id]}\n                onTaskCreate={handleOpenCreateDialog}\n                onTaskEdit={handleEditTask}\n                onTaskDelete={handleDeleteTask}\n              />\n            ))}\n          </div>\n        </div>\n\n        <DragOverlay>\n          {activeTask && (\n            <div className=\"w-[264px]\">\n              <KanbanCard task={activeTask} />\n            </div>\n          )}\n        </DragOverlay>\n      </DndContext>\n\n      <CreateTaskDialog\n        open={createDialogOpen}\n        onOpenChange={setCreateDialogOpen}\n        onCreate={handleCreateTask}\n        defaultStatus={createDialogStatus}\n      />\n    </div>\n  );\n}\n",
      "type": "registry:component",
      "target": "components/kanban-01/kanban.tsx"
    },
    {
      "path": "src/registry/blocks/kanban-01/types/kanban.ts",
      "content": "// =============================================================================\n// Kanban Board Types\n// =============================================================================\n\nexport type TaskPriority = \"low\" | \"medium\" | \"high\" | \"urgent\";\n\nexport type TaskStatus = \"todo\" | \"in_progress\" | \"review\" | \"done\";\n\nexport interface TaskAssignee {\n  id: string;\n  name: string;\n  avatar?: string;\n}\n\nexport interface TaskLabel {\n  id: string;\n  name: string;\n  color: string;\n}\n\nexport interface KanbanTask {\n  id: string;\n  title: string;\n  description?: string;\n  client?: string;\n  status: TaskStatus;\n  priority: TaskPriority;\n  assignees?: TaskAssignee[];\n  labels?: TaskLabel[];\n  dueDate?: string;\n  createdAt: string;\n  order: number;\n  attachments?: number;\n  comments?: number;\n  progress?: number;\n}\n\nexport interface KanbanColumn {\n  id: TaskStatus;\n  title: string;\n  tasks: KanbanTask[];\n  color: string;\n}\n\nexport interface KanbanBoardProps {\n  columns?: KanbanColumn[];\n  projectName?: string;\n  onTaskMove?: (taskId: string, newStatus: TaskStatus, newOrder: number) => void;\n  onTaskCreate?: (task: Partial<KanbanTask>) => void;\n  onTaskUpdate?: (taskId: string, updates: Partial<KanbanTask>) => void;\n  onTaskDelete?: (taskId: string) => void;\n  isLoading?: boolean;\n  className?: string;\n}\n\nexport interface KanbanColumnProps {\n  column: KanbanColumn;\n  tasks: KanbanTask[];\n  onTaskCreate?: (status: TaskStatus) => void;\n  isOver?: boolean;\n}\n\nexport interface KanbanCardProps {\n  task: KanbanTask;\n  isDragging?: boolean;\n  onEdit?: (task: KanbanTask) => void;\n  onDelete?: (taskId: string) => void;\n}\n\nexport interface CreateTaskDialogProps {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  onCreate: (task: Partial<KanbanTask>) => void;\n  defaultStatus?: TaskStatus;\n}\n",
      "type": "registry:component",
      "target": "components/kanban-01/types/kanban.ts"
    },
    {
      "path": "src/registry/blocks/kanban-01/components/index.ts",
      "content": "// Components\nexport { KanbanColumn } from \"./kanban-column\";\nexport { KanbanCard } from \"./kanban-card\";\nexport { CreateTaskDialog } from \"./create-task-dialog\";\n\n// Re-export types\nexport type {\n  TaskPriority,\n  TaskStatus,\n  TaskAssignee,\n  TaskLabel,\n  KanbanTask,\n  KanbanColumn as KanbanColumnType,\n  KanbanBoardProps,\n  KanbanColumnProps,\n  KanbanCardProps,\n  CreateTaskDialogProps,\n} from \"../types/kanban\";\n",
      "type": "registry:component",
      "target": "components/kanban-01/components/index.ts"
    },
    {
      "path": "src/registry/blocks/kanban-01/components/kanban-card.tsx",
      "content": "\"use client\";\n\nimport { forwardRef } from \"react\";\nimport { useSortable } from \"@dnd-kit/sortable\";\nimport { CSS } from \"@dnd-kit/utilities\";\nimport { cn } from \"@/lib/utils\";\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\nimport { Button } from \"@/components/ui/button\";\nimport { Files, MessageSquare, Clock, Pencil } from \"lucide-react\";\nimport type { KanbanTask } from \"../types/kanban\";\n\ninterface KanbanCardProps {\n  task: KanbanTask;\n  onEdit?: (task: KanbanTask) => void;\n  onDelete?: (taskId: string) => void;\n}\n\nexport const KanbanCard = forwardRef<HTMLDivElement, KanbanCardProps>(\n  function KanbanCard({ task, onEdit, onDelete }, ref) {\n    const {\n      attributes,\n      listeners,\n      setNodeRef,\n      transform,\n      transition,\n      isDragging,\n    } = useSortable({\n      id: task.id,\n      data: {\n        type: \"task\",\n        task,\n      },\n    });\n\n    const style = {\n      transform: CSS.Transform.toString(transform),\n      transition,\n    };\n\n    const formatDueDate = (dateString: string) => {\n      try {\n        const date = new Date(dateString);\n        const now = new Date();\n        const diff = date.getTime() - now.getTime();\n        const days = Math.ceil(diff / (1000 * 60 * 60 * 24));\n\n        if (days < 0) return \"Overdue\";\n        if (days === 0) return \"Today\";\n        if (days === 1) return \"1d\";\n        return `${days}d`;\n      } catch {\n        return dateString;\n      }\n    };\n\n    return (\n      <div\n        ref={(node) => {\n          setNodeRef(node);\n          if (typeof ref === \"function\") {\n            ref(node);\n          } else if (ref) {\n            ref.current = node;\n          }\n        }}\n        style={style}\n        className={cn(\n          \"group bg-background rounded-xl border p-4 cursor-grab active:cursor-grabbing transition-all hover:shadow-md relative\",\n          isDragging && \"opacity-50 shadow-lg rotate-2\"\n        )}\n        {...attributes}\n        {...listeners}\n      >\n        {/* Edit button - appears on hover */}\n        {onEdit && (\n          <Button\n            variant=\"ghost\"\n            size=\"icon\"\n            className=\"absolute top-2 right-2 size-6 opacity-0 group-hover:opacity-100 transition-opacity\"\n            onClick={(e) => {\n              e.stopPropagation();\n              onEdit(task);\n            }}\n            aria-label={`Edit task: ${task.title}`}\n          >\n            <Pencil className=\"size-3\" />\n          </Button>\n        )}\n\n        {/* Client name */}\n        {task.client && (\n          <p className=\"text-xs text-muted-foreground mb-2\">\n            Client: {task.client}\n          </p>\n        )}\n\n        {/* Task title */}\n        <h4 className=\"font-medium text-sm mb-3 line-clamp-2\">{task.title}</h4>\n\n        {/* Assignee and labels row */}\n        <div className=\"flex items-center gap-2 mb-3\">\n          {task.assignees && task.assignees.length > 0 && (\n            <div className=\"flex items-center gap-2\">\n              <div className=\"flex -space-x-1\">\n                {task.assignees.slice(0, 2).map((assignee) => (\n                  <Avatar\n                    key={assignee.id}\n                    className=\"size-5 border-2 border-background\"\n                  >\n                    <AvatarImage src={assignee.avatar} />\n                    <AvatarFallback className=\"text-[8px]\">\n                      {assignee.name.slice(0, 2).toUpperCase()}\n                    </AvatarFallback>\n                  </Avatar>\n                ))}\n              </div>\n              <span className=\"text-xs text-muted-foreground\">\n                {task.assignees[0].name.split(\" \")[0]}\n              </span>\n            </div>\n          )}\n\n          {/* Labels/Tags */}\n          {task.labels && task.labels.length > 0 && (\n            <div className=\"flex items-center gap-1 ml-auto\">\n              {task.labels.slice(0, 2).map((label) => (\n                <span\n                  key={label.id}\n                  className=\"text-[10px] px-1.5 py-0.5 rounded font-medium\"\n                  style={{\n                    backgroundColor: label.color + \"15\",\n                    color: label.color,\n                  }}\n                >\n                  {label.name}\n                </span>\n              ))}\n            </div>\n          )}\n        </div>\n\n        {/* Bottom stats row */}\n        <div className=\"flex items-center gap-3 text-xs text-muted-foreground\">\n          {task.attachments !== undefined && (\n            <div className=\"flex items-center gap-1\">\n              <Files className=\"size-3.5\" />\n              <span>{task.attachments}</span>\n            </div>\n          )}\n\n          {task.progress !== undefined && (\n            <div className=\"flex items-center gap-1\">\n              <svg className=\"size-3.5\" viewBox=\"0 0 16 16\" fill=\"none\">\n                <circle\n                  cx=\"8\"\n                  cy=\"8\"\n                  r=\"6\"\n                  stroke=\"currentColor\"\n                  strokeOpacity=\"0.3\"\n                  strokeWidth=\"2\"\n                />\n                <circle\n                  cx=\"8\"\n                  cy=\"8\"\n                  r=\"6\"\n                  stroke=\"currentColor\"\n                  strokeWidth=\"2\"\n                  strokeDasharray={`${(task.progress / 100) * 37.7} 37.7`}\n                  strokeLinecap=\"round\"\n                  transform=\"rotate(-90 8 8)\"\n                />\n              </svg>\n              <span>{task.progress}%</span>\n            </div>\n          )}\n\n          {task.comments !== undefined && (\n            <div className=\"flex items-center gap-1\">\n              <MessageSquare className=\"size-3.5\" />\n              <span>{task.comments}</span>\n            </div>\n          )}\n\n          {task.dueDate && (\n            <div className=\"flex items-center gap-1 ml-auto\">\n              <Clock className=\"size-3.5\" />\n              <span>{formatDueDate(task.dueDate)}</span>\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n);\n",
      "type": "registry:component",
      "target": "components/kanban-01/components/kanban-card.tsx"
    },
    {
      "path": "src/registry/blocks/kanban-01/components/kanban-column.tsx",
      "content": "\"use client\";\n\nimport { useDroppable } from \"@dnd-kit/core\";\nimport {\n  SortableContext,\n  verticalListSortingStrategy,\n} from \"@dnd-kit/sortable\";\nimport { cn } from \"@/lib/utils\";\nimport { Button } from \"@/components/ui/button\";\nimport { KanbanCard } from \"./kanban-card\";\nimport { Plus, MoreHorizontal } from \"lucide-react\";\nimport type { KanbanColumn as KanbanColumnType, KanbanTask, TaskStatus } from \"../types/kanban\";\n\ninterface KanbanColumnProps {\n  column: KanbanColumnType;\n  tasks: KanbanTask[];\n  onTaskCreate?: (status: TaskStatus) => void;\n  onTaskEdit?: (task: KanbanTask) => void;\n  onTaskDelete?: (taskId: string) => void;\n}\n\nexport function KanbanColumn({\n  column,\n  tasks,\n  onTaskCreate,\n  onTaskEdit,\n  onTaskDelete,\n}: KanbanColumnProps) {\n  const { setNodeRef, isOver } = useDroppable({\n    id: column.id,\n    data: {\n      type: \"column\",\n      column,\n    },\n  });\n\n  return (\n    <div\n      ref={setNodeRef}\n      className={cn(\n        \"flex flex-col w-[280px] min-w-[280px] bg-muted/30 rounded-xl transition-colors\",\n        isOver && \"bg-muted/50\"\n      )}\n    >\n      {/* Column Header */}\n      <div className=\"p-3 flex items-center justify-between\">\n        <div className=\"flex items-center gap-2\">\n          <div\n            className=\"w-1 h-5 rounded-full\"\n            style={{ backgroundColor: column.color }}\n          />\n          <span className=\"font-medium text-sm\">{column.title}</span>\n          <span className=\"text-sm text-muted-foreground\">\n            {tasks.length}\n          </span>\n        </div>\n        <div className=\"flex items-center gap-1\">\n          {onTaskCreate && (\n            <Button\n              variant=\"ghost\"\n              size=\"icon\"\n              className=\"size-7\"\n              onClick={() => onTaskCreate(column.id)}\n            >\n              <Plus className=\"size-4\" />\n              <span className=\"sr-only\">Add task</span>\n            </Button>\n          )}\n          <Button variant=\"ghost\" size=\"icon\" className=\"size-7\">\n            <MoreHorizontal className=\"size-4\" />\n            <span className=\"sr-only\">More options</span>\n          </Button>\n        </div>\n      </div>\n\n      {/* Tasks List */}\n      <div className=\"flex-1 px-2 pb-2 space-y-2 min-h-[200px] overflow-y-auto max-h-[calc(100vh-280px)]\">\n        <SortableContext\n          items={tasks.map((t) => t.id)}\n          strategy={verticalListSortingStrategy}\n        >\n          {tasks.map((task) => (\n            <KanbanCard\n              key={task.id}\n              task={task}\n              onEdit={onTaskEdit}\n              onDelete={onTaskDelete}\n            />\n          ))}\n        </SortableContext>\n\n        {tasks.length === 0 && (\n          <div className=\"text-center py-8 text-sm text-muted-foreground\">\n            No tasks\n          </div>\n        )}\n      </div>\n\n      {/* Add new button at bottom */}\n      {onTaskCreate && (\n        <Button\n          variant=\"ghost\"\n          className=\"mx-2 mb-2 justify-start text-muted-foreground hover:text-foreground\"\n          onClick={() => onTaskCreate(column.id)}\n        >\n          <Plus className=\"size-4 mr-2\" />\n          Add new\n        </Button>\n      )}\n    </div>\n  );\n}\n",
      "type": "registry:component",
      "target": "components/kanban-01/components/kanban-column.tsx"
    },
    {
      "path": "src/registry/blocks/kanban-01/components/create-task-dialog.tsx",
      "content": "\"use client\";\n\nimport { useState } from \"react\";\nimport { cn } from \"@/lib/utils\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport { Loader2, Plus, AlertCircle, ArrowUp, ArrowRight, ArrowDown } from \"lucide-react\";\nimport type { KanbanTask, TaskPriority, TaskStatus } from \"../types/kanban\";\n\ninterface CreateTaskDialogProps {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  onCreate: (task: Partial<KanbanTask>) => void;\n  defaultStatus?: TaskStatus;\n}\n\nconst statusOptions: { value: TaskStatus; label: string }[] = [\n  { value: \"todo\", label: \"To Do\" },\n  { value: \"in_progress\", label: \"In Progress\" },\n  { value: \"review\", label: \"In Review\" },\n  { value: \"done\", label: \"Completed\" },\n];\n\nconst priorityOptions: { value: TaskPriority; label: string; icon: React.ComponentType<{ className?: string }>; color: string }[] = [\n  { value: \"urgent\", label: \"Urgent\", icon: AlertCircle, color: \"text-red-500\" },\n  { value: \"high\", label: \"High\", icon: ArrowUp, color: \"text-orange-500\" },\n  { value: \"medium\", label: \"Medium\", icon: ArrowRight, color: \"text-yellow-500\" },\n  { value: \"low\", label: \"Low\", icon: ArrowDown, color: \"text-blue-500\" },\n];\n\nexport function CreateTaskDialog({\n  open,\n  onOpenChange,\n  onCreate,\n  defaultStatus = \"todo\",\n}: CreateTaskDialogProps) {\n  const [title, setTitle] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [client, setClient] = useState(\"\");\n  const [status, setStatus] = useState<TaskStatus>(defaultStatus);\n  const [priority, setPriority] = useState<TaskPriority>(\"medium\");\n  const [dueDate, setDueDate] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError(null);\n\n    if (!title.trim()) {\n      setError(\"Title is required\");\n      return;\n    }\n\n    setIsLoading(true);\n    try {\n      await onCreate({\n        title: title.trim(),\n        description: description.trim() || undefined,\n        client: client.trim() || undefined,\n        status,\n        priority,\n        dueDate: dueDate || undefined,\n      });\n\n      // Reset form\n      setTitle(\"\");\n      setDescription(\"\");\n      setClient(\"\");\n      setStatus(defaultStatus);\n      setPriority(\"medium\");\n      setDueDate(\"\");\n      onOpenChange(false);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : \"Failed to create task\");\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Update status when defaultStatus changes\n  if (open && status !== defaultStatus && !title) {\n    setStatus(defaultStatus);\n  }\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"sm:max-w-md\">\n        <DialogHeader>\n          <DialogTitle>Create Task</DialogTitle>\n          <DialogDescription>\n            Add a new task to your board.\n          </DialogDescription>\n        </DialogHeader>\n\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"title\">Title</Label>\n            <Input\n              id=\"title\"\n              placeholder=\"Task title\"\n              value={title}\n              onChange={(e) => {\n                setTitle(e.target.value);\n                setError(null);\n              }}\n              className={cn(error && \"border-destructive\")}\n            />\n            {error && <p className=\"text-xs text-destructive\">{error}</p>}\n          </div>\n\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"client\">Client (optional)</Label>\n            <Input\n              id=\"client\"\n              placeholder=\"Client name\"\n              value={client}\n              onChange={(e) => setClient(e.target.value)}\n            />\n          </div>\n\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"description\">Description (optional)</Label>\n            <Textarea\n              id=\"description\"\n              placeholder=\"Describe the task...\"\n              value={description}\n              onChange={(e) => setDescription(e.target.value)}\n              rows={3}\n            />\n          </div>\n\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div className=\"space-y-2\">\n              <Label>Status</Label>\n              <Select\n                value={status}\n                onValueChange={(v) => setStatus(v as TaskStatus)}\n              >\n                <SelectTrigger>\n                  <SelectValue />\n                </SelectTrigger>\n                <SelectContent>\n                  {statusOptions.map((opt) => (\n                    <SelectItem key={opt.value} value={opt.value}>\n                      {opt.label}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label>Priority</Label>\n              <Select\n                value={priority}\n                onValueChange={(v) => setPriority(v as TaskPriority)}\n              >\n                <SelectTrigger>\n                  <SelectValue />\n                </SelectTrigger>\n                <SelectContent>\n                  {priorityOptions.map((opt) => {\n                    const Icon = opt.icon;\n                    return (\n                      <SelectItem key={opt.value} value={opt.value}>\n                        <div className=\"flex items-center gap-2\">\n                          <Icon className={cn(\"size-4\", opt.color)} />\n                          {opt.label}\n                        </div>\n                      </SelectItem>\n                    );\n                  })}\n                </SelectContent>\n              </Select>\n            </div>\n          </div>\n\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"dueDate\">Due Date (optional)</Label>\n            <Input\n              id=\"dueDate\"\n              type=\"date\"\n              value={dueDate}\n              onChange={(e) => setDueDate(e.target.value)}\n            />\n          </div>\n\n          <DialogFooter>\n            <Button\n              type=\"button\"\n              variant=\"outline\"\n              onClick={() => onOpenChange(false)}\n            >\n              Cancel\n            </Button>\n            <Button type=\"submit\" disabled={isLoading}>\n              {isLoading ? (\n                <Loader2 className=\"size-4 mr-2 animate-spin\" />\n              ) : (\n                <Plus className=\"size-4 mr-2\" />\n              )}\n              Create Task\n            </Button>\n          </DialogFooter>\n        </form>\n      </DialogContent>\n    </Dialog>\n  );\n}\n",
      "type": "registry:component",
      "target": "components/kanban-01/components/create-task-dialog.tsx"
    }
  ],
  "meta": {
    "image": "/r/previews/kanban-01.webp"
  },
  "categories": [
    "kanban"
  ],
  "type": "registry:block"
}