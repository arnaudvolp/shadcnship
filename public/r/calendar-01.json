{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "calendar-01",
  "title": "Calendar 01",
  "description": "An event calendar with month/week views, event creation, and scheduling",
  "dependencies": [
    "lucide-react",
    "date-fns"
  ],
  "registryDependencies": [
    "button",
    "card",
    "input",
    "label",
    "dialog",
    "select",
    "switch",
    "textarea",
    "scroll-area"
  ],
  "files": [
    {
      "path": "src/registry/blocks/calendar-01/calendar.tsx",
      "content": "\"use client\";\n\nimport { useState } from \"react\";\nimport { cn } from \"@/lib/utils\";\nimport { Card, CardContent } from \"@/components/ui/card\";\nimport { addDays, setHours, setMinutes, startOfDay } from \"date-fns\";\nimport {\n  CalendarHeader,\n  TimelineView,\n  CreateEventDialog,\n} from \"./components\";\nimport type { CalendarEvent, CalendarView, CalendarProps } from \"./types/calendar\";\n\n// =============================================================================\n// Demo Data\n// =============================================================================\n\nconst createDemoEvents = (): CalendarEvent[] => {\n  const today = startOfDay(new Date());\n  const events: CalendarEvent[] = [];\n\n  // Daily Standups for all 4 days\n  for (let i = 0; i < 4; i++) {\n    const day = addDays(today, i);\n    events.push({\n      id: `standup_${i}`,\n      title: \"Daily Standup\",\n      description: \"Daily meeting to update team alignment, communication, and progress.\",\n      start: setMinutes(setHours(day, 9), 30).toISOString(),\n      end: setMinutes(setHours(day, 10), 30).toISOString(),\n      type: \"meeting\",\n      icon: \"ðŸ—“ï¸\",\n      isAvailable: i === 0, // Only first day is available\n    });\n  }\n\n  // Day 1 events\n  events.push({\n    id: \"team_building_1\",\n    title: \"Team Building\",\n    description: \"Fostering stronger connections and improving teamwork for better results.\",\n    start: setMinutes(setHours(today, 11), 0).toISOString(),\n    end: setMinutes(setHours(today, 11), 30).toISOString(),\n    type: \"event\",\n    icon: \"ðŸ¤\",\n    isAvailable: false,\n  });\n\n  events.push({\n    id: \"mentorship_1\",\n    title: \"Mentorship & Sponsorship\",\n    description: \"Guiding growth and providing support for individual and team success.\",\n    start: setMinutes(setHours(today, 11), 30).toISOString(),\n    end: setMinutes(setHours(today, 11), 50).toISOString(),\n    type: \"meeting\",\n    icon: \"ðŸŽ“\",\n    isAvailable: false,\n  });\n\n  events.push({\n    id: \"risk_1\",\n    title: \"Risk Assessment\",\n    description: \"Review the project's risk management plan and make necessary adjustments.\",\n    start: setMinutes(setHours(today, 12), 30).toISOString(),\n    end: setMinutes(setHours(today, 13), 30).toISOString(),\n    type: \"task\",\n    icon: \"âš ï¸\",\n    isAvailable: false,\n  });\n\n  // Day 2 events\n  const day2 = addDays(today, 1);\n  events.push({\n    id: \"agile_2\",\n    title: \"Agile Methodology\",\n    description: \"Enhancing flexibility and collaboration to deliver value faster.\",\n    start: setMinutes(setHours(day2, 11), 30).toISOString(),\n    end: setMinutes(setHours(day2, 11), 50).toISOString(),\n    type: \"meeting\",\n    icon: \"ðŸ”„\",\n    isAvailable: false,\n  });\n\n  // Day 3 events\n  const day3 = addDays(today, 2);\n  events.push({\n    id: \"devops_3\",\n    title: \"DevOps & CI/CD\",\n    description: \"I'd like to discuss our plan for the next quarter. I'll add the agenda later.\",\n    start: setMinutes(setHours(day3, 11), 0).toISOString(),\n    end: setMinutes(setHours(day3, 11), 30).toISOString(),\n    type: \"meeting\",\n    icon: \"âš™ï¸\",\n    isAvailable: false,\n  });\n\n  events.push({\n    id: \"knowledge_3\",\n    title: \"Knowledge Sharing\",\n    description: \"Discuss recent articles, or conferences that members have found valuable.\",\n    start: setMinutes(setHours(day3, 12), 30).toISOString(),\n    end: setMinutes(setHours(day3, 13), 30).toISOString(),\n    type: \"event\",\n    icon: \"ðŸ“š\",\n    isAvailable: false,\n  });\n\n  // Day 4 events\n  const day4 = addDays(today, 3);\n  events.push({\n    id: \"risk_4\",\n    title: \"Risk Assessment\",\n    description: \"Review the project's risk management plan and make necessary adjustments.\",\n    start: setMinutes(setHours(day4, 12), 30).toISOString(),\n    end: setMinutes(setHours(day4, 13), 30).toISOString(),\n    type: \"task\",\n    icon: \"âš ï¸\",\n    isAvailable: false,\n  });\n\n  return events;\n};\n\n// =============================================================================\n// Calendar Component\n// =============================================================================\n\nexport default function Calendar({\n  events: externalEvents,\n  projectName = \"Team Project - Timeline\",\n  view: externalView,\n  date: externalDate,\n  onDateChange,\n  onViewChange,\n  onEventClick,\n  onEventCreate,\n  onEventUpdate,\n  onEventDelete,\n  isLoading,\n  className,\n}: CalendarProps) {\n  const [internalEvents, setInternalEvents] = useState<CalendarEvent[]>(createDemoEvents);\n  const [internalView, setInternalView] = useState<CalendarView>(\"timeline\");\n  const [internalDate, setInternalDate] = useState(new Date());\n  const [createDialogOpen, setCreateDialogOpen] = useState(false);\n  const [createDialogDate, setCreateDialogDate] = useState<Date>(new Date());\n\n  // Use external state if provided\n  const events = externalEvents ?? internalEvents;\n  const view = externalView ?? internalView;\n  const date = externalDate ?? internalDate;\n\n  const handleDateChange = (newDate: Date) => {\n    if (onDateChange) {\n      onDateChange(newDate);\n    } else {\n      setInternalDate(newDate);\n    }\n  };\n\n  const handleViewChange = (newView: CalendarView) => {\n    if (onViewChange) {\n      onViewChange(newView);\n    } else {\n      setInternalView(newView);\n    }\n  };\n\n  const handleToday = () => {\n    handleDateChange(new Date());\n  };\n\n  const handleCreateEvent = (eventData: Partial<CalendarEvent>) => {\n    if (onEventCreate) {\n      onEventCreate(eventData);\n    } else {\n      const newEvent: CalendarEvent = {\n        id: `event_${Date.now()}`,\n        title: eventData.title || \"Untitled\",\n        description: eventData.description,\n        start: eventData.start || new Date().toISOString(),\n        end: eventData.end || new Date().toISOString(),\n        type: eventData.type || \"event\",\n        allDay: eventData.allDay,\n        location: eventData.location,\n        color: eventData.color,\n        isAvailable: true,\n      };\n      setInternalEvents((prev) => [...prev, newEvent]);\n    }\n  };\n\n  const handleEventClick = (event: CalendarEvent) => {\n    if (onEventClick) {\n      onEventClick(event);\n    } else {\n      console.log(\"Event clicked:\", event);\n    }\n  };\n\n  return (\n    <Card className={cn(\"w-full\", className)}>\n      <CardContent className=\"p-6\">\n        <CalendarHeader\n          date={date}\n          view={view}\n          projectName={projectName}\n          onDateChange={handleDateChange}\n          onViewChange={handleViewChange}\n          onToday={handleToday}\n          onCreateEvent={() => {\n            setCreateDialogDate(new Date());\n            setCreateDialogOpen(true);\n          }}\n        />\n\n        {view === \"timeline\" && (\n          <TimelineView\n            date={date}\n            events={events}\n            onEventClick={handleEventClick}\n          />\n        )}\n\n        <CreateEventDialog\n          open={createDialogOpen}\n          onOpenChange={setCreateDialogOpen}\n          onCreate={handleCreateEvent}\n          defaultDate={createDialogDate}\n        />\n      </CardContent>\n    </Card>\n  );\n}\n",
      "type": "registry:component",
      "target": "components/calendar-01/calendar.tsx"
    },
    {
      "path": "src/registry/blocks/calendar-01/types/calendar.ts",
      "content": "// =============================================================================\n// Calendar Types\n// =============================================================================\n\nexport type CalendarView = \"timeline\" | \"month\" | \"week\";\n\nexport type EventType = \"meeting\" | \"task\" | \"reminder\" | \"event\" | \"holiday\";\n\nexport interface CalendarEvent {\n  id: string;\n  title: string;\n  description?: string;\n  start: string; // ISO date string\n  end: string;\n  allDay?: boolean;\n  type: EventType;\n  color?: string;\n  icon?: string;\n  location?: string;\n  isAvailable?: boolean;\n  attendees?: {\n    id: string;\n    name: string;\n    avatar?: string;\n    status?: \"accepted\" | \"declined\" | \"tentative\" | \"pending\";\n  }[];\n  recurrence?: {\n    frequency: \"daily\" | \"weekly\" | \"monthly\" | \"yearly\";\n    interval?: number;\n    until?: string;\n  };\n  reminders?: number[]; // minutes before\n}\n\nexport interface CalendarProps {\n  events?: CalendarEvent[];\n  projectName?: string;\n  view?: CalendarView;\n  date?: Date;\n  onDateChange?: (date: Date) => void;\n  onViewChange?: (view: CalendarView) => void;\n  onEventClick?: (event: CalendarEvent) => void;\n  onEventCreate?: (event: Partial<CalendarEvent>) => void;\n  onEventUpdate?: (eventId: string, updates: Partial<CalendarEvent>) => void;\n  onEventDelete?: (eventId: string) => void;\n  isLoading?: boolean;\n  className?: string;\n}\n\nexport interface CalendarHeaderProps {\n  date: Date;\n  view: CalendarView;\n  projectName?: string;\n  onDateChange: (date: Date) => void;\n  onViewChange: (view: CalendarView) => void;\n  onToday: () => void;\n}\n\nexport interface MonthViewProps {\n  date: Date;\n  events: CalendarEvent[];\n  onDateClick: (date: Date) => void;\n  onEventClick?: (event: CalendarEvent) => void;\n}\n\nexport interface WeekViewProps {\n  date: Date;\n  events: CalendarEvent[];\n  onTimeClick: (date: Date) => void;\n  onEventClick?: (event: CalendarEvent) => void;\n}\n\nexport interface TimelineViewProps {\n  date: Date;\n  events: CalendarEvent[];\n  onEventClick?: (event: CalendarEvent) => void;\n}\n\nexport interface DayViewProps {\n  date: Date;\n  events: CalendarEvent[];\n  onTimeClick: (date: Date) => void;\n  onEventClick?: (event: CalendarEvent) => void;\n}\n\nexport interface EventCardProps {\n  event: CalendarEvent;\n  compact?: boolean;\n  onClick?: () => void;\n}\n",
      "type": "registry:component",
      "target": "components/calendar-01/types/calendar.ts"
    },
    {
      "path": "src/registry/blocks/calendar-01/components/index.ts",
      "content": "// Components\nexport { CalendarHeader } from \"./calendar-header\";\nexport { MonthView } from \"./month-view\";\nexport { WeekView } from \"./week-view\";\nexport { TimelineView } from \"./timeline-view\";\nexport { EventCard, eventTypeConfig } from \"./event-card\";\nexport { CreateEventDialog } from \"./create-event-dialog\";\n\n// Re-export types\nexport type {\n  CalendarView,\n  EventType,\n  CalendarEvent,\n  CalendarProps,\n  CalendarHeaderProps,\n  MonthViewProps,\n  WeekViewProps,\n  TimelineViewProps,\n  DayViewProps,\n  EventCardProps,\n} from \"../types/calendar\";\n",
      "type": "registry:component",
      "target": "components/calendar-01/components/index.ts"
    },
    {
      "path": "src/registry/blocks/calendar-01/components/event-card.tsx",
      "content": "\"use client\";\n\nimport { cn } from \"@/lib/utils\";\nimport { format } from \"date-fns\";\nimport {\n  Calendar,\n  Clock,\n  MapPin,\n  Users,\n  CheckCircle,\n  Bell,\n  Star,\n} from \"lucide-react\";\nimport type { CalendarEvent, EventType } from \"../types/calendar\";\n\nexport const eventTypeConfig: Record<\n  EventType,\n  { icon: typeof Calendar; color: string; bgColor: string }\n> = {\n  meeting: {\n    icon: Users,\n    color: \"text-blue-600 dark:text-blue-400\",\n    bgColor: \"bg-blue-100 dark:bg-blue-900/50\",\n  },\n  task: {\n    icon: CheckCircle,\n    color: \"text-green-600 dark:text-green-400\",\n    bgColor: \"bg-green-100 dark:bg-green-900/50\",\n  },\n  reminder: {\n    icon: Bell,\n    color: \"text-yellow-600 dark:text-yellow-400\",\n    bgColor: \"bg-yellow-100 dark:bg-yellow-900/50\",\n  },\n  event: {\n    icon: Star,\n    color: \"text-purple-600 dark:text-purple-400\",\n    bgColor: \"bg-purple-100 dark:bg-purple-900/50\",\n  },\n  holiday: {\n    icon: Calendar,\n    color: \"text-red-600 dark:text-red-400\",\n    bgColor: \"bg-red-100 dark:bg-red-900/50\",\n  },\n};\n\ninterface EventCardProps {\n  event: CalendarEvent;\n  compact?: boolean;\n  onClick?: () => void;\n}\n\nexport function EventCard({ event, compact = false, onClick }: EventCardProps) {\n  const config = eventTypeConfig[event.type];\n  const Icon = config.icon;\n  const eventColor = event.color || config.color.replace(\"text-\", \"\");\n\n  const formatEventTime = () => {\n    if (event.allDay) return \"All day\";\n    const start = new Date(event.start);\n    const end = new Date(event.end);\n    return `${format(start, \"h:mm a\")} - ${format(end, \"h:mm a\")}`;\n  };\n\n  if (compact) {\n    return (\n      <button\n        onClick={onClick}\n        className={cn(\n          \"w-full text-left px-2 py-1 rounded text-xs truncate transition-colors\",\n          config.bgColor,\n          config.color,\n          \"hover:opacity-80\"\n        )}\n        style={event.color ? { backgroundColor: event.color + \"20\", color: event.color } : undefined}\n      >\n        <span className=\"font-medium\">{event.title}</span>\n      </button>\n    );\n  }\n\n  return (\n    <button\n      onClick={onClick}\n      className={cn(\n        \"w-full text-left p-3 rounded-lg border transition-colors hover:border-primary/50\",\n        config.bgColor\n      )}\n      style={event.color ? { backgroundColor: event.color + \"10\" } : undefined}\n    >\n      <div className=\"flex items-start gap-3\">\n        <div\n          className={cn(\"p-2 rounded-lg\", config.bgColor)}\n          style={event.color ? { backgroundColor: event.color + \"20\" } : undefined}\n        >\n          <Icon\n            className={cn(\"size-4\", config.color)}\n            style={event.color ? { color: event.color } : undefined}\n          />\n        </div>\n        <div className=\"flex-1 min-w-0\">\n          <h4 className=\"font-medium text-sm truncate\">{event.title}</h4>\n          <div className=\"flex items-center gap-2 mt-1 text-xs text-muted-foreground\">\n            <Clock className=\"size-3\" />\n            <span>{formatEventTime()}</span>\n          </div>\n          {event.location && (\n            <div className=\"flex items-center gap-2 mt-1 text-xs text-muted-foreground\">\n              <MapPin className=\"size-3\" />\n              <span className=\"truncate\">{event.location}</span>\n            </div>\n          )}\n          {event.attendees && event.attendees.length > 0 && (\n            <div className=\"flex items-center gap-2 mt-2\">\n              <div className=\"flex -space-x-2\">\n                {event.attendees.slice(0, 3).map((attendee) => (\n                  <div\n                    key={attendee.id}\n                    className=\"size-6 rounded-full bg-muted border-2 border-background flex items-center justify-center text-[10px] font-medium\"\n                    title={attendee.name}\n                  >\n                    {attendee.avatar ? (\n                      <img\n                        src={attendee.avatar}\n                        alt={attendee.name}\n                        className=\"size-full rounded-full object-cover\"\n                      />\n                    ) : (\n                      attendee.name.slice(0, 2).toUpperCase()\n                    )}\n                  </div>\n                ))}\n                {event.attendees.length > 3 && (\n                  <div className=\"size-6 rounded-full bg-muted border-2 border-background flex items-center justify-center text-[10px] font-medium\">\n                    +{event.attendees.length - 3}\n                  </div>\n                )}\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    </button>\n  );\n}\n",
      "type": "registry:component",
      "target": "components/calendar-01/components/event-card.tsx"
    },
    {
      "path": "src/registry/blocks/calendar-01/components/calendar-header.tsx",
      "content": "\"use client\";\n\nimport { Button } from \"@/components/ui/button\";\nimport {\n  addDays,\n  addMonths,\n  addWeeks,\n  format,\n  subDays,\n  subMonths,\n  subWeeks,\n} from \"date-fns\";\nimport {\n  ChevronLeft,\n  ChevronRight,\n  Calendar,\n  SlidersHorizontal,\n  MoreHorizontal,\n} from \"lucide-react\";\nimport type { CalendarView } from \"../types/calendar\";\n\ninterface CalendarHeaderProps {\n  date: Date;\n  view: CalendarView;\n  projectName?: string;\n  onDateChange: (date: Date) => void;\n  onViewChange: (view: CalendarView) => void;\n  onToday: () => void;\n  onCreateEvent?: () => void;\n}\n\nexport function CalendarHeader({\n  date,\n  view,\n  projectName = \"Team Project - Timeline\",\n  onDateChange,\n  onViewChange,\n  onToday,\n  onCreateEvent,\n}: CalendarHeaderProps) {\n  const navigatePrev = () => {\n    switch (view) {\n      case \"month\":\n        onDateChange(subMonths(date, 1));\n        break;\n      case \"week\":\n        onDateChange(subWeeks(date, 1));\n        break;\n      case \"timeline\":\n        onDateChange(subDays(date, 4));\n        break;\n    }\n  };\n\n  const navigateNext = () => {\n    switch (view) {\n      case \"month\":\n        onDateChange(addMonths(date, 1));\n        break;\n      case \"week\":\n        onDateChange(addWeeks(date, 1));\n        break;\n      case \"timeline\":\n        onDateChange(addDays(date, 4));\n        break;\n    }\n  };\n\n  // Format date range for timeline view\n  const getDateRangeText = () => {\n    if (view === \"timeline\") {\n      const endDate = addDays(date, 3);\n      return `${format(date, \"dd\")} - ${format(endDate, \"dd MMM yyyy\")}`;\n    }\n    return format(date, \"MMMM yyyy\");\n  };\n\n  return (\n    <div className=\"flex items-center justify-between mb-6\">\n      {/* Left: Project name */}\n      <h2 className=\"text-lg font-semibold\">{projectName}</h2>\n\n      {/* Right: Controls */}\n      <div className=\"flex items-center gap-2\">\n        {/* Today button */}\n        <Button\n          variant=\"outline\"\n          size=\"sm\"\n          onClick={onToday}\n          aria-label=\"Go to today\"\n        >\n          Today\n        </Button>\n\n        {/* Navigation */}\n        <div className=\"flex items-center gap-1\">\n          <Button\n            variant=\"ghost\"\n            size=\"icon\"\n            className=\"size-8\"\n            onClick={navigatePrev}\n            aria-label=\"Previous period\"\n          >\n            <ChevronLeft className=\"size-4\" />\n          </Button>\n          <Button\n            variant=\"ghost\"\n            size=\"icon\"\n            className=\"size-8\"\n            onClick={navigateNext}\n            aria-label=\"Next period\"\n          >\n            <ChevronRight className=\"size-4\" />\n          </Button>\n        </div>\n\n        {/* Date Range */}\n        <Button variant=\"outline\" size=\"sm\" className=\"gap-2 font-normal\">\n          <Calendar className=\"size-4\" />\n          {getDateRangeText()}\n        </Button>\n\n        {/* Filter */}\n        <Button variant=\"outline\" size=\"sm\" className=\"gap-2\">\n          <SlidersHorizontal className=\"size-4\" />\n          Filter\n        </Button>\n\n        {/* More options */}\n        <Button variant=\"ghost\" size=\"icon\" className=\"size-8\" aria-label=\"More options\">\n          <MoreHorizontal className=\"size-4\" />\n        </Button>\n      </div>\n    </div>\n  );\n}\n",
      "type": "registry:component",
      "target": "components/calendar-01/components/calendar-header.tsx"
    },
    {
      "path": "src/registry/blocks/calendar-01/components/month-view.tsx",
      "content": "\"use client\";\n\nimport { useMemo } from \"react\";\nimport { cn } from \"@/lib/utils\";\nimport {\n  startOfMonth,\n  endOfMonth,\n  startOfWeek,\n  endOfWeek,\n  eachDayOfInterval,\n  format,\n  isSameMonth,\n  isSameDay,\n  isToday,\n} from \"date-fns\";\nimport { EventCard } from \"./event-card\";\nimport type { CalendarEvent } from \"../types/calendar\";\n\ninterface MonthViewProps {\n  date: Date;\n  events: CalendarEvent[];\n  onDateClick: (date: Date) => void;\n  onEventClick?: (event: CalendarEvent) => void;\n}\n\nexport function MonthView({\n  date,\n  events,\n  onDateClick,\n  onEventClick,\n}: MonthViewProps) {\n  const days = useMemo(() => {\n    const monthStart = startOfMonth(date);\n    const monthEnd = endOfMonth(date);\n    const calendarStart = startOfWeek(monthStart);\n    const calendarEnd = endOfWeek(monthEnd);\n    return eachDayOfInterval({ start: calendarStart, end: calendarEnd });\n  }, [date]);\n\n  const getEventsForDay = (day: Date) => {\n    return events.filter((event) => {\n      const eventStart = new Date(event.start);\n      const eventEnd = new Date(event.end);\n      return (\n        isSameDay(eventStart, day) ||\n        isSameDay(eventEnd, day) ||\n        (eventStart < day && eventEnd > day)\n      );\n    });\n  };\n\n  const weekDays = [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"];\n\n  return (\n    <div className=\"border rounded-lg overflow-hidden\">\n      {/* Week day headers */}\n      <div className=\"grid grid-cols-7 bg-muted\">\n        {weekDays.map((day) => (\n          <div\n            key={day}\n            className=\"py-2 text-center text-sm font-medium text-muted-foreground border-b\"\n          >\n            {day}\n          </div>\n        ))}\n      </div>\n\n      {/* Calendar grid */}\n      <div className=\"grid grid-cols-7\">\n        {days.map((day, index) => {\n          const dayEvents = getEventsForDay(day);\n          const isCurrentMonth = isSameMonth(day, date);\n          const isCurrentDay = isToday(day);\n\n          return (\n            <div\n              key={day.toISOString()}\n              className={cn(\n                \"min-h-[100px] p-1 border-b border-r cursor-pointer hover:bg-muted/50 transition-colors\",\n                index % 7 === 6 && \"border-r-0\",\n                !isCurrentMonth && \"bg-muted/30\"\n              )}\n              onClick={() => onDateClick(day)}\n            >\n              <div className=\"flex justify-between items-start mb-1\">\n                <span\n                  className={cn(\n                    \"inline-flex items-center justify-center size-7 text-sm rounded-full\",\n                    !isCurrentMonth && \"text-muted-foreground\",\n                    isCurrentDay && \"bg-primary text-primary-foreground font-semibold\"\n                  )}\n                >\n                  {format(day, \"d\")}\n                </span>\n              </div>\n\n              {/* Events */}\n              <div className=\"space-y-1\">\n                {dayEvents.slice(0, 3).map((event) => (\n                  <EventCard\n                    key={event.id}\n                    event={event}\n                    compact\n                    onClick={() => {\n                      onEventClick?.(event);\n                    }}\n                  />\n                ))}\n                {dayEvents.length > 3 && (\n                  <button className=\"w-full text-left px-2 py-0.5 text-xs text-muted-foreground hover:text-foreground\">\n                    +{dayEvents.length - 3} more\n                  </button>\n                )}\n              </div>\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n}\n",
      "type": "registry:component",
      "target": "components/calendar-01/components/month-view.tsx"
    },
    {
      "path": "src/registry/blocks/calendar-01/components/week-view.tsx",
      "content": "\"use client\";\n\nimport { useMemo } from \"react\";\nimport { cn } from \"@/lib/utils\";\nimport {\n  startOfWeek,\n  endOfWeek,\n  eachDayOfInterval,\n  eachHourOfInterval,\n  format,\n  isSameDay,\n  isToday,\n  startOfDay,\n  endOfDay,\n  getHours,\n  getMinutes,\n} from \"date-fns\";\nimport { eventTypeConfig } from \"./event-card\";\nimport type { CalendarEvent } from \"../types/calendar\";\n\ninterface WeekViewProps {\n  date: Date;\n  events: CalendarEvent[];\n  onTimeClick: (date: Date) => void;\n  onEventClick?: (event: CalendarEvent) => void;\n}\n\nexport function WeekView({\n  date,\n  events,\n  onTimeClick,\n  onEventClick,\n}: WeekViewProps) {\n  const days = useMemo(() => {\n    const weekStart = startOfWeek(date);\n    const weekEnd = endOfWeek(date);\n    return eachDayOfInterval({ start: weekStart, end: weekEnd });\n  }, [date]);\n\n  const hours = useMemo(() => {\n    const dayStart = startOfDay(new Date());\n    const dayEnd = endOfDay(new Date());\n    return eachHourOfInterval({ start: dayStart, end: dayEnd });\n  }, []);\n\n  const getEventsForDayAndHour = (day: Date, hour: number) => {\n    return events.filter((event) => {\n      const eventStart = new Date(event.start);\n      const eventHour = getHours(eventStart);\n      return isSameDay(eventStart, day) && eventHour === hour && !event.allDay;\n    });\n  };\n\n  const getAllDayEvents = (day: Date) => {\n    return events.filter((event) => {\n      const eventStart = new Date(event.start);\n      return event.allDay && isSameDay(eventStart, day);\n    });\n  };\n\n  const getEventPosition = (event: CalendarEvent) => {\n    const start = new Date(event.start);\n    const end = new Date(event.end);\n    const startMinutes = getHours(start) * 60 + getMinutes(start);\n    const duration = (end.getTime() - start.getTime()) / (1000 * 60);\n    return {\n      top: `${(startMinutes / (24 * 60)) * 100}%`,\n      height: `${Math.max((duration / (24 * 60)) * 100, 2)}%`,\n    };\n  };\n\n  return (\n    <div className=\"border rounded-lg overflow-hidden\">\n      {/* Header with day names */}\n      <div className=\"grid grid-cols-8 bg-muted border-b\">\n        <div className=\"p-2 text-center text-xs text-muted-foreground border-r\">\n          GMT\n        </div>\n        {days.map((day) => (\n          <div\n            key={day.toISOString()}\n            className={cn(\n              \"p-2 text-center border-r last:border-r-0\",\n              isToday(day) && \"bg-primary/10\"\n            )}\n          >\n            <p className=\"text-xs text-muted-foreground\">{format(day, \"EEE\")}</p>\n            <p\n              className={cn(\n                \"text-lg font-semibold\",\n                isToday(day) && \"text-primary\"\n              )}\n            >\n              {format(day, \"d\")}\n            </p>\n          </div>\n        ))}\n      </div>\n\n      {/* All-day events row */}\n      <div className=\"grid grid-cols-8 border-b bg-muted/50\">\n        <div className=\"p-2 text-xs text-muted-foreground border-r\">\n          All day\n        </div>\n        {days.map((day) => {\n          const allDayEvents = getAllDayEvents(day);\n          return (\n            <div key={day.toISOString()} className=\"p-1 border-r last:border-r-0 min-h-[40px]\">\n              {allDayEvents.map((event) => {\n                const config = eventTypeConfig[event.type];\n                return (\n                  <button\n                    key={event.id}\n                    onClick={() => onEventClick?.(event)}\n                    className={cn(\n                      \"w-full text-left px-2 py-0.5 rounded text-xs truncate mb-1\",\n                      config.bgColor,\n                      config.color\n                    )}\n                    style={event.color ? { backgroundColor: event.color + \"20\", color: event.color } : undefined}\n                  >\n                    {event.title}\n                  </button>\n                );\n              })}\n            </div>\n          );\n        })}\n      </div>\n\n      {/* Time grid */}\n      <div className=\"relative h-[600px] overflow-y-auto\">\n        <div className=\"grid grid-cols-8 min-h-full\">\n          {/* Time labels */}\n          <div className=\"border-r\">\n            {hours.map((hour, index) => (\n              <div\n                key={index}\n                className=\"h-12 border-b text-xs text-muted-foreground pr-2 text-right\"\n              >\n                {format(hour, \"h a\")}\n              </div>\n            ))}\n          </div>\n\n          {/* Day columns */}\n          {days.map((day) => (\n            <div key={day.toISOString()} className=\"relative border-r last:border-r-0\">\n              {hours.map((_, hourIndex) => (\n                <div\n                  key={hourIndex}\n                  className=\"h-12 border-b hover:bg-muted/50 cursor-pointer\"\n                  onClick={() => {\n                    const clickedDate = new Date(day);\n                    clickedDate.setHours(hourIndex);\n                    onTimeClick(clickedDate);\n                  }}\n                />\n              ))}\n\n              {/* Events overlay */}\n              {events\n                .filter((event) => {\n                  const eventStart = new Date(event.start);\n                  return isSameDay(eventStart, day) && !event.allDay;\n                })\n                .map((event) => {\n                  const config = eventTypeConfig[event.type];\n                  const position = getEventPosition(event);\n                  return (\n                    <button\n                      key={event.id}\n                      onClick={() => onEventClick?.(event)}\n                      className={cn(\n                        \"absolute left-1 right-1 px-2 py-1 rounded text-xs overflow-hidden\",\n                        config.bgColor,\n                        config.color,\n                        \"hover:opacity-80 transition-opacity\"\n                      )}\n                      style={{\n                        top: position.top,\n                        minHeight: \"20px\",\n                        ...(event.color ? { backgroundColor: event.color + \"20\", color: event.color } : {}),\n                      }}\n                    >\n                      <p className=\"font-medium truncate\">{event.title}</p>\n                      <p className=\"text-[10px] opacity-80\">\n                        {format(new Date(event.start), \"h:mm a\")}\n                      </p>\n                    </button>\n                  );\n                })}\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n}\n",
      "type": "registry:component",
      "target": "components/calendar-01/components/week-view.tsx"
    },
    {
      "path": "src/registry/blocks/calendar-01/components/timeline-view.tsx",
      "content": "\"use client\";\n\nimport { useMemo } from \"react\";\nimport { cn } from \"@/lib/utils\";\nimport { Button } from \"@/components/ui/button\";\nimport { format, addDays, isSameDay, startOfDay } from \"date-fns\";\nimport type { CalendarEvent, TimelineViewProps } from \"../types/calendar\";\n\n// Event icons - colored squares representing different event types\nconst eventIcons: Record<string, { bg: string; icon: string }> = {\n  meeting: { bg: \"bg-blue-100\", icon: \"ðŸ—“ï¸\" },\n  task: { bg: \"bg-green-100\", icon: \"âœ…\" },\n  reminder: { bg: \"bg-yellow-100\", icon: \"ðŸ””\" },\n  event: { bg: \"bg-purple-100\", icon: \"ðŸŽ‰\" },\n  holiday: { bg: \"bg-red-100\", icon: \"ðŸ–ï¸\" },\n};\n\ninterface TimelineEventCardProps {\n  event: CalendarEvent;\n  onClick?: () => void;\n}\n\nfunction TimelineEventCard({ event, onClick }: TimelineEventCardProps) {\n  const formatTime = (dateString: string) => {\n    try {\n      return format(new Date(dateString), \"hh.mm a.\").toLowerCase();\n    } catch {\n      return \"\";\n    }\n  };\n\n  const iconConfig = eventIcons[event.type] || eventIcons.event;\n  const isAvailable = event.isAvailable !== false;\n\n  return (\n    <div\n      className=\"bg-background rounded-xl border p-4 space-y-3 cursor-pointer hover:shadow-md transition-shadow\"\n      onClick={onClick}\n    >\n      {/* Icon and Title */}\n      <div className=\"flex items-start gap-3\">\n        <div\n          className={cn(\n            \"size-10 rounded-lg flex items-center justify-center text-lg shrink-0\",\n            iconConfig.bg\n          )}\n        >\n          {event.icon || iconConfig.icon}\n        </div>\n        <div className=\"min-w-0 flex-1\">\n          <h4 className=\"font-semibold text-sm line-clamp-2\">{event.title}</h4>\n          <p className=\"text-xs text-muted-foreground mt-0.5\">\n            {formatTime(event.start)} - {formatTime(event.end)}\n          </p>\n        </div>\n      </div>\n\n      {/* Description */}\n      {event.description && (\n        <p className=\"text-xs text-muted-foreground line-clamp-2\">\n          {event.description}\n        </p>\n      )}\n\n      {/* Action Button */}\n      <Button\n        variant={isAvailable ? \"default\" : \"secondary\"}\n        size=\"sm\"\n        className={cn(\n          \"w-full rounded-full text-xs\",\n          !isAvailable && \"text-muted-foreground cursor-not-allowed\"\n        )}\n        disabled={!isAvailable}\n      >\n        {isAvailable ? \"Join the Meeting\" : \"Not Yet Available\"}\n      </Button>\n    </div>\n  );\n}\n\nexport function TimelineView({ date, events, onEventClick }: TimelineViewProps) {\n  // Generate 4 days starting from the provided date\n  const days = useMemo(() => {\n    return Array.from({ length: 4 }, (_, i) => addDays(date, i));\n  }, [date]);\n\n  // Group events by day\n  const eventsByDay = useMemo(() => {\n    const grouped: Record<string, CalendarEvent[]> = {};\n\n    days.forEach((day) => {\n      const dayKey = format(day, \"yyyy-MM-dd\");\n      grouped[dayKey] = [];\n    });\n\n    events.forEach((event) => {\n      const eventDate = startOfDay(new Date(event.start));\n      days.forEach((day) => {\n        if (isSameDay(eventDate, day)) {\n          const dayKey = format(day, \"yyyy-MM-dd\");\n          if (grouped[dayKey]) {\n            grouped[dayKey].push(event);\n          }\n        }\n      });\n    });\n\n    // Sort events by start time within each day\n    Object.keys(grouped).forEach((dayKey) => {\n      grouped[dayKey].sort(\n        (a, b) => new Date(a.start).getTime() - new Date(b.start).getTime()\n      );\n    });\n\n    return grouped;\n  }, [events, days]);\n\n  return (\n    <div className=\"overflow-x-auto\">\n      <div className=\"grid grid-cols-4 gap-4 min-w-[800px]\">\n        {days.map((day) => {\n          const dayKey = format(day, \"yyyy-MM-dd\");\n          const dayEvents = eventsByDay[dayKey] || [];\n\n          return (\n            <div key={dayKey} className=\"flex flex-col\">\n              {/* Day Header */}\n              <div className=\"pb-4\">\n                <p className=\"text-sm text-muted-foreground\">\n                  {format(day, \"EEEE\")},{\" \"}\n                  <span className=\"text-foreground font-medium\">\n                    {format(day, \"d MMMM\")}\n                  </span>\n                </p>\n              </div>\n\n              {/* Events */}\n              <div className=\"space-y-3 flex-1\">\n                {dayEvents.map((event) => (\n                  <TimelineEventCard\n                    key={event.id}\n                    event={event}\n                    onClick={() => onEventClick?.(event)}\n                  />\n                ))}\n\n                {dayEvents.length === 0 && (\n                  <div className=\"h-32 flex items-center justify-center text-sm text-muted-foreground border border-dashed rounded-xl\">\n                    No events\n                  </div>\n                )}\n              </div>\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n}\n",
      "type": "registry:component",
      "target": "components/calendar-01/components/timeline-view.tsx"
    },
    {
      "path": "src/registry/blocks/calendar-01/components/create-event-dialog.tsx",
      "content": "\"use client\";\n\nimport { useState } from \"react\";\nimport { cn } from \"@/lib/utils\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Switch } from \"@/components/ui/switch\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport { eventTypeConfig } from \"./event-card\";\nimport { Loader2, Plus } from \"lucide-react\";\nimport { format } from \"date-fns\";\nimport type { CalendarEvent, EventType } from \"../types/calendar\";\n\ninterface CreateEventDialogProps {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  onCreate: (event: Partial<CalendarEvent>) => void;\n  defaultDate?: Date;\n}\n\nexport function CreateEventDialog({\n  open,\n  onOpenChange,\n  onCreate,\n  defaultDate = new Date(),\n}: CreateEventDialogProps) {\n  const [title, setTitle] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [type, setType] = useState<EventType>(\"meeting\");\n  const [startDate, setStartDate] = useState(format(defaultDate, \"yyyy-MM-dd\"));\n  const [startTime, setStartTime] = useState(format(defaultDate, \"HH:mm\"));\n  const [endDate, setEndDate] = useState(format(defaultDate, \"yyyy-MM-dd\"));\n  const [endTime, setEndTime] = useState(\n    format(new Date(defaultDate.getTime() + 60 * 60 * 1000), \"HH:mm\")\n  );\n  const [allDay, setAllDay] = useState(false);\n  const [location, setLocation] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError(null);\n\n    if (!title.trim()) {\n      setError(\"Title is required\");\n      return;\n    }\n\n    setIsLoading(true);\n    try {\n      const start = allDay\n        ? `${startDate}T00:00:00`\n        : `${startDate}T${startTime}:00`;\n      const end = allDay\n        ? `${endDate}T23:59:59`\n        : `${endDate}T${endTime}:00`;\n\n      await onCreate({\n        title: title.trim(),\n        description: description.trim() || undefined,\n        type,\n        start,\n        end,\n        allDay,\n        location: location.trim() || undefined,\n      });\n\n      // Reset form\n      setTitle(\"\");\n      setDescription(\"\");\n      setType(\"meeting\");\n      setAllDay(false);\n      setLocation(\"\");\n      onOpenChange(false);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : \"Failed to create event\");\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"sm:max-w-lg\">\n        <DialogHeader>\n          <DialogTitle>Create Event</DialogTitle>\n          <DialogDescription>\n            Add a new event to your calendar.\n          </DialogDescription>\n        </DialogHeader>\n\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"title\">Title</Label>\n            <Input\n              id=\"title\"\n              placeholder=\"Event title\"\n              value={title}\n              onChange={(e) => {\n                setTitle(e.target.value);\n                setError(null);\n              }}\n              className={cn(error && \"border-destructive\")}\n            />\n            {error && <p className=\"text-xs text-destructive\">{error}</p>}\n          </div>\n\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div className=\"space-y-2\">\n              <Label>Type</Label>\n              <Select value={type} onValueChange={(v) => setType(v as EventType)}>\n                <SelectTrigger>\n                  <SelectValue />\n                </SelectTrigger>\n                <SelectContent>\n                  {(Object.keys(eventTypeConfig) as EventType[]).map((t) => {\n                    const config = eventTypeConfig[t];\n                    const Icon = config.icon;\n                    return (\n                      <SelectItem key={t} value={t}>\n                        <div className=\"flex items-center gap-2\">\n                          <Icon className={cn(\"size-4\", config.color)} />\n                          <span className=\"capitalize\">{t}</span>\n                        </div>\n                      </SelectItem>\n                    );\n                  })}\n                </SelectContent>\n              </Select>\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"location\">Location</Label>\n              <Input\n                id=\"location\"\n                placeholder=\"Add location\"\n                value={location}\n                onChange={(e) => setLocation(e.target.value)}\n              />\n            </div>\n          </div>\n\n          <div className=\"flex items-center justify-between\">\n            <Label htmlFor=\"allDay\">All day</Label>\n            <Switch\n              id=\"allDay\"\n              checked={allDay}\n              onCheckedChange={setAllDay}\n            />\n          </div>\n\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div className=\"space-y-2\">\n              <Label>Start</Label>\n              <div className=\"flex gap-2\">\n                <Input\n                  type=\"date\"\n                  value={startDate}\n                  onChange={(e) => setStartDate(e.target.value)}\n                  className=\"flex-1\"\n                />\n                {!allDay && (\n                  <Input\n                    type=\"time\"\n                    value={startTime}\n                    onChange={(e) => setStartTime(e.target.value)}\n                    className=\"w-24\"\n                  />\n                )}\n              </div>\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label>End</Label>\n              <div className=\"flex gap-2\">\n                <Input\n                  type=\"date\"\n                  value={endDate}\n                  onChange={(e) => setEndDate(e.target.value)}\n                  className=\"flex-1\"\n                />\n                {!allDay && (\n                  <Input\n                    type=\"time\"\n                    value={endTime}\n                    onChange={(e) => setEndTime(e.target.value)}\n                    className=\"w-24\"\n                  />\n                )}\n              </div>\n            </div>\n          </div>\n\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"description\">Description (optional)</Label>\n            <Textarea\n              id=\"description\"\n              placeholder=\"Add description\"\n              value={description}\n              onChange={(e) => setDescription(e.target.value)}\n              rows={3}\n            />\n          </div>\n\n          <DialogFooter>\n            <Button\n              type=\"button\"\n              variant=\"outline\"\n              onClick={() => onOpenChange(false)}\n            >\n              Cancel\n            </Button>\n            <Button type=\"submit\" disabled={isLoading}>\n              {isLoading ? (\n                <Loader2 className=\"size-4 mr-2 animate-spin\" />\n              ) : (\n                <Plus className=\"size-4 mr-2\" />\n              )}\n              Create Event\n            </Button>\n          </DialogFooter>\n        </form>\n      </DialogContent>\n    </Dialog>\n  );\n}\n",
      "type": "registry:component",
      "target": "components/calendar-01/components/create-event-dialog.tsx"
    }
  ],
  "meta": {
    "image": "/r/previews/calendar-01.webp"
  },
  "categories": [
    "calendar"
  ],
  "type": "registry:block"
}