{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "settings-01",
  "title": "Settings 01",
  "description": "A comprehensive user settings page with tabs for profile, notifications, security, billing, and appearance",
  "dependencies": [
    "lucide-react"
  ],
  "registryDependencies": [
    "button",
    "card",
    "tabs",
    "input",
    "label",
    "switch",
    "avatar",
    "badge",
    "separator",
    "radio-group"
  ],
  "files": [
    {
      "path": "src/registry/blocks/settings-01/settings.tsx",
      "content": "\"use client\";\n\nimport { useState } from \"react\";\nimport { cn } from \"@/lib/utils\";\nimport { TabsContent } from \"@/components/ui/tabs\";\nimport {\n  SettingsLayout,\n  ProfileForm,\n  NotificationSettings,\n  SecuritySettings,\n  BillingSettings,\n  AppearanceSettings,\n} from \"./components\";\nimport type { SettingsTab, SettingsState, SettingsProps } from \"./types/settings\";\n\n// =============================================================================\n// Demo Settings Data\n// =============================================================================\n\nconst demoSettings: SettingsState = {\n  profile: {\n    id: \"user-1\",\n    name: \"John Doe\",\n    email: \"john@example.com\",\n    username: \"johndoe\",\n    avatar: \"https://avatar.vercel.sh/johndoe\",\n    bio: \"Software engineer passionate about building great products.\",\n    company: \"Acme Inc.\",\n    location: \"San Francisco, CA\",\n    website: \"https://johndoe.dev\",\n    phone: \"+1 (555) 000-0000\",\n  },\n  notifications: {\n    emailMarketing: true,\n    emailProduct: true,\n    emailSecurity: true,\n    pushEnabled: true,\n    pushMentions: true,\n    pushComments: false,\n    pushUpdates: true,\n  },\n  security: {\n    twoFactorEnabled: false,\n    sessions: [\n      {\n        id: \"1\",\n        device: \"Desktop\",\n        browser: \"Chrome on macOS\",\n        location: \"San Francisco, CA\",\n        lastActive: new Date().toISOString(),\n        current: true,\n      },\n      {\n        id: \"2\",\n        device: \"Mobile\",\n        browser: \"Safari on iPhone\",\n        location: \"San Francisco, CA\",\n        lastActive: new Date(Date.now() - 2 * 60 * 60 * 1000).toISOString(),\n        current: false,\n      },\n      {\n        id: \"3\",\n        device: \"Laptop\",\n        browser: \"Firefox on Windows\",\n        location: \"New York, NY\",\n        lastActive: new Date(Date.now() - 24 * 60 * 60 * 1000).toISOString(),\n        current: false,\n      },\n    ],\n  },\n  billing: {\n    plan: \"pro\",\n    billingCycle: \"monthly\",\n    nextBillingDate: new Date(Date.now() + 30 * 24 * 60 * 60 * 1000).toISOString(),\n    paymentMethod: {\n      type: \"card\",\n      brand: \"Visa\",\n      last4: \"4242\",\n      expiresAt: \"12/25\",\n    },\n  },\n  appearance: {\n    theme: \"system\",\n    accentColor: \"blue\",\n    fontSize: \"medium\",\n    reducedMotion: false,\n  },\n};\n\n// =============================================================================\n// Demo Actions\n// =============================================================================\n\nconst createDemoActions = (\n  settings: SettingsState,\n  setSettings: React.Dispatch<React.SetStateAction<SettingsState>>\n) => ({\n  onUpdateProfile: async (data: Partial<SettingsState[\"profile\"]>) => {\n    await new Promise((resolve) => setTimeout(resolve, 500));\n    setSettings((prev) => ({\n      ...prev,\n      profile: { ...prev.profile, ...data },\n    }));\n  },\n  onUpdateNotifications: async (data: Partial<SettingsState[\"notifications\"]>) => {\n    await new Promise((resolve) => setTimeout(resolve, 500));\n    setSettings((prev) => ({\n      ...prev,\n      notifications: { ...prev.notifications, ...data },\n    }));\n  },\n  onUpdatePassword: async (currentPassword: string, newPassword: string) => {\n    await new Promise((resolve) => setTimeout(resolve, 500));\n    console.log(\"Password updated\");\n  },\n  onToggle2FA: async (enabled: boolean) => {\n    await new Promise((resolve) => setTimeout(resolve, 500));\n    setSettings((prev) => ({\n      ...prev,\n      security: { ...prev.security, twoFactorEnabled: enabled },\n    }));\n  },\n  onRevokeSession: async (sessionId: string) => {\n    await new Promise((resolve) => setTimeout(resolve, 500));\n    setSettings((prev) => ({\n      ...prev,\n      security: {\n        ...prev.security,\n        sessions: prev.security.sessions.filter((s) => s.id !== sessionId),\n      },\n    }));\n  },\n  onUpdateAppearance: async (data: Partial<SettingsState[\"appearance\"]>) => {\n    await new Promise((resolve) => setTimeout(resolve, 500));\n    setSettings((prev) => ({\n      ...prev,\n      appearance: { ...prev.appearance, ...data },\n    }));\n  },\n});\n\n// =============================================================================\n// Main Component\n// =============================================================================\n\nexport default function Settings01({\n  defaultTab = \"profile\",\n  settings: propSettings,\n  onUpdateProfile,\n  onUpdateNotifications,\n  onUpdatePassword,\n  onToggle2FA,\n  onRevokeSession,\n  onUpdateAppearance,\n  className,\n}: SettingsProps) {\n  const [activeTab, setActiveTab] = useState<SettingsTab>(defaultTab);\n  const [internalSettings, setInternalSettings] = useState<SettingsState>(demoSettings);\n\n  // Merge prop settings with demo settings\n  const settings: SettingsState = {\n    ...internalSettings,\n    ...propSettings,\n    profile: { ...internalSettings.profile, ...propSettings?.profile },\n    notifications: { ...internalSettings.notifications, ...propSettings?.notifications },\n    security: { ...internalSettings.security, ...propSettings?.security },\n    billing: { ...internalSettings.billing, ...propSettings?.billing },\n    appearance: { ...internalSettings.appearance, ...propSettings?.appearance },\n  };\n\n  // Create demo actions if not provided\n  const demoActions = createDemoActions(internalSettings, setInternalSettings);\n\n  return (\n    <div className={cn(\"p-6\", className)}>\n      <SettingsLayout activeTab={activeTab} onTabChange={setActiveTab}>\n        <TabsContent value=\"profile\">\n          <ProfileForm\n            profile={settings.profile}\n            onUpdate={onUpdateProfile ?? demoActions.onUpdateProfile}\n          />\n        </TabsContent>\n\n        <TabsContent value=\"notifications\">\n          <NotificationSettings\n            preferences={settings.notifications}\n            onUpdate={onUpdateNotifications ?? demoActions.onUpdateNotifications}\n          />\n        </TabsContent>\n\n        <TabsContent value=\"security\">\n          <SecuritySettings\n            security={settings.security}\n            onUpdatePassword={onUpdatePassword ?? demoActions.onUpdatePassword}\n            onToggle2FA={onToggle2FA ?? demoActions.onToggle2FA}\n            onRevokeSession={onRevokeSession ?? demoActions.onRevokeSession}\n          />\n        </TabsContent>\n\n        <TabsContent value=\"billing\">\n          <BillingSettings\n            billing={settings.billing}\n            onManageBilling={() => console.log(\"Manage billing\")}\n            onChangePlan={() => console.log(\"Change plan\")}\n          />\n        </TabsContent>\n\n        <TabsContent value=\"appearance\">\n          <AppearanceSettings\n            appearance={settings.appearance}\n            onUpdate={onUpdateAppearance ?? demoActions.onUpdateAppearance}\n          />\n        </TabsContent>\n      </SettingsLayout>\n    </div>\n  );\n}\n\n// =============================================================================\n// Named Exports\n// =============================================================================\n\nexport { Settings01 };\n\n// Re-export types\nexport type {\n  SettingsTab,\n  UserProfile,\n  NotificationPreferences,\n  SecuritySettings as SecuritySettingsType,\n  Session,\n  BillingInfo,\n  AppearanceSettings as AppearanceSettingsType,\n  SettingsState,\n  SettingsProps,\n} from \"./types/settings\";\n",
      "type": "registry:component",
      "target": "components/settings-01/settings.tsx"
    },
    {
      "path": "src/registry/blocks/settings-01/types/settings.ts",
      "content": "// =============================================================================\n// Settings Types\n// =============================================================================\n\nexport type SettingsTab = \"profile\" | \"notifications\" | \"security\" | \"billing\" | \"appearance\";\n\nexport interface UserProfile {\n  id: string;\n  name: string;\n  email: string;\n  avatar?: string;\n  bio?: string;\n  username?: string;\n  phone?: string;\n  website?: string;\n  company?: string;\n  location?: string;\n}\n\nexport interface NotificationPreferences {\n  emailMarketing: boolean;\n  emailProduct: boolean;\n  emailSecurity: boolean;\n  pushEnabled: boolean;\n  pushMentions: boolean;\n  pushComments: boolean;\n  pushUpdates: boolean;\n}\n\nexport interface SecuritySettings {\n  twoFactorEnabled: boolean;\n  sessions: Session[];\n}\n\nexport interface Session {\n  id: string;\n  device: string;\n  browser: string;\n  location: string;\n  lastActive: string;\n  current: boolean;\n}\n\nexport interface BillingInfo {\n  plan: \"free\" | \"pro\" | \"enterprise\";\n  billingCycle: \"monthly\" | \"yearly\";\n  nextBillingDate?: string;\n  paymentMethod?: {\n    type: \"card\" | \"paypal\";\n    last4?: string;\n    brand?: string;\n    expiresAt?: string;\n  };\n}\n\nexport interface AppearanceSettings {\n  theme: \"light\" | \"dark\" | \"system\";\n  accentColor: string;\n  fontSize: \"small\" | \"medium\" | \"large\";\n  reducedMotion: boolean;\n}\n\nexport interface SettingsState {\n  profile: UserProfile;\n  notifications: NotificationPreferences;\n  security: SecuritySettings;\n  billing: BillingInfo;\n  appearance: AppearanceSettings;\n}\n\nexport interface SettingsProps {\n  defaultTab?: SettingsTab;\n  settings?: Partial<SettingsState>;\n  onUpdateProfile?: (data: Partial<UserProfile>) => Promise<void>;\n  onUpdateNotifications?: (data: Partial<NotificationPreferences>) => Promise<void>;\n  onUpdatePassword?: (currentPassword: string, newPassword: string) => Promise<void>;\n  onToggle2FA?: (enabled: boolean) => Promise<void>;\n  onRevokeSession?: (sessionId: string) => Promise<void>;\n  onUpdateAppearance?: (data: Partial<AppearanceSettings>) => Promise<void>;\n  className?: string;\n}\n",
      "type": "registry:component",
      "target": "components/settings-01/types/settings.ts"
    },
    {
      "path": "src/registry/blocks/settings-01/components/index.ts",
      "content": "// Components\nexport { SettingsLayout } from \"./settings-layout\";\nexport { ProfileForm } from \"./profile-form\";\nexport { NotificationSettings } from \"./notification-settings\";\nexport { SecuritySettings } from \"./security-settings\";\nexport { BillingSettings } from \"./billing-settings\";\nexport { AppearanceSettings } from \"./appearance-settings\";\n\n// Re-export types\nexport type {\n  SettingsTab,\n  UserProfile,\n  NotificationPreferences,\n  SecuritySettings as SecuritySettingsType,\n  Session,\n  BillingInfo,\n  AppearanceSettings as AppearanceSettingsType,\n  SettingsState,\n  SettingsProps,\n} from \"../types/settings\";\n",
      "type": "registry:component",
      "target": "components/settings-01/components/index.ts"
    },
    {
      "path": "src/registry/blocks/settings-01/components/settings-layout.tsx",
      "content": "\"use client\";\n\nimport { cn } from \"@/lib/utils\";\nimport { Tabs, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { User, Bell, Shield, CreditCard, Palette } from \"lucide-react\";\nimport type { SettingsTab } from \"../types/settings\";\n\ninterface SettingsLayoutProps {\n  activeTab: SettingsTab;\n  onTabChange: (tab: SettingsTab) => void;\n  children: React.ReactNode;\n  className?: string;\n}\n\nconst tabs = [\n  { id: \"profile\" as const, label: \"Profile\", icon: User },\n  { id: \"notifications\" as const, label: \"Notifications\", icon: Bell },\n  { id: \"security\" as const, label: \"Security\", icon: Shield },\n  { id: \"billing\" as const, label: \"Billing\", icon: CreditCard },\n  { id: \"appearance\" as const, label: \"Appearance\", icon: Palette },\n];\n\nexport function SettingsLayout({\n  activeTab,\n  onTabChange,\n  children,\n  className,\n}: SettingsLayoutProps) {\n  return (\n    <div className={cn(\"w-full max-w-4xl mx-auto\", className)}>\n      <div className=\"space-y-1 mb-8\">\n        <h1 className=\"text-2xl font-bold tracking-tight\">Settings</h1>\n        <p className=\"text-muted-foreground\">\n          Manage your account settings and preferences.\n        </p>\n      </div>\n\n      <Tabs value={activeTab} onValueChange={(v) => onTabChange(v as SettingsTab)}>\n        <TabsList className=\"w-full justify-start overflow-x-auto flex-nowrap h-auto p-1 mb-8\">\n          {tabs.map((tab) => {\n            const Icon = tab.icon;\n            return (\n              <TabsTrigger\n                key={tab.id}\n                value={tab.id}\n                className=\"flex items-center gap-2 px-4 py-2\"\n              >\n                <Icon className=\"size-4\" />\n                <span className=\"hidden sm:inline\">{tab.label}</span>\n              </TabsTrigger>\n            );\n          })}\n        </TabsList>\n        {children}\n      </Tabs>\n    </div>\n  );\n}\n",
      "type": "registry:component",
      "target": "components/settings-01/components/settings-layout.tsx"
    },
    {
      "path": "src/registry/blocks/settings-01/components/profile-form.tsx",
      "content": "\"use client\";\n\nimport { useState } from \"react\";\nimport { cn } from \"@/lib/utils\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from \"@/components/ui/card\";\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\nimport { Camera, Loader2 } from \"lucide-react\";\nimport type { UserProfile } from \"../types/settings\";\n\ninterface ProfileFormProps {\n  profile: UserProfile;\n  onUpdate?: (data: Partial<UserProfile>) => Promise<void>;\n  className?: string;\n}\n\nexport function ProfileForm({ profile, onUpdate, className }: ProfileFormProps) {\n  const [formData, setFormData] = useState(profile);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!onUpdate) return;\n\n    setIsLoading(true);\n    try {\n      await onUpdate(formData);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleChange = (field: keyof UserProfile, value: string) => {\n    setFormData((prev) => ({ ...prev, [field]: value }));\n  };\n\n  return (\n    <Card className={cn(className)}>\n      <CardHeader>\n        <CardTitle>Profile</CardTitle>\n        <CardDescription>\n          Update your profile information visible to other users.\n        </CardDescription>\n      </CardHeader>\n      <CardContent>\n        <form onSubmit={handleSubmit} className=\"space-y-6\">\n          {/* Avatar */}\n          <div className=\"flex items-center gap-4\">\n            <div className=\"relative\">\n              <Avatar className=\"size-20\">\n                <AvatarImage src={formData.avatar} />\n                <AvatarFallback className=\"text-lg\">\n                  {formData.name?.slice(0, 2).toUpperCase() || \"U\"}\n                </AvatarFallback>\n              </Avatar>\n              <Button\n                type=\"button\"\n                variant=\"secondary\"\n                size=\"icon\"\n                className=\"absolute -bottom-1 -right-1 size-7 rounded-full\"\n              >\n                <Camera className=\"size-3.5\" />\n              </Button>\n            </div>\n            <div className=\"space-y-1\">\n              <p className=\"text-sm font-medium\">Profile photo</p>\n              <p className=\"text-xs text-muted-foreground\">\n                JPG, PNG or GIF. Max 2MB.\n              </p>\n            </div>\n          </div>\n\n          {/* Form fields */}\n          <div className=\"grid gap-4 sm:grid-cols-2\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"name\">Full name</Label>\n              <Input\n                id=\"name\"\n                value={formData.name}\n                onChange={(e) => handleChange(\"name\", e.target.value)}\n                placeholder=\"John Doe\"\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"username\">Username</Label>\n              <Input\n                id=\"username\"\n                value={formData.username || \"\"}\n                onChange={(e) => handleChange(\"username\", e.target.value)}\n                placeholder=\"johndoe\"\n              />\n            </div>\n            <div className=\"space-y-2 sm:col-span-2\">\n              <Label htmlFor=\"email\">Email</Label>\n              <Input\n                id=\"email\"\n                type=\"email\"\n                value={formData.email}\n                onChange={(e) => handleChange(\"email\", e.target.value)}\n                placeholder=\"john@example.com\"\n              />\n            </div>\n            <div className=\"space-y-2 sm:col-span-2\">\n              <Label htmlFor=\"bio\">Bio</Label>\n              <textarea\n                id=\"bio\"\n                value={formData.bio || \"\"}\n                onChange={(e) => handleChange(\"bio\", e.target.value)}\n                placeholder=\"Tell us about yourself...\"\n                className=\"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\"\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"company\">Company</Label>\n              <Input\n                id=\"company\"\n                value={formData.company || \"\"}\n                onChange={(e) => handleChange(\"company\", e.target.value)}\n                placeholder=\"Acme Inc.\"\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"location\">Location</Label>\n              <Input\n                id=\"location\"\n                value={formData.location || \"\"}\n                onChange={(e) => handleChange(\"location\", e.target.value)}\n                placeholder=\"San Francisco, CA\"\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"website\">Website</Label>\n              <Input\n                id=\"website\"\n                value={formData.website || \"\"}\n                onChange={(e) => handleChange(\"website\", e.target.value)}\n                placeholder=\"https://example.com\"\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"phone\">Phone</Label>\n              <Input\n                id=\"phone\"\n                type=\"tel\"\n                value={formData.phone || \"\"}\n                onChange={(e) => handleChange(\"phone\", e.target.value)}\n                placeholder=\"+1 (555) 000-0000\"\n              />\n            </div>\n          </div>\n\n          <div className=\"flex justify-end\">\n            <Button type=\"submit\" disabled={isLoading}>\n              {isLoading && <Loader2 className=\"size-4 mr-2 animate-spin\" />}\n              Save changes\n            </Button>\n          </div>\n        </form>\n      </CardContent>\n    </Card>\n  );\n}\n",
      "type": "registry:component",
      "target": "components/settings-01/components/profile-form.tsx"
    },
    {
      "path": "src/registry/blocks/settings-01/components/notification-settings.tsx",
      "content": "\"use client\";\n\nimport { useState } from \"react\";\nimport { cn } from \"@/lib/utils\";\nimport { Button } from \"@/components/ui/button\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { Label } from \"@/components/ui/label\";\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from \"@/components/ui/card\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { Loader2 } from \"lucide-react\";\nimport type { NotificationPreferences } from \"../types/settings\";\n\ninterface NotificationSettingsProps {\n  preferences: NotificationPreferences;\n  onUpdate?: (data: Partial<NotificationPreferences>) => Promise<void>;\n  className?: string;\n}\n\ninterface SettingItemProps {\n  id: string;\n  label: string;\n  description: string;\n  checked: boolean;\n  onCheckedChange: (checked: boolean) => void;\n}\n\nfunction SettingItem({ id, label, description, checked, onCheckedChange }: SettingItemProps) {\n  return (\n    <div className=\"flex items-center justify-between space-x-4\">\n      <div className=\"flex-1 space-y-0.5\">\n        <Label htmlFor={id} className=\"text-sm font-medium cursor-pointer\">\n          {label}\n        </Label>\n        <p className=\"text-sm text-muted-foreground\">{description}</p>\n      </div>\n      <Switch id={id} checked={checked} onCheckedChange={onCheckedChange} />\n    </div>\n  );\n}\n\nexport function NotificationSettings({\n  preferences,\n  onUpdate,\n  className,\n}: NotificationSettingsProps) {\n  const [formData, setFormData] = useState(preferences);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const handleToggle = (field: keyof NotificationPreferences, value: boolean) => {\n    setFormData((prev) => ({ ...prev, [field]: value }));\n  };\n\n  const handleSubmit = async () => {\n    if (!onUpdate) return;\n\n    setIsLoading(true);\n    try {\n      await onUpdate(formData);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <div className={cn(\"space-y-6\", className)}>\n      {/* Email Notifications */}\n      <Card>\n        <CardHeader>\n          <CardTitle>Email Notifications</CardTitle>\n          <CardDescription>\n            Configure which emails you'd like to receive.\n          </CardDescription>\n        </CardHeader>\n        <CardContent className=\"space-y-4\">\n          <SettingItem\n            id=\"emailMarketing\"\n            label=\"Marketing emails\"\n            description=\"Receive emails about new features and product updates.\"\n            checked={formData.emailMarketing}\n            onCheckedChange={(v) => handleToggle(\"emailMarketing\", v)}\n          />\n          <Separator />\n          <SettingItem\n            id=\"emailProduct\"\n            label=\"Product updates\"\n            description=\"Get notified when we release new features or improvements.\"\n            checked={formData.emailProduct}\n            onCheckedChange={(v) => handleToggle(\"emailProduct\", v)}\n          />\n          <Separator />\n          <SettingItem\n            id=\"emailSecurity\"\n            label=\"Security alerts\"\n            description=\"Receive important security notifications about your account.\"\n            checked={formData.emailSecurity}\n            onCheckedChange={(v) => handleToggle(\"emailSecurity\", v)}\n          />\n        </CardContent>\n      </Card>\n\n      {/* Push Notifications */}\n      <Card>\n        <CardHeader>\n          <CardTitle>Push Notifications</CardTitle>\n          <CardDescription>\n            Configure push notifications on your devices.\n          </CardDescription>\n        </CardHeader>\n        <CardContent className=\"space-y-4\">\n          <SettingItem\n            id=\"pushEnabled\"\n            label=\"Enable push notifications\"\n            description=\"Allow notifications to be sent to your device.\"\n            checked={formData.pushEnabled}\n            onCheckedChange={(v) => handleToggle(\"pushEnabled\", v)}\n          />\n          {formData.pushEnabled && (\n            <>\n              <Separator />\n              <SettingItem\n                id=\"pushMentions\"\n                label=\"Mentions\"\n                description=\"Notify when someone mentions you.\"\n                checked={formData.pushMentions}\n                onCheckedChange={(v) => handleToggle(\"pushMentions\", v)}\n              />\n              <Separator />\n              <SettingItem\n                id=\"pushComments\"\n                label=\"Comments\"\n                description=\"Notify when someone comments on your content.\"\n                checked={formData.pushComments}\n                onCheckedChange={(v) => handleToggle(\"pushComments\", v)}\n              />\n              <Separator />\n              <SettingItem\n                id=\"pushUpdates\"\n                label=\"Updates\"\n                description=\"Notify about important updates and activity.\"\n                checked={formData.pushUpdates}\n                onCheckedChange={(v) => handleToggle(\"pushUpdates\", v)}\n              />\n            </>\n          )}\n        </CardContent>\n      </Card>\n\n      <div className=\"flex justify-end\">\n        <Button onClick={handleSubmit} disabled={isLoading}>\n          {isLoading && <Loader2 className=\"size-4 mr-2 animate-spin\" />}\n          Save preferences\n        </Button>\n      </div>\n    </div>\n  );\n}\n",
      "type": "registry:component",
      "target": "components/settings-01/components/notification-settings.tsx"
    },
    {
      "path": "src/registry/blocks/settings-01/components/security-settings.tsx",
      "content": "\"use client\";\n\nimport { useState } from \"react\";\nimport { cn } from \"@/lib/utils\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { Badge } from \"@/components/ui/badge\";\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from \"@/components/ui/card\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { Loader2, Monitor, Smartphone, Laptop, LogOut, Shield } from \"lucide-react\";\nimport type { SecuritySettings as SecuritySettingsType, Session } from \"../types/settings\";\n\ninterface SecuritySettingsProps {\n  security: SecuritySettingsType;\n  onUpdatePassword?: (currentPassword: string, newPassword: string) => Promise<void>;\n  onToggle2FA?: (enabled: boolean) => Promise<void>;\n  onRevokeSession?: (sessionId: string) => Promise<void>;\n  className?: string;\n}\n\nconst deviceIcons: Record<string, typeof Monitor> = {\n  desktop: Monitor,\n  mobile: Smartphone,\n  laptop: Laptop,\n};\n\nfunction SessionItem({\n  session,\n  onRevoke,\n}: {\n  session: Session;\n  onRevoke?: (id: string) => void;\n}) {\n  const Icon = deviceIcons[session.device.toLowerCase()] || Monitor;\n\n  return (\n    <div className=\"flex items-start justify-between gap-4 py-3\">\n      <div className=\"flex items-start gap-3\">\n        <div className=\"size-10 rounded-lg bg-muted flex items-center justify-center\">\n          <Icon className=\"size-5 text-muted-foreground\" />\n        </div>\n        <div className=\"space-y-0.5\">\n          <div className=\"flex items-center gap-2\">\n            <p className=\"text-sm font-medium\">{session.browser}</p>\n            {session.current && (\n              <Badge variant=\"secondary\" className=\"text-xs\">\n                Current\n              </Badge>\n            )}\n          </div>\n          <p className=\"text-xs text-muted-foreground\">{session.location}</p>\n          <p className=\"text-xs text-muted-foreground\">\n            Last active: {formatLastActive(session.lastActive)}\n          </p>\n        </div>\n      </div>\n      {!session.current && onRevoke && (\n        <Button\n          variant=\"ghost\"\n          size=\"sm\"\n          className=\"text-destructive hover:text-destructive\"\n          onClick={() => onRevoke(session.id)}\n        >\n          <LogOut className=\"size-4\" />\n        </Button>\n      )}\n    </div>\n  );\n}\n\nfunction formatLastActive(dateString: string): string {\n  const date = new Date(dateString);\n  const now = new Date();\n  const diff = now.getTime() - date.getTime();\n  const minutes = Math.floor(diff / 60000);\n  const hours = Math.floor(minutes / 60);\n  const days = Math.floor(hours / 24);\n\n  if (minutes < 1) return \"Just now\";\n  if (minutes < 60) return `${minutes}m ago`;\n  if (hours < 24) return `${hours}h ago`;\n  if (days < 7) return `${days}d ago`;\n  return date.toLocaleDateString();\n}\n\nexport function SecuritySettings({\n  security,\n  onUpdatePassword,\n  onToggle2FA,\n  onRevokeSession,\n  className,\n}: SecuritySettingsProps) {\n  const [currentPassword, setCurrentPassword] = useState(\"\");\n  const [newPassword, setNewPassword] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n  const [is2FALoading, setIs2FALoading] = useState(false);\n\n  const handlePasswordSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!onUpdatePassword || newPassword !== confirmPassword) return;\n\n    setIsLoading(true);\n    try {\n      await onUpdatePassword(currentPassword, newPassword);\n      setCurrentPassword(\"\");\n      setNewPassword(\"\");\n      setConfirmPassword(\"\");\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handle2FAToggle = async (enabled: boolean) => {\n    if (!onToggle2FA) return;\n\n    setIs2FALoading(true);\n    try {\n      await onToggle2FA(enabled);\n    } finally {\n      setIs2FALoading(false);\n    }\n  };\n\n  return (\n    <div className={cn(\"space-y-6\", className)}>\n      {/* Change Password */}\n      <Card>\n        <CardHeader>\n          <CardTitle>Change Password</CardTitle>\n          <CardDescription>\n            Update your password to keep your account secure.\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          <form onSubmit={handlePasswordSubmit} className=\"space-y-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"currentPassword\">Current password</Label>\n              <Input\n                id=\"currentPassword\"\n                type=\"password\"\n                value={currentPassword}\n                onChange={(e) => setCurrentPassword(e.target.value)}\n                placeholder=\"••••••••\"\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"newPassword\">New password</Label>\n              <Input\n                id=\"newPassword\"\n                type=\"password\"\n                value={newPassword}\n                onChange={(e) => setNewPassword(e.target.value)}\n                placeholder=\"••••••••\"\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"confirmPassword\">Confirm new password</Label>\n              <Input\n                id=\"confirmPassword\"\n                type=\"password\"\n                value={confirmPassword}\n                onChange={(e) => setConfirmPassword(e.target.value)}\n                placeholder=\"••••••••\"\n              />\n            </div>\n            <div className=\"flex justify-end\">\n              <Button type=\"submit\" disabled={isLoading || !currentPassword || !newPassword || newPassword !== confirmPassword}>\n                {isLoading && <Loader2 className=\"size-4 mr-2 animate-spin\" />}\n                Update password\n              </Button>\n            </div>\n          </form>\n        </CardContent>\n      </Card>\n\n      {/* Two-Factor Authentication */}\n      <Card>\n        <CardHeader>\n          <CardTitle>Two-Factor Authentication</CardTitle>\n          <CardDescription>\n            Add an extra layer of security to your account.\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center gap-3\">\n              <div className=\"size-10 rounded-lg bg-primary/10 flex items-center justify-center\">\n                <Shield className=\"size-5 text-primary\" />\n              </div>\n              <div className=\"space-y-0.5\">\n                <p className=\"text-sm font-medium\">Authenticator App</p>\n                <p className=\"text-xs text-muted-foreground\">\n                  {security.twoFactorEnabled\n                    ? \"Two-factor authentication is enabled\"\n                    : \"Protect your account with 2FA\"}\n                </p>\n              </div>\n            </div>\n            <Switch\n              checked={security.twoFactorEnabled}\n              onCheckedChange={handle2FAToggle}\n              disabled={is2FALoading}\n            />\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Active Sessions */}\n      <Card>\n        <CardHeader>\n          <CardTitle>Active Sessions</CardTitle>\n          <CardDescription>\n            Manage and monitor your active login sessions.\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          <div className=\"divide-y\">\n            {security.sessions.map((session) => (\n              <SessionItem\n                key={session.id}\n                session={session}\n                onRevoke={onRevokeSession}\n              />\n            ))}\n          </div>\n          {security.sessions.length > 1 && onRevokeSession && (\n            <>\n              <Separator className=\"my-4\" />\n              <Button variant=\"outline\" className=\"text-destructive hover:text-destructive\">\n                Sign out of all other sessions\n              </Button>\n            </>\n          )}\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n",
      "type": "registry:component",
      "target": "components/settings-01/components/security-settings.tsx"
    },
    {
      "path": "src/registry/blocks/settings-01/components/billing-settings.tsx",
      "content": "\"use client\";\n\nimport { cn } from \"@/lib/utils\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from \"@/components/ui/card\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { CreditCard, Zap, Building2, Check } from \"lucide-react\";\nimport type { BillingInfo } from \"../types/settings\";\n\ninterface BillingSettingsProps {\n  billing: BillingInfo;\n  onManageBilling?: () => void;\n  onChangePlan?: () => void;\n  className?: string;\n}\n\nconst planDetails = {\n  free: {\n    name: \"Free\",\n    price: \"$0\",\n    icon: Zap,\n    features: [\"5 projects\", \"1GB storage\", \"Community support\"],\n  },\n  pro: {\n    name: \"Pro\",\n    price: \"$19\",\n    icon: Zap,\n    features: [\"Unlimited projects\", \"100GB storage\", \"Priority support\", \"Advanced analytics\"],\n  },\n  enterprise: {\n    name: \"Enterprise\",\n    price: \"Custom\",\n    icon: Building2,\n    features: [\"Everything in Pro\", \"Dedicated support\", \"Custom integrations\", \"SLA guarantee\"],\n  },\n};\n\nexport function BillingSettings({\n  billing,\n  onManageBilling,\n  onChangePlan,\n  className,\n}: BillingSettingsProps) {\n  const currentPlan = planDetails[billing.plan];\n  const Icon = currentPlan.icon;\n\n  return (\n    <div className={cn(\"space-y-6\", className)}>\n      {/* Current Plan */}\n      <Card>\n        <CardHeader>\n          <CardTitle>Current Plan</CardTitle>\n          <CardDescription>\n            You are currently on the {currentPlan.name} plan.\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          <div className=\"flex items-start justify-between\">\n            <div className=\"flex items-start gap-4\">\n              <div className=\"size-12 rounded-lg bg-primary/10 flex items-center justify-center\">\n                <Icon className=\"size-6 text-primary\" />\n              </div>\n              <div className=\"space-y-1\">\n                <div className=\"flex items-center gap-2\">\n                  <h3 className=\"font-semibold\">{currentPlan.name}</h3>\n                  <Badge variant=\"secondary\">Current</Badge>\n                </div>\n                <p className=\"text-2xl font-bold\">\n                  {currentPlan.price}\n                  {billing.plan !== \"enterprise\" && (\n                    <span className=\"text-sm font-normal text-muted-foreground\">\n                      /{billing.billingCycle === \"monthly\" ? \"mo\" : \"yr\"}\n                    </span>\n                  )}\n                </p>\n              </div>\n            </div>\n            <Button variant=\"outline\" onClick={onChangePlan}>\n              Change plan\n            </Button>\n          </div>\n\n          <Separator className=\"my-4\" />\n\n          <div className=\"space-y-2\">\n            <p className=\"text-sm font-medium\">Plan features</p>\n            <ul className=\"grid gap-1.5\">\n              {currentPlan.features.map((feature, index) => (\n                <li key={index} className=\"flex items-center gap-2 text-sm text-muted-foreground\">\n                  <Check className=\"size-4 text-primary\" />\n                  {feature}\n                </li>\n              ))}\n            </ul>\n          </div>\n\n          {billing.nextBillingDate && (\n            <>\n              <Separator className=\"my-4\" />\n              <p className=\"text-sm text-muted-foreground\">\n                Your next billing date is{\" \"}\n                <span className=\"font-medium text-foreground\">\n                  {new Date(billing.nextBillingDate).toLocaleDateString(\"en-US\", {\n                    year: \"numeric\",\n                    month: \"long\",\n                    day: \"numeric\",\n                  })}\n                </span>\n              </p>\n            </>\n          )}\n        </CardContent>\n      </Card>\n\n      {/* Payment Method */}\n      <Card>\n        <CardHeader>\n          <CardTitle>Payment Method</CardTitle>\n          <CardDescription>\n            Manage your payment methods and billing information.\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          {billing.paymentMethod ? (\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex items-center gap-3\">\n                <div className=\"size-10 rounded-lg bg-muted flex items-center justify-center\">\n                  <CreditCard className=\"size-5 text-muted-foreground\" />\n                </div>\n                <div className=\"space-y-0.5\">\n                  <p className=\"text-sm font-medium\">\n                    {billing.paymentMethod.brand} •••• {billing.paymentMethod.last4}\n                  </p>\n                  <p className=\"text-xs text-muted-foreground\">\n                    Expires {billing.paymentMethod.expiresAt}\n                  </p>\n                </div>\n              </div>\n              <Button variant=\"outline\" size=\"sm\" onClick={onManageBilling}>\n                Update\n              </Button>\n            </div>\n          ) : (\n            <div className=\"flex items-center justify-between\">\n              <p className=\"text-sm text-muted-foreground\">\n                No payment method on file\n              </p>\n              <Button variant=\"outline\" size=\"sm\" onClick={onManageBilling}>\n                Add payment method\n              </Button>\n            </div>\n          )}\n        </CardContent>\n      </Card>\n\n      {/* Billing History */}\n      <Card>\n        <CardHeader>\n          <CardTitle>Billing History</CardTitle>\n          <CardDescription>\n            View and download your past invoices.\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          <div className=\"text-center py-6\">\n            <p className=\"text-sm text-muted-foreground mb-4\">\n              No billing history available\n            </p>\n            <Button variant=\"outline\" size=\"sm\" onClick={onManageBilling}>\n              View all invoices\n            </Button>\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n",
      "type": "registry:component",
      "target": "components/settings-01/components/billing-settings.tsx"
    },
    {
      "path": "src/registry/blocks/settings-01/components/appearance-settings.tsx",
      "content": "\"use client\";\n\nimport { useState } from \"react\";\nimport { cn } from \"@/lib/utils\";\nimport { Button } from \"@/components/ui/button\";\nimport { Label } from \"@/components/ui/label\";\nimport { Switch } from \"@/components/ui/switch\";\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from \"@/components/ui/card\";\nimport { RadioGroup, RadioGroupItem } from \"@/components/ui/radio-group\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { Sun, Moon, Monitor, Loader2 } from \"lucide-react\";\nimport type { AppearanceSettings as AppearanceSettingsType } from \"../types/settings\";\n\ninterface AppearanceSettingsProps {\n  appearance: AppearanceSettingsType;\n  onUpdate?: (data: Partial<AppearanceSettingsType>) => Promise<void>;\n  className?: string;\n}\n\nconst themes = [\n  { id: \"light\" as const, label: \"Light\", icon: Sun },\n  { id: \"dark\" as const, label: \"Dark\", icon: Moon },\n  { id: \"system\" as const, label: \"System\", icon: Monitor },\n];\n\nconst fontSizes = [\n  { id: \"small\" as const, label: \"Small\" },\n  { id: \"medium\" as const, label: \"Medium\" },\n  { id: \"large\" as const, label: \"Large\" },\n];\n\nconst accentColors = [\n  { id: \"zinc\", color: \"#71717a\" },\n  { id: \"red\", color: \"#ef4444\" },\n  { id: \"orange\", color: \"#f97316\" },\n  { id: \"yellow\", color: \"#eab308\" },\n  { id: \"green\", color: \"#22c55e\" },\n  { id: \"blue\", color: \"#3b82f6\" },\n  { id: \"purple\", color: \"#a855f7\" },\n  { id: \"pink\", color: \"#ec4899\" },\n];\n\nexport function AppearanceSettings({\n  appearance,\n  onUpdate,\n  className,\n}: AppearanceSettingsProps) {\n  const [formData, setFormData] = useState(appearance);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const handleChange = <K extends keyof AppearanceSettingsType>(\n    field: K,\n    value: AppearanceSettingsType[K]\n  ) => {\n    setFormData((prev) => ({ ...prev, [field]: value }));\n  };\n\n  const handleSubmit = async () => {\n    if (!onUpdate) return;\n\n    setIsLoading(true);\n    try {\n      await onUpdate(formData);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <div className={cn(\"space-y-6\", className)}>\n      {/* Theme */}\n      <Card>\n        <CardHeader>\n          <CardTitle>Theme</CardTitle>\n          <CardDescription>\n            Select your preferred color theme for the interface.\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          <div className=\"grid grid-cols-3 gap-3\">\n            {themes.map((theme) => {\n              const Icon = theme.icon;\n              const isSelected = formData.theme === theme.id;\n              return (\n                <button\n                  key={theme.id}\n                  type=\"button\"\n                  onClick={() => handleChange(\"theme\", theme.id)}\n                  className={cn(\n                    \"flex flex-col items-center gap-2 p-4 rounded-lg border-2 transition-colors\",\n                    isSelected\n                      ? \"border-primary bg-primary/5\"\n                      : \"border-muted hover:border-muted-foreground/20\"\n                  )}\n                >\n                  <Icon className={cn(\"size-5\", isSelected && \"text-primary\")} />\n                  <span className={cn(\"text-sm font-medium\", isSelected && \"text-primary\")}>\n                    {theme.label}\n                  </span>\n                </button>\n              );\n            })}\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Accent Color */}\n      <Card>\n        <CardHeader>\n          <CardTitle>Accent Color</CardTitle>\n          <CardDescription>\n            Choose an accent color for buttons and interactive elements.\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          <div className=\"flex flex-wrap gap-2\">\n            {accentColors.map((color) => {\n              const isSelected = formData.accentColor === color.id;\n              return (\n                <button\n                  key={color.id}\n                  type=\"button\"\n                  onClick={() => handleChange(\"accentColor\", color.id)}\n                  className={cn(\n                    \"size-8 rounded-full transition-all\",\n                    isSelected && \"ring-2 ring-offset-2 ring-offset-background\"\n                  )}\n                  style={{\n                    backgroundColor: color.color,\n                    \"--tw-ring-color\": color.color,\n                  } as React.CSSProperties}\n                >\n                  <span className=\"sr-only\">{color.id}</span>\n                </button>\n              );\n            })}\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Font Size */}\n      <Card>\n        <CardHeader>\n          <CardTitle>Font Size</CardTitle>\n          <CardDescription>\n            Adjust the font size for better readability.\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          <RadioGroup\n            value={formData.fontSize}\n            onValueChange={(v) => handleChange(\"fontSize\", v as AppearanceSettingsType[\"fontSize\"])}\n            className=\"flex gap-4\"\n          >\n            {fontSizes.map((size) => (\n              <div key={size.id} className=\"flex items-center space-x-2\">\n                <RadioGroupItem value={size.id} id={size.id} />\n                <Label htmlFor={size.id} className=\"cursor-pointer\">\n                  {size.label}\n                </Label>\n              </div>\n            ))}\n          </RadioGroup>\n        </CardContent>\n      </Card>\n\n      {/* Accessibility */}\n      <Card>\n        <CardHeader>\n          <CardTitle>Accessibility</CardTitle>\n          <CardDescription>\n            Configure accessibility settings for a better experience.\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          <div className=\"flex items-center justify-between\">\n            <div className=\"space-y-0.5\">\n              <Label htmlFor=\"reducedMotion\" className=\"cursor-pointer\">\n                Reduced motion\n              </Label>\n              <p className=\"text-sm text-muted-foreground\">\n                Minimize animations and transitions.\n              </p>\n            </div>\n            <Switch\n              id=\"reducedMotion\"\n              checked={formData.reducedMotion}\n              onCheckedChange={(v) => handleChange(\"reducedMotion\", v)}\n            />\n          </div>\n        </CardContent>\n      </Card>\n\n      <div className=\"flex justify-end\">\n        <Button onClick={handleSubmit} disabled={isLoading}>\n          {isLoading && <Loader2 className=\"size-4 mr-2 animate-spin\" />}\n          Save preferences\n        </Button>\n      </div>\n    </div>\n  );\n}\n",
      "type": "registry:component",
      "target": "components/settings-01/components/appearance-settings.tsx"
    },
    {
      "path": "src/registry/blocks/settings-01/supabase/settings-actions.ts",
      "content": "\"use server\";\n\nimport { createClient } from \"@supabase/supabase-js\";\nimport type { UserProfile, NotificationPreferences, AppearanceSettings, Session } from \"../types/settings\";\n\n/**\n * Server actions for settings management with Supabase\n *\n * Prerequisites:\n * 1. Set up environment variables:\n *    - SUPABASE_URL\n *    - SUPABASE_SERVICE_ROLE_KEY\n *\n * 2. Create required tables in Supabase SQL Editor (see postgres/settings-actions.ts for schema)\n */\n\nconst getSupabase = () => {\n  const supabaseUrl = process.env.SUPABASE_URL;\n  const supabaseServiceKey = process.env.SUPABASE_SERVICE_ROLE_KEY;\n\n  if (!supabaseUrl || !supabaseServiceKey) {\n    throw new Error(\"Missing Supabase environment variables\");\n  }\n\n  return createClient(supabaseUrl, supabaseServiceKey);\n};\n\nexport async function getUserProfile(userId: string): Promise<UserProfile | null> {\n  const supabase = getSupabase();\n\n  const { data: user } = await supabase.auth.admin.getUserById(userId);\n\n  const { data: profile } = await supabase\n    .from(\"user_profiles\")\n    .select(\"*\")\n    .eq(\"user_id\", userId)\n    .single();\n\n  if (!user.user) return null;\n\n  return {\n    id: user.user.id,\n    email: user.user.email || \"\",\n    name: profile?.name || user.user.user_metadata?.name || \"\",\n    username: profile?.username,\n    bio: profile?.bio,\n    avatar: profile?.avatar || user.user.user_metadata?.avatar_url,\n    phone: profile?.phone,\n    website: profile?.website,\n    company: profile?.company,\n    location: profile?.location,\n  };\n}\n\nexport async function updateUserProfile(userId: string, data: Partial<UserProfile>): Promise<void> {\n  const supabase = getSupabase();\n\n  const { error } = await supabase\n    .from(\"user_profiles\")\n    .upsert({\n      user_id: userId,\n      name: data.name,\n      username: data.username,\n      bio: data.bio,\n      phone: data.phone,\n      website: data.website,\n      company: data.company,\n      location: data.location,\n      updated_at: new Date().toISOString(),\n    }, { onConflict: \"user_id\" });\n\n  if (error) throw new Error(error.message);\n}\n\nexport async function getNotificationPreferences(userId: string): Promise<NotificationPreferences> {\n  const supabase = getSupabase();\n\n  const { data, error } = await supabase\n    .from(\"notification_preferences\")\n    .select(\"*\")\n    .eq(\"user_id\", userId)\n    .single();\n\n  if (error && error.code !== \"PGRST116\") {\n    throw new Error(error.message);\n  }\n\n  // Return defaults if no preferences exist\n  return {\n    emailMarketing: data?.email_marketing ?? true,\n    emailProduct: data?.email_product ?? true,\n    emailSecurity: data?.email_security ?? true,\n    pushEnabled: data?.push_enabled ?? true,\n    pushMentions: data?.push_mentions ?? true,\n    pushComments: data?.push_comments ?? true,\n    pushUpdates: data?.push_updates ?? true,\n  };\n}\n\nexport async function updateNotificationPreferences(\n  userId: string,\n  data: Partial<NotificationPreferences>\n): Promise<void> {\n  const supabase = getSupabase();\n\n  const { error } = await supabase\n    .from(\"notification_preferences\")\n    .upsert({\n      user_id: userId,\n      email_marketing: data.emailMarketing,\n      email_product: data.emailProduct,\n      email_security: data.emailSecurity,\n      push_enabled: data.pushEnabled,\n      push_mentions: data.pushMentions,\n      push_comments: data.pushComments,\n      push_updates: data.pushUpdates,\n      updated_at: new Date().toISOString(),\n    }, { onConflict: \"user_id\" });\n\n  if (error) throw new Error(error.message);\n}\n\nexport async function updatePassword(\n  userId: string,\n  currentPassword: string,\n  newPassword: string\n): Promise<void> {\n  const supabase = getSupabase();\n\n  // Note: For security, password verification should happen on the client\n  // using supabase.auth.updateUser({ password: newPassword })\n  // This server action is a placeholder for custom implementations\n\n  const { error } = await supabase.auth.admin.updateUserById(userId, {\n    password: newPassword,\n  });\n\n  if (error) throw new Error(error.message);\n}\n\nexport async function toggle2FA(userId: string, enabled: boolean): Promise<void> {\n  // Supabase MFA is managed through the client-side auth API\n  // See: https://supabase.com/docs/guides/auth/mfa\n  throw new Error(\"2FA should be managed through the client-side Supabase Auth API\");\n}\n\nexport async function getUserSessions(userId: string): Promise<Session[]> {\n  const supabase = getSupabase();\n\n  const { data, error } = await supabase\n    .from(\"user_sessions\")\n    .select(\"*\")\n    .eq(\"user_id\", userId)\n    .order(\"last_active\", { ascending: false });\n\n  if (error) throw new Error(error.message);\n\n  return (data || []).map((row) => ({\n    id: row.id,\n    device: row.device,\n    browser: row.browser,\n    location: row.location,\n    lastActive: row.last_active,\n    current: row.is_current,\n  }));\n}\n\nexport async function revokeSession(sessionId: string, userId: string): Promise<void> {\n  const supabase = getSupabase();\n\n  const { error } = await supabase\n    .from(\"user_sessions\")\n    .delete()\n    .eq(\"id\", sessionId)\n    .eq(\"user_id\", userId)\n    .eq(\"is_current\", false);\n\n  if (error) throw new Error(error.message);\n}\n\nexport async function getAppearanceSettings(userId: string): Promise<AppearanceSettings> {\n  const supabase = getSupabase();\n\n  const { data, error } = await supabase\n    .from(\"appearance_settings\")\n    .select(\"*\")\n    .eq(\"user_id\", userId)\n    .single();\n\n  if (error && error.code !== \"PGRST116\") {\n    throw new Error(error.message);\n  }\n\n  return {\n    theme: data?.theme ?? \"system\",\n    accentColor: data?.accent_color ?? \"blue\",\n    fontSize: data?.font_size ?? \"medium\",\n    reducedMotion: data?.reduced_motion ?? false,\n  };\n}\n\nexport async function updateAppearanceSettings(\n  userId: string,\n  data: Partial<AppearanceSettings>\n): Promise<void> {\n  const supabase = getSupabase();\n\n  const { error } = await supabase\n    .from(\"appearance_settings\")\n    .upsert({\n      user_id: userId,\n      theme: data.theme,\n      accent_color: data.accentColor,\n      font_size: data.fontSize,\n      reduced_motion: data.reducedMotion,\n      updated_at: new Date().toISOString(),\n    }, { onConflict: \"user_id\" });\n\n  if (error) throw new Error(error.message);\n}\n",
      "type": "registry:component",
      "target": "components/settings-01/supabase/settings-actions.ts"
    },
    {
      "path": "src/registry/blocks/settings-01/postgres/settings-actions.ts",
      "content": "\"use server\";\n\n/**\n * Server actions for settings management with PostgreSQL\n *\n * Prerequisites:\n * 1. Set up your database connection (e.g., using pg, drizzle-orm, or prisma)\n * 2. Create required tables:\n *\n * -- User profiles\n * CREATE TABLE user_profiles (\n *   id UUID DEFAULT gen_random_uuid() PRIMARY KEY,\n *   user_id UUID NOT NULL REFERENCES users(id) ON DELETE CASCADE,\n *   name VARCHAR(255),\n *   username VARCHAR(100) UNIQUE,\n *   bio TEXT,\n *   avatar TEXT,\n *   phone VARCHAR(50),\n *   website VARCHAR(255),\n *   company VARCHAR(255),\n *   location VARCHAR(255),\n *   created_at TIMESTAMPTZ DEFAULT NOW(),\n *   updated_at TIMESTAMPTZ DEFAULT NOW()\n * );\n *\n * -- Notification preferences\n * CREATE TABLE notification_preferences (\n *   id UUID DEFAULT gen_random_uuid() PRIMARY KEY,\n *   user_id UUID NOT NULL REFERENCES users(id) ON DELETE CASCADE,\n *   email_marketing BOOLEAN DEFAULT TRUE,\n *   email_product BOOLEAN DEFAULT TRUE,\n *   email_security BOOLEAN DEFAULT TRUE,\n *   push_enabled BOOLEAN DEFAULT TRUE,\n *   push_mentions BOOLEAN DEFAULT TRUE,\n *   push_comments BOOLEAN DEFAULT TRUE,\n *   push_updates BOOLEAN DEFAULT TRUE,\n *   created_at TIMESTAMPTZ DEFAULT NOW(),\n *   updated_at TIMESTAMPTZ DEFAULT NOW()\n * );\n *\n * -- User sessions\n * CREATE TABLE user_sessions (\n *   id UUID DEFAULT gen_random_uuid() PRIMARY KEY,\n *   user_id UUID NOT NULL REFERENCES users(id) ON DELETE CASCADE,\n *   device VARCHAR(50),\n *   browser VARCHAR(255),\n *   location VARCHAR(255),\n *   ip_address VARCHAR(45),\n *   is_current BOOLEAN DEFAULT FALSE,\n *   last_active TIMESTAMPTZ DEFAULT NOW(),\n *   created_at TIMESTAMPTZ DEFAULT NOW()\n * );\n *\n * -- Appearance settings\n * CREATE TABLE appearance_settings (\n *   id UUID DEFAULT gen_random_uuid() PRIMARY KEY,\n *   user_id UUID NOT NULL REFERENCES users(id) ON DELETE CASCADE,\n *   theme VARCHAR(20) DEFAULT 'system',\n *   accent_color VARCHAR(20) DEFAULT 'blue',\n *   font_size VARCHAR(20) DEFAULT 'medium',\n *   reduced_motion BOOLEAN DEFAULT FALSE,\n *   created_at TIMESTAMPTZ DEFAULT NOW(),\n *   updated_at TIMESTAMPTZ DEFAULT NOW()\n * );\n */\n\nimport type { UserProfile, NotificationPreferences, AppearanceSettings, Session } from \"../types/settings\";\n\n// Replace with your actual database client\n// import { db } from \"@/lib/db\";\n\nexport async function getUserProfile(userId: string): Promise<UserProfile | null> {\n  // const result = await db.query(`\n  //   SELECT u.id, u.email, p.*\n  //   FROM users u\n  //   LEFT JOIN user_profiles p ON u.id = p.user_id\n  //   WHERE u.id = $1\n  // `, [userId]);\n  //\n  // if (result.rows.length === 0) return null;\n  //\n  // return {\n  //   id: result.rows[0].id,\n  //   email: result.rows[0].email,\n  //   name: result.rows[0].name,\n  //   username: result.rows[0].username,\n  //   bio: result.rows[0].bio,\n  //   avatar: result.rows[0].avatar,\n  //   phone: result.rows[0].phone,\n  //   website: result.rows[0].website,\n  //   company: result.rows[0].company,\n  //   location: result.rows[0].location,\n  // };\n\n  throw new Error(\"Not implemented - configure your database connection\");\n}\n\nexport async function updateUserProfile(userId: string, data: Partial<UserProfile>): Promise<void> {\n  // await db.query(`\n  //   INSERT INTO user_profiles (user_id, name, username, bio, phone, website, company, location)\n  //   VALUES ($1, $2, $3, $4, $5, $6, $7, $8)\n  //   ON CONFLICT (user_id) DO UPDATE SET\n  //     name = COALESCE($2, user_profiles.name),\n  //     username = COALESCE($3, user_profiles.username),\n  //     bio = COALESCE($4, user_profiles.bio),\n  //     phone = COALESCE($5, user_profiles.phone),\n  //     website = COALESCE($6, user_profiles.website),\n  //     company = COALESCE($7, user_profiles.company),\n  //     location = COALESCE($8, user_profiles.location),\n  //     updated_at = NOW()\n  // `, [userId, data.name, data.username, data.bio, data.phone, data.website, data.company, data.location]);\n\n  throw new Error(\"Not implemented - configure your database connection\");\n}\n\nexport async function getNotificationPreferences(userId: string): Promise<NotificationPreferences> {\n  throw new Error(\"Not implemented - configure your database connection\");\n}\n\nexport async function updateNotificationPreferences(\n  userId: string,\n  data: Partial<NotificationPreferences>\n): Promise<void> {\n  throw new Error(\"Not implemented - configure your database connection\");\n}\n\nexport async function updatePassword(\n  userId: string,\n  currentPassword: string,\n  newPassword: string\n): Promise<void> {\n  // 1. Verify current password\n  // 2. Hash new password\n  // 3. Update in database\n  throw new Error(\"Not implemented - configure your database connection\");\n}\n\nexport async function toggle2FA(userId: string, enabled: boolean): Promise<void> {\n  throw new Error(\"Not implemented - configure your database connection\");\n}\n\nexport async function getUserSessions(userId: string): Promise<Session[]> {\n  throw new Error(\"Not implemented - configure your database connection\");\n}\n\nexport async function revokeSession(sessionId: string, userId: string): Promise<void> {\n  // await db.query(`\n  //   DELETE FROM user_sessions\n  //   WHERE id = $1 AND user_id = $2 AND is_current = FALSE\n  // `, [sessionId, userId]);\n\n  throw new Error(\"Not implemented - configure your database connection\");\n}\n\nexport async function getAppearanceSettings(userId: string): Promise<AppearanceSettings> {\n  throw new Error(\"Not implemented - configure your database connection\");\n}\n\nexport async function updateAppearanceSettings(\n  userId: string,\n  data: Partial<AppearanceSettings>\n): Promise<void> {\n  throw new Error(\"Not implemented - configure your database connection\");\n}\n",
      "type": "registry:component",
      "target": "components/settings-01/postgres/settings-actions.ts"
    }
  ],
  "meta": {
    "image": "/r/previews/settings-01.webp",
    "stacks": [
      "supabase",
      "postgres"
    ]
  },
  "categories": [
    "settings"
  ],
  "type": "registry:block"
}