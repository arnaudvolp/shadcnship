{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "auth-01",
  "title": "Auth 01",
  "description": "Complete authentication flow with login, register, forgot password, magic link and OAuth support. Includes Supabase Auth integration.",
  "dependencies": [
    "lucide-react",
    "react-hook-form",
    "@hookform/resolvers",
    "zod"
  ],
  "registryDependencies": [
    "button",
    "input",
    "card",
    "form",
    "label",
    "tabs"
  ],
  "files": [
    {
      "path": "src/registry/blocks/auth-01/auth.tsx",
      "content": "\"use client\";\n\nimport { useState } from \"react\";\nimport { cn } from \"@/lib/utils\";\nimport {\n  AuthLayout,\n  LoginForm,\n  RegisterForm,\n  ForgotPasswordForm,\n  ResetPasswordForm,\n  MagicLinkForm,\n  OAuthButtons,\n} from \"./components\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { LogoIcon } from \"../social-icons/icons\";\nimport type { OAuthProvider } from \"./types/auth\";\n\n// =============================================================================\n// Demo Auth Actions (for preview)\n// =============================================================================\n\nconst demoSignIn = async (email: string, password: string) => {\n  await new Promise((resolve) => setTimeout(resolve, 1000));\n  if (password.length < 8) throw new Error(\"Invalid email or password\");\n  console.log(\"Sign in:\", { email, password });\n};\n\nconst demoSignUp = async (data: { email: string; password: string; name?: string }) => {\n  await new Promise((resolve) => setTimeout(resolve, 1000));\n  console.log(\"Sign up:\", data);\n};\n\nconst demoOAuth = async (provider: OAuthProvider) => {\n  await new Promise((resolve) => setTimeout(resolve, 500));\n  console.log(\"OAuth:\", provider);\n};\n\nconst demoForgotPassword = async (email: string) => {\n  await new Promise((resolve) => setTimeout(resolve, 1000));\n  console.log(\"Forgot password:\", email);\n};\n\nconst demoResetPassword = async (password: string) => {\n  await new Promise((resolve) => setTimeout(resolve, 1000));\n  console.log(\"Reset password\");\n};\n\nconst demoMagicLink = async (email: string) => {\n  await new Promise((resolve) => setTimeout(resolve, 1000));\n  console.log(\"Magic link:\", email);\n};\n\n// =============================================================================\n// Auth01 Props\n// =============================================================================\n\ninterface Auth01Props {\n  defaultTab?: \"login\" | \"register\" | \"forgot\" | \"reset\" | \"magic\";\n  variant?: \"card\" | \"split\";\n  logo?: React.ReactNode;\n  splitImage?: string;\n  tagline?: string;\n  onSignIn?: (email: string, password: string) => Promise<void>;\n  onSignUp?: (data: { email: string; password: string; name?: string }) => Promise<void>;\n  onOAuth?: (provider: OAuthProvider) => Promise<void>;\n  onForgotPassword?: (email: string) => Promise<void>;\n  onResetPassword?: (password: string) => Promise<void>;\n  onMagicLink?: (email: string) => Promise<void>;\n  oauthProviders?: OAuthProvider[];\n  showMagicLink?: boolean;\n  className?: string;\n}\n\n// =============================================================================\n// Main Component\n// =============================================================================\n\nexport default function Auth01({\n  defaultTab = \"login\",\n  variant = \"card\",\n  logo,\n  splitImage = \"https://images.unsplash.com/photo-1618005182384-a83a8bd57fbe?q=80&w=2864&auto=format&fit=crop\",\n  tagline = \"Build faster. Ship smarter.\",\n  onSignIn = demoSignIn,\n  onSignUp = demoSignUp,\n  onOAuth = demoOAuth,\n  onForgotPassword = demoForgotPassword,\n  onResetPassword = demoResetPassword,\n  onMagicLink = demoMagicLink,\n  oauthProviders = [\"google\", \"github\"],\n  showMagicLink = true,\n  className,\n}: Auth01Props) {\n  const [activeTab, setActiveTab] = useState(defaultTab);\n\n  const defaultLogo = (\n    <div className=\"flex items-center gap-2\">\n      <LogoIcon className=\"size-6 dark:invert\" />\n      <span className=\"font-semibold\">ShadcnShip</span>\n    </div>\n  );\n\n  const renderContent = () => {\n    // Forgot password view\n    if (activeTab === \"forgot\") {\n      return (\n        <AuthLayout\n          logo={logo ?? defaultLogo}\n          heading=\"Forgot password?\"\n          description=\"Enter your email and we'll send you a reset link.\"\n          variant={variant}\n          splitImage={splitImage}\n          splitContent={\n            <div className=\"max-w-md\">\n              <p className=\"text-sm text-muted mb-2 dark:text-muted-foreground\">\n                No worries\n              </p>\n              <h2 className=\"text-3xl md:text-4xl font-semibold tracking-tight leading-tight\">\n                {tagline}\n              </h2>\n            </div>\n          }\n          footer={\n            <p className=\"text-center text-sm text-muted-foreground\">\n              Remember your password?{\" \"}\n              <button\n                onClick={() => setActiveTab(\"login\")}\n                className=\"font-medium text-foreground hover:underline underline-offset-4\"\n              >\n                Sign in\n              </button>\n            </p>\n          }\n          className={className}\n        >\n          <ForgotPasswordForm onSubmit={onForgotPassword} />\n        </AuthLayout>\n      );\n    }\n\n    // Reset password view\n    if (activeTab === \"reset\") {\n      return (\n        <AuthLayout\n          logo={logo ?? defaultLogo}\n          heading=\"Reset password\"\n          description=\"Enter your new password below.\"\n          variant={variant}\n          splitImage={splitImage}\n          splitContent={\n            <div className=\"max-w-md\">\n              <p className=\"text-sm text-muted mb-2 dark:text-muted-foreground\">\n                Almost there\n              </p>\n              <h2 className=\"text-3xl md:text-4xl font-semibold tracking-tight leading-tight\">\n                {tagline}\n              </h2>\n            </div>\n          }\n          className={className}\n        >\n          <ResetPasswordForm\n            onSubmit={onResetPassword}\n            loginHref=\"#\"\n          />\n        </AuthLayout>\n      );\n    }\n\n    // Magic link view\n    if (activeTab === \"magic\") {\n      return (\n        <AuthLayout\n          logo={logo ?? defaultLogo}\n          heading=\"Sign in with magic link\"\n          description=\"We'll email you a magic link for a password-free sign in.\"\n          variant={variant}\n          splitImage={splitImage}\n          splitContent={\n            <div className=\"max-w-md\">\n              <p className=\"text-sm text-muted mb-2 dark:text-muted-foreground\">\n                No password needed\n              </p>\n              <h2 className=\"text-3xl md:text-4xl font-semibold tracking-tight leading-tight\">\n                {tagline}\n              </h2>\n            </div>\n          }\n          footer={\n            <p className=\"text-center text-sm text-muted-foreground\">\n              Prefer to use a password?{\" \"}\n              <button\n                onClick={() => setActiveTab(\"login\")}\n                className=\"font-medium text-foreground hover:underline underline-offset-4\"\n              >\n                Sign in with password\n              </button>\n            </p>\n          }\n          className={className}\n        >\n          <MagicLinkForm onSubmit={onMagicLink} />\n        </AuthLayout>\n      );\n    }\n\n    // Login / Register tabs\n    return (\n      <AuthLayout\n        logo={logo ?? defaultLogo}\n        heading={activeTab === \"login\" ? \"Welcome back\" : \"Create an account\"}\n        description={\n          activeTab === \"login\"\n            ? \"Enter your credentials to access your account\"\n            : \"Enter your details to get started\"\n        }\n        variant={variant}\n        splitImage={splitImage}\n        splitContent={\n          <div className=\"max-w-md\">\n            <p className=\"text-sm text-muted mb-2 dark:text-muted-foreground\">\n              Get started\n            </p>\n            <h2 className=\"text-3xl md:text-4xl font-semibold tracking-tight leading-tight\">\n              {tagline}\n            </h2>\n          </div>\n        }\n        footer={\n          <div className=\"text-center space-y-2\">\n            <p className=\"text-sm text-muted-foreground\">\n              {activeTab === \"login\" ? (\n                <>\n                  Don't have an account?{\" \"}\n                  <button\n                    onClick={() => setActiveTab(\"register\")}\n                    className=\"font-medium text-foreground hover:underline underline-offset-4\"\n                  >\n                    Sign up\n                  </button>\n                </>\n              ) : (\n                <>\n                  Already have an account?{\" \"}\n                  <button\n                    onClick={() => setActiveTab(\"login\")}\n                    className=\"font-medium text-foreground hover:underline underline-offset-4\"\n                  >\n                    Sign in\n                  </button>\n                </>\n              )}\n            </p>\n            <p className=\"text-xs text-muted-foreground\">\n              By continuing, you agree to our{\" \"}\n              <a href=\"#\" className=\"underline underline-offset-4 hover:text-foreground\">\n                Terms of Service\n              </a>{\" \"}\n              and{\" \"}\n              <a href=\"#\" className=\"underline underline-offset-4 hover:text-foreground\">\n                Privacy Policy\n              </a>\n            </p>\n          </div>\n        }\n        className={className}\n      >\n        <div className=\"space-y-6\">\n          {/* OAuth Buttons */}\n          {oauthProviders.length > 0 && (\n            <>\n              <OAuthButtons providers={oauthProviders} onOAuthClick={onOAuth} />\n              <div className=\"relative\">\n                <div className=\"absolute inset-0 flex items-center\">\n                  <span className=\"w-full border-t\" />\n                </div>\n                <div className=\"relative flex justify-center text-xs\">\n                  <span className=\"bg-background px-4 text-muted-foreground\">\n                    Or continue with email\n                  </span>\n                </div>\n              </div>\n            </>\n          )}\n\n          {/* Forms */}\n          <Tabs value={activeTab} onValueChange={(v) => setActiveTab(v as typeof activeTab)}>\n            <TabsList className=\"grid w-full grid-cols-2 mb-4\">\n              <TabsTrigger value=\"login\">Sign In</TabsTrigger>\n              <TabsTrigger value=\"register\">Sign Up</TabsTrigger>\n            </TabsList>\n\n            <TabsContent value=\"login\">\n              <LoginForm\n                onSubmit={async (data) => onSignIn(data.email, data.password)}\n                forgotPasswordHref=\"#\"\n                onSuccess={() => console.log(\"Login success\")}\n              />\n              {showMagicLink && (\n                <div className=\"mt-4 text-center\">\n                  <button\n                    onClick={() => setActiveTab(\"magic\")}\n                    className=\"text-xs text-muted-foreground hover:text-foreground transition-colors\"\n                  >\n                    Sign in with magic link instead\n                  </button>\n                </div>\n              )}\n            </TabsContent>\n\n            <TabsContent value=\"register\">\n              <RegisterForm\n                onSubmit={onSignUp}\n                onSuccess={() => console.log(\"Register success\")}\n              />\n            </TabsContent>\n          </Tabs>\n\n          {/* Forgot password link (only on login tab) */}\n          {activeTab === \"login\" && (\n            <div className=\"text-center\">\n              <button\n                onClick={() => setActiveTab(\"forgot\")}\n                className=\"text-sm text-muted-foreground hover:text-foreground transition-colors\"\n              >\n                Forgot your password?\n              </button>\n            </div>\n          )}\n        </div>\n      </AuthLayout>\n    );\n  };\n\n  return renderContent();\n}\n\nexport { Auth01 };\n",
      "type": "registry:component",
      "target": "components/auth-01/auth.tsx"
    },
    {
      "path": "src/registry/blocks/auth-01/types/auth.ts",
      "content": "// =============================================================================\n// Authentication Types\n// =============================================================================\n\nexport interface AuthUser {\n  id: string;\n  email: string;\n  name?: string;\n  avatar?: string;\n  emailVerified?: boolean;\n  createdAt?: string;\n}\n\nexport interface AuthSession {\n  user: AuthUser;\n  accessToken: string;\n  refreshToken?: string;\n  expiresAt?: number;\n}\n\nexport interface AuthState {\n  user: AuthUser | null;\n  session: AuthSession | null;\n  isLoading: boolean;\n  error: string | null;\n}\n\nexport type OAuthProvider = \"google\" | \"github\" | \"discord\" | \"twitter\";\n\nexport interface LoginCredentials {\n  email: string;\n  password: string;\n}\n\nexport interface RegisterCredentials {\n  email: string;\n  password: string;\n  name?: string;\n}\n\nexport interface ResetPasswordCredentials {\n  email: string;\n}\n\nexport interface UpdatePasswordCredentials {\n  password: string;\n  confirmPassword: string;\n}\n\nexport interface AuthFormProps {\n  onSuccess?: () => void;\n  onError?: (error: string) => void;\n  redirectTo?: string;\n  className?: string;\n}\n\nexport interface OAuthButtonsProps {\n  providers?: OAuthProvider[];\n  onOAuthClick?: (provider: OAuthProvider) => Promise<void>;\n  isLoading?: boolean;\n  className?: string;\n}\n",
      "type": "registry:component",
      "target": "components/auth-01/types/auth.ts"
    },
    {
      "path": "src/registry/blocks/auth-01/components/index.ts",
      "content": "// Components\nexport { AuthLayout } from \"./auth-layout\";\nexport { LoginForm } from \"./login-form\";\nexport { RegisterForm } from \"./register-form\";\nexport { ForgotPasswordForm } from \"./forgot-password-form\";\nexport { ResetPasswordForm } from \"./reset-password-form\";\nexport { MagicLinkForm } from \"./magic-link-form\";\nexport { OAuthButtons } from \"./oauth-buttons\";\n\n// Re-export types\nexport type {\n  AuthUser,\n  AuthSession,\n  AuthState,\n  OAuthProvider,\n  LoginCredentials,\n  RegisterCredentials,\n  ResetPasswordCredentials,\n  UpdatePasswordCredentials,\n  AuthFormProps,\n  OAuthButtonsProps,\n} from \"../types/auth\";\n",
      "type": "registry:component",
      "target": "components/auth-01/components/index.ts"
    },
    {
      "path": "src/registry/blocks/auth-01/components/auth-layout.tsx",
      "content": "\"use client\";\n\nimport { cn } from \"@/lib/utils\";\nimport { Card, CardContent, CardFooter, CardHeader } from \"@/components/ui/card\";\n\n// =============================================================================\n// Auth Layout Component\n// =============================================================================\n\ninterface AuthLayoutProps {\n  children: React.ReactNode;\n  logo?: React.ReactNode;\n  heading: string;\n  description?: string;\n  footer?: React.ReactNode;\n  className?: string;\n  variant?: \"card\" | \"split\";\n  splitImage?: string;\n  splitContent?: React.ReactNode;\n}\n\nexport function AuthLayout({\n  children,\n  logo,\n  heading,\n  description,\n  footer,\n  className,\n  variant = \"card\",\n  splitImage,\n  splitContent,\n}: AuthLayoutProps) {\n  if (variant === \"split\") {\n    return (\n      <section className={cn(\"min-h-screen w-full\", className)}>\n        <div className=\"grid min-h-screen lg:grid-cols-2\">\n          {/* Left Side - Image/Content */}\n          <div\n            className={cn(\n              \"relative hidden lg:flex flex-col justify-between p-10 overflow-hidden\",\n              \"bg-accent text-white\"\n            )}\n          >\n            {splitImage && (\n              <img\n                src={splitImage}\n                alt=\"Authentication\"\n                className=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 object-cover h-full w-full\"\n              />\n            )}\n            <div className=\"absolute inset-0 bg-linear-to-t from-black/80 via-black/20 to-transparent\" />\n            {logo && <div className=\"relative z-10\">{logo}</div>}\n            {splitContent && <div className=\"relative z-10\">{splitContent}</div>}\n          </div>\n\n          {/* Right Side - Form */}\n          <div className=\"flex flex-col justify-center px-6 py-12 lg:px-16 xl:px-24\">\n            <div className=\"mx-auto w-full max-w-md\">\n              {logo && (\n                <div className=\"mb-4 flex items-center gap-2 justify-center lg:hidden\">\n                  {logo}\n                </div>\n              )}\n\n              <div className=\"mb-6 text-center\">\n                <h1 className=\"text-2xl font-semibold tracking-tight\">{heading}</h1>\n                {description && (\n                  <p className=\"mt-2 text-sm text-muted-foreground\">{description}</p>\n                )}\n              </div>\n\n              {children}\n\n              {footer && <div className=\"mt-6\">{footer}</div>}\n            </div>\n          </div>\n        </div>\n      </section>\n    );\n  }\n\n  // Card variant (default)\n  return (\n    <section\n      className={cn(\n        \"min-h-screen w-full flex items-center justify-center bg-muted/30 p-4\",\n        className\n      )}\n    >\n      <Card className=\"w-full max-w-md rounded-2xl\">\n        <CardHeader className=\"text-center\">\n          {logo && <div className=\"flex justify-center mb-2\">{logo}</div>}\n          <h1 className=\"text-2xl font-semibold tracking-tight\">{heading}</h1>\n          {description && (\n            <p className=\"text-sm text-muted-foreground\">{description}</p>\n          )}\n        </CardHeader>\n\n        <CardContent>{children}</CardContent>\n\n        {footer && <CardFooter className=\"flex flex-col gap-4\">{footer}</CardFooter>}\n      </Card>\n    </section>\n  );\n}\n",
      "type": "registry:component",
      "target": "components/auth-01/components/auth-layout.tsx"
    },
    {
      "path": "src/registry/blocks/auth-01/components/login-form.tsx",
      "content": "\"use client\";\n\nimport { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { z } from \"zod\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport {\n  Form,\n  FormControl,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage,\n} from \"@/components/ui/form\";\nimport { cn } from \"@/lib/utils\";\nimport { Eye, EyeOff, Mail, Lock, Loader2 } from \"lucide-react\";\nimport type { AuthFormProps, LoginCredentials } from \"../types/auth\";\n\n// =============================================================================\n// Validation Schema\n// =============================================================================\n\nconst loginSchema = z.object({\n  email: z.string().email(\"Please enter a valid email address\"),\n  password: z.string().min(1, \"Password is required\"),\n});\n\n// =============================================================================\n// Login Form Component\n// =============================================================================\n\ninterface LoginFormProps extends AuthFormProps {\n  onSubmit?: (data: LoginCredentials) => Promise<void>;\n  forgotPasswordHref?: string;\n}\n\nexport function LoginForm({\n  onSubmit,\n  onSuccess,\n  onError,\n  forgotPasswordHref = \"#\",\n  className,\n}: LoginFormProps) {\n  const [showPassword, setShowPassword] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const form = useForm<LoginCredentials>({\n    resolver: zodResolver(loginSchema),\n    defaultValues: {\n      email: \"\",\n      password: \"\",\n    },\n  });\n\n  const handleSubmit = async (data: LoginCredentials) => {\n    setIsLoading(true);\n    try {\n      await onSubmit?.(data);\n      onSuccess?.();\n    } catch (error) {\n      const message = error instanceof Error ? error.message : \"Login failed\";\n      onError?.(message);\n      form.setError(\"root\", { message });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <Form {...form}>\n      <form\n        onSubmit={form.handleSubmit(handleSubmit)}\n        className={cn(\"space-y-4\", className)}\n      >\n        <FormField\n          control={form.control}\n          name=\"email\"\n          render={({ field }) => (\n            <FormItem>\n              <FormLabel>Email</FormLabel>\n              <FormControl>\n                <div className=\"relative\">\n                  <Mail className=\"absolute left-3 top-1/2 -translate-y-1/2 size-4 text-muted-foreground\" />\n                  <Input\n                    type=\"email\"\n                    placeholder=\"name@example.com\"\n                    className=\"pl-10\"\n                    disabled={isLoading}\n                    {...field}\n                  />\n                </div>\n              </FormControl>\n              <FormMessage />\n            </FormItem>\n          )}\n        />\n\n        <FormField\n          control={form.control}\n          name=\"password\"\n          render={({ field }) => (\n            <FormItem>\n              <div className=\"flex items-center justify-between\">\n                <FormLabel>Password</FormLabel>\n                <a\n                  href={forgotPasswordHref}\n                  className=\"text-xs text-muted-foreground hover:text-foreground transition-colors\"\n                >\n                  Forgot password?\n                </a>\n              </div>\n              <FormControl>\n                <div className=\"relative\">\n                  <Lock className=\"absolute left-3 top-1/2 -translate-y-1/2 size-4 text-muted-foreground\" />\n                  <Input\n                    type={showPassword ? \"text\" : \"password\"}\n                    placeholder=\"Enter your password\"\n                    className=\"pl-10 pr-10\"\n                    disabled={isLoading}\n                    {...field}\n                  />\n                  <button\n                    type=\"button\"\n                    onClick={() => setShowPassword(!showPassword)}\n                    className=\"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors\"\n                    tabIndex={-1}\n                  >\n                    {showPassword ? (\n                      <EyeOff className=\"size-4\" />\n                    ) : (\n                      <Eye className=\"size-4\" />\n                    )}\n                  </button>\n                </div>\n              </FormControl>\n              <FormMessage />\n            </FormItem>\n          )}\n        />\n\n        {form.formState.errors.root && (\n          <p className=\"text-sm text-destructive\">\n            {form.formState.errors.root.message}\n          </p>\n        )}\n\n        <Button type=\"submit\" className=\"w-full\" size=\"lg\" disabled={isLoading}>\n          {isLoading ? (\n            <>\n              <Loader2 className=\"size-4 mr-2 animate-spin\" />\n              Signing in...\n            </>\n          ) : (\n            \"Sign in\"\n          )}\n        </Button>\n      </form>\n    </Form>\n  );\n}\n",
      "type": "registry:component",
      "target": "components/auth-01/components/login-form.tsx"
    },
    {
      "path": "src/registry/blocks/auth-01/components/register-form.tsx",
      "content": "\"use client\";\n\nimport { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { z } from \"zod\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport {\n  Form,\n  FormControl,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage,\n} from \"@/components/ui/form\";\nimport { cn } from \"@/lib/utils\";\nimport { Eye, EyeOff, Mail, Lock, User, Loader2 } from \"lucide-react\";\nimport type { AuthFormProps } from \"../types/auth\";\n\n// =============================================================================\n// Validation Schema\n// =============================================================================\n\nconst registerSchema = z\n  .object({\n    name: z.string().min(2, \"Name must be at least 2 characters\").optional(),\n    email: z.string().email(\"Please enter a valid email address\"),\n    password: z\n      .string()\n      .min(8, \"Password must be at least 8 characters\")\n      .regex(/[A-Z]/, \"Must contain an uppercase letter\")\n      .regex(/[a-z]/, \"Must contain a lowercase letter\")\n      .regex(/[0-9]/, \"Must contain a number\"),\n    confirmPassword: z.string(),\n  })\n  .refine((data) => data.password === data.confirmPassword, {\n    message: \"Passwords don't match\",\n    path: [\"confirmPassword\"],\n  });\n\ntype RegisterFormData = z.infer<typeof registerSchema>;\n\n// =============================================================================\n// Register Form Component\n// =============================================================================\n\ninterface RegisterFormProps extends AuthFormProps {\n  onSubmit?: (data: { email: string; password: string; name?: string }) => Promise<void>;\n  showNameField?: boolean;\n}\n\nexport function RegisterForm({\n  onSubmit,\n  onSuccess,\n  onError,\n  showNameField = true,\n  className,\n}: RegisterFormProps) {\n  const [showPassword, setShowPassword] = useState(false);\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const form = useForm<RegisterFormData>({\n    resolver: zodResolver(registerSchema),\n    defaultValues: {\n      name: \"\",\n      email: \"\",\n      password: \"\",\n      confirmPassword: \"\",\n    },\n  });\n\n  const handleSubmit = async (data: RegisterFormData) => {\n    setIsLoading(true);\n    try {\n      await onSubmit?.({\n        email: data.email,\n        password: data.password,\n        name: data.name,\n      });\n      onSuccess?.();\n    } catch (error) {\n      const message = error instanceof Error ? error.message : \"Registration failed\";\n      onError?.(message);\n      form.setError(\"root\", { message });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <Form {...form}>\n      <form\n        onSubmit={form.handleSubmit(handleSubmit)}\n        className={cn(\"space-y-4\", className)}\n      >\n        {showNameField && (\n          <FormField\n            control={form.control}\n            name=\"name\"\n            render={({ field }) => (\n              <FormItem>\n                <FormLabel>Name</FormLabel>\n                <FormControl>\n                  <div className=\"relative\">\n                    <User className=\"absolute left-3 top-1/2 -translate-y-1/2 size-4 text-muted-foreground\" />\n                    <Input\n                      placeholder=\"John Doe\"\n                      className=\"pl-10\"\n                      disabled={isLoading}\n                      {...field}\n                    />\n                  </div>\n                </FormControl>\n                <FormMessage />\n              </FormItem>\n            )}\n          />\n        )}\n\n        <FormField\n          control={form.control}\n          name=\"email\"\n          render={({ field }) => (\n            <FormItem>\n              <FormLabel>Email</FormLabel>\n              <FormControl>\n                <div className=\"relative\">\n                  <Mail className=\"absolute left-3 top-1/2 -translate-y-1/2 size-4 text-muted-foreground\" />\n                  <Input\n                    type=\"email\"\n                    placeholder=\"name@example.com\"\n                    className=\"pl-10\"\n                    disabled={isLoading}\n                    {...field}\n                  />\n                </div>\n              </FormControl>\n              <FormMessage />\n            </FormItem>\n          )}\n        />\n\n        <FormField\n          control={form.control}\n          name=\"password\"\n          render={({ field }) => (\n            <FormItem>\n              <FormLabel>Password</FormLabel>\n              <FormControl>\n                <div className=\"relative\">\n                  <Lock className=\"absolute left-3 top-1/2 -translate-y-1/2 size-4 text-muted-foreground\" />\n                  <Input\n                    type={showPassword ? \"text\" : \"password\"}\n                    placeholder=\"Create a password\"\n                    className=\"pl-10 pr-10\"\n                    disabled={isLoading}\n                    {...field}\n                  />\n                  <button\n                    type=\"button\"\n                    onClick={() => setShowPassword(!showPassword)}\n                    className=\"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors\"\n                    tabIndex={-1}\n                  >\n                    {showPassword ? (\n                      <EyeOff className=\"size-4\" />\n                    ) : (\n                      <Eye className=\"size-4\" />\n                    )}\n                  </button>\n                </div>\n              </FormControl>\n              <FormMessage />\n            </FormItem>\n          )}\n        />\n\n        <FormField\n          control={form.control}\n          name=\"confirmPassword\"\n          render={({ field }) => (\n            <FormItem>\n              <FormLabel>Confirm Password</FormLabel>\n              <FormControl>\n                <div className=\"relative\">\n                  <Lock className=\"absolute left-3 top-1/2 -translate-y-1/2 size-4 text-muted-foreground\" />\n                  <Input\n                    type={showConfirmPassword ? \"text\" : \"password\"}\n                    placeholder=\"Confirm your password\"\n                    className=\"pl-10 pr-10\"\n                    disabled={isLoading}\n                    {...field}\n                  />\n                  <button\n                    type=\"button\"\n                    onClick={() => setShowConfirmPassword(!showConfirmPassword)}\n                    className=\"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors\"\n                    tabIndex={-1}\n                  >\n                    {showConfirmPassword ? (\n                      <EyeOff className=\"size-4\" />\n                    ) : (\n                      <Eye className=\"size-4\" />\n                    )}\n                  </button>\n                </div>\n              </FormControl>\n              <FormMessage />\n            </FormItem>\n          )}\n        />\n\n        {form.formState.errors.root && (\n          <p className=\"text-sm text-destructive\">\n            {form.formState.errors.root.message}\n          </p>\n        )}\n\n        <Button type=\"submit\" className=\"w-full\" size=\"lg\" disabled={isLoading}>\n          {isLoading ? (\n            <>\n              <Loader2 className=\"size-4 mr-2 animate-spin\" />\n              Creating account...\n            </>\n          ) : (\n            \"Create account\"\n          )}\n        </Button>\n      </form>\n    </Form>\n  );\n}\n",
      "type": "registry:component",
      "target": "components/auth-01/components/register-form.tsx"
    },
    {
      "path": "src/registry/blocks/auth-01/components/forgot-password-form.tsx",
      "content": "\"use client\";\n\nimport { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { z } from \"zod\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport {\n  Form,\n  FormControl,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage,\n} from \"@/components/ui/form\";\nimport { cn } from \"@/lib/utils\";\nimport { Mail, Loader2, CheckCircle } from \"lucide-react\";\nimport type { AuthFormProps } from \"../types/auth\";\n\n// =============================================================================\n// Validation Schema\n// =============================================================================\n\nconst forgotPasswordSchema = z.object({\n  email: z.string().email(\"Please enter a valid email address\"),\n});\n\ntype ForgotPasswordFormData = z.infer<typeof forgotPasswordSchema>;\n\n// =============================================================================\n// Forgot Password Form Component\n// =============================================================================\n\ninterface ForgotPasswordFormProps extends AuthFormProps {\n  onSubmit?: (email: string) => Promise<void>;\n}\n\nexport function ForgotPasswordForm({\n  onSubmit,\n  onSuccess,\n  onError,\n  className,\n}: ForgotPasswordFormProps) {\n  const [isLoading, setIsLoading] = useState(false);\n  const [isSuccess, setIsSuccess] = useState(false);\n  const [submittedEmail, setSubmittedEmail] = useState(\"\");\n\n  const form = useForm<ForgotPasswordFormData>({\n    resolver: zodResolver(forgotPasswordSchema),\n    defaultValues: {\n      email: \"\",\n    },\n  });\n\n  const handleSubmit = async (data: ForgotPasswordFormData) => {\n    setIsLoading(true);\n    try {\n      await onSubmit?.(data.email);\n      setSubmittedEmail(data.email);\n      setIsSuccess(true);\n      onSuccess?.();\n    } catch (error) {\n      const message = error instanceof Error ? error.message : \"Failed to send reset email\";\n      onError?.(message);\n      form.setError(\"root\", { message });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  if (isSuccess) {\n    return (\n      <div className={cn(\"text-center space-y-4\", className)}>\n        <div className=\"flex justify-center\">\n          <div className=\"size-12 rounded-full bg-emerald-100 dark:bg-emerald-900/30 flex items-center justify-center\">\n            <CheckCircle className=\"size-6 text-emerald-600\" />\n          </div>\n        </div>\n        <div className=\"space-y-2\">\n          <h3 className=\"text-lg font-semibold\">Check your email</h3>\n          <p className=\"text-sm text-muted-foreground\">\n            We've sent a password reset link to{\" \"}\n            <span className=\"font-medium text-foreground\">{submittedEmail}</span>\n          </p>\n        </div>\n        <Button\n          variant=\"outline\"\n          className=\"w-full\"\n          onClick={() => {\n            setIsSuccess(false);\n            form.reset();\n          }}\n        >\n          Send another link\n        </Button>\n      </div>\n    );\n  }\n\n  return (\n    <Form {...form}>\n      <form\n        onSubmit={form.handleSubmit(handleSubmit)}\n        className={cn(\"space-y-4\", className)}\n      >\n        <FormField\n          control={form.control}\n          name=\"email\"\n          render={({ field }) => (\n            <FormItem>\n              <FormLabel>Email</FormLabel>\n              <FormControl>\n                <div className=\"relative\">\n                  <Mail className=\"absolute left-3 top-1/2 -translate-y-1/2 size-4 text-muted-foreground\" />\n                  <Input\n                    type=\"email\"\n                    placeholder=\"name@example.com\"\n                    className=\"pl-10\"\n                    disabled={isLoading}\n                    {...field}\n                  />\n                </div>\n              </FormControl>\n              <FormMessage />\n            </FormItem>\n          )}\n        />\n\n        {form.formState.errors.root && (\n          <p className=\"text-sm text-destructive\">\n            {form.formState.errors.root.message}\n          </p>\n        )}\n\n        <Button type=\"submit\" className=\"w-full\" size=\"lg\" disabled={isLoading}>\n          {isLoading ? (\n            <>\n              <Loader2 className=\"size-4 mr-2 animate-spin\" />\n              Sending...\n            </>\n          ) : (\n            \"Send reset link\"\n          )}\n        </Button>\n      </form>\n    </Form>\n  );\n}\n",
      "type": "registry:component",
      "target": "components/auth-01/components/forgot-password-form.tsx"
    },
    {
      "path": "src/registry/blocks/auth-01/components/reset-password-form.tsx",
      "content": "\"use client\";\n\nimport { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { z } from \"zod\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport {\n  Form,\n  FormControl,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage,\n} from \"@/components/ui/form\";\nimport { cn } from \"@/lib/utils\";\nimport { Eye, EyeOff, Lock, Loader2, CheckCircle } from \"lucide-react\";\nimport type { AuthFormProps } from \"../types/auth\";\n\n// =============================================================================\n// Validation Schema\n// =============================================================================\n\nconst resetPasswordSchema = z\n  .object({\n    password: z\n      .string()\n      .min(8, \"Password must be at least 8 characters\")\n      .regex(/[A-Z]/, \"Must contain an uppercase letter\")\n      .regex(/[a-z]/, \"Must contain a lowercase letter\")\n      .regex(/[0-9]/, \"Must contain a number\"),\n    confirmPassword: z.string(),\n  })\n  .refine((data) => data.password === data.confirmPassword, {\n    message: \"Passwords don't match\",\n    path: [\"confirmPassword\"],\n  });\n\ntype ResetPasswordFormData = z.infer<typeof resetPasswordSchema>;\n\n// =============================================================================\n// Reset Password Form Component\n// =============================================================================\n\ninterface ResetPasswordFormProps extends AuthFormProps {\n  onSubmit?: (password: string) => Promise<void>;\n  loginHref?: string;\n}\n\nexport function ResetPasswordForm({\n  onSubmit,\n  onSuccess,\n  onError,\n  loginHref = \"#\",\n  className,\n}: ResetPasswordFormProps) {\n  const [showPassword, setShowPassword] = useState(false);\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [isSuccess, setIsSuccess] = useState(false);\n\n  const form = useForm<ResetPasswordFormData>({\n    resolver: zodResolver(resetPasswordSchema),\n    defaultValues: {\n      password: \"\",\n      confirmPassword: \"\",\n    },\n  });\n\n  const handleSubmit = async (data: ResetPasswordFormData) => {\n    setIsLoading(true);\n    try {\n      await onSubmit?.(data.password);\n      setIsSuccess(true);\n      onSuccess?.();\n    } catch (error) {\n      const message = error instanceof Error ? error.message : \"Failed to reset password\";\n      onError?.(message);\n      form.setError(\"root\", { message });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  if (isSuccess) {\n    return (\n      <div className={cn(\"text-center space-y-4\", className)}>\n        <div className=\"flex justify-center\">\n          <div className=\"size-12 rounded-full bg-emerald-100 dark:bg-emerald-900/30 flex items-center justify-center\">\n            <CheckCircle className=\"size-6 text-emerald-600\" />\n          </div>\n        </div>\n        <div className=\"space-y-2\">\n          <h3 className=\"text-lg font-semibold\">Password updated</h3>\n          <p className=\"text-sm text-muted-foreground\">\n            Your password has been successfully reset. You can now sign in with your new password.\n          </p>\n        </div>\n        <Button asChild className=\"w-full\">\n          <a href={loginHref}>Sign in</a>\n        </Button>\n      </div>\n    );\n  }\n\n  return (\n    <Form {...form}>\n      <form\n        onSubmit={form.handleSubmit(handleSubmit)}\n        className={cn(\"space-y-4\", className)}\n      >\n        <FormField\n          control={form.control}\n          name=\"password\"\n          render={({ field }) => (\n            <FormItem>\n              <FormLabel>New Password</FormLabel>\n              <FormControl>\n                <div className=\"relative\">\n                  <Lock className=\"absolute left-3 top-1/2 -translate-y-1/2 size-4 text-muted-foreground\" />\n                  <Input\n                    type={showPassword ? \"text\" : \"password\"}\n                    placeholder=\"Enter new password\"\n                    className=\"pl-10 pr-10\"\n                    disabled={isLoading}\n                    {...field}\n                  />\n                  <button\n                    type=\"button\"\n                    onClick={() => setShowPassword(!showPassword)}\n                    className=\"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors\"\n                    tabIndex={-1}\n                  >\n                    {showPassword ? (\n                      <EyeOff className=\"size-4\" />\n                    ) : (\n                      <Eye className=\"size-4\" />\n                    )}\n                  </button>\n                </div>\n              </FormControl>\n              <FormMessage />\n            </FormItem>\n          )}\n        />\n\n        <FormField\n          control={form.control}\n          name=\"confirmPassword\"\n          render={({ field }) => (\n            <FormItem>\n              <FormLabel>Confirm New Password</FormLabel>\n              <FormControl>\n                <div className=\"relative\">\n                  <Lock className=\"absolute left-3 top-1/2 -translate-y-1/2 size-4 text-muted-foreground\" />\n                  <Input\n                    type={showConfirmPassword ? \"text\" : \"password\"}\n                    placeholder=\"Confirm new password\"\n                    className=\"pl-10 pr-10\"\n                    disabled={isLoading}\n                    {...field}\n                  />\n                  <button\n                    type=\"button\"\n                    onClick={() => setShowConfirmPassword(!showConfirmPassword)}\n                    className=\"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors\"\n                    tabIndex={-1}\n                  >\n                    {showConfirmPassword ? (\n                      <EyeOff className=\"size-4\" />\n                    ) : (\n                      <Eye className=\"size-4\" />\n                    )}\n                  </button>\n                </div>\n              </FormControl>\n              <FormMessage />\n            </FormItem>\n          )}\n        />\n\n        {form.formState.errors.root && (\n          <p className=\"text-sm text-destructive\">\n            {form.formState.errors.root.message}\n          </p>\n        )}\n\n        <Button type=\"submit\" className=\"w-full\" size=\"lg\" disabled={isLoading}>\n          {isLoading ? (\n            <>\n              <Loader2 className=\"size-4 mr-2 animate-spin\" />\n              Resetting...\n            </>\n          ) : (\n            \"Reset password\"\n          )}\n        </Button>\n      </form>\n    </Form>\n  );\n}\n",
      "type": "registry:component",
      "target": "components/auth-01/components/reset-password-form.tsx"
    },
    {
      "path": "src/registry/blocks/auth-01/components/magic-link-form.tsx",
      "content": "\"use client\";\n\nimport { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { z } from \"zod\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport {\n  Form,\n  FormControl,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage,\n} from \"@/components/ui/form\";\nimport { cn } from \"@/lib/utils\";\nimport { Mail, Loader2, CheckCircle, Sparkles } from \"lucide-react\";\nimport type { AuthFormProps } from \"../types/auth\";\n\n// =============================================================================\n// Validation Schema\n// =============================================================================\n\nconst magicLinkSchema = z.object({\n  email: z.string().email(\"Please enter a valid email address\"),\n});\n\ntype MagicLinkFormData = z.infer<typeof magicLinkSchema>;\n\n// =============================================================================\n// Magic Link Form Component\n// =============================================================================\n\ninterface MagicLinkFormProps extends AuthFormProps {\n  onSubmit?: (email: string) => Promise<void>;\n}\n\nexport function MagicLinkForm({\n  onSubmit,\n  onSuccess,\n  onError,\n  className,\n}: MagicLinkFormProps) {\n  const [isLoading, setIsLoading] = useState(false);\n  const [isSuccess, setIsSuccess] = useState(false);\n  const [submittedEmail, setSubmittedEmail] = useState(\"\");\n\n  const form = useForm<MagicLinkFormData>({\n    resolver: zodResolver(magicLinkSchema),\n    defaultValues: {\n      email: \"\",\n    },\n  });\n\n  const handleSubmit = async (data: MagicLinkFormData) => {\n    setIsLoading(true);\n    try {\n      await onSubmit?.(data.email);\n      setSubmittedEmail(data.email);\n      setIsSuccess(true);\n      onSuccess?.();\n    } catch (error) {\n      const message = error instanceof Error ? error.message : \"Failed to send magic link\";\n      onError?.(message);\n      form.setError(\"root\", { message });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  if (isSuccess) {\n    return (\n      <div className={cn(\"text-center space-y-4\", className)}>\n        <div className=\"flex justify-center\">\n          <div className=\"size-12 rounded-full bg-primary/10 flex items-center justify-center\">\n            <CheckCircle className=\"size-6 text-primary\" />\n          </div>\n        </div>\n        <div className=\"space-y-2\">\n          <h3 className=\"text-lg font-semibold\">Check your email</h3>\n          <p className=\"text-sm text-muted-foreground\">\n            We've sent a magic link to{\" \"}\n            <span className=\"font-medium text-foreground\">{submittedEmail}</span>\n          </p>\n          <p className=\"text-xs text-muted-foreground\">\n            Click the link in the email to sign in. No password needed!\n          </p>\n        </div>\n        <Button\n          variant=\"outline\"\n          className=\"w-full\"\n          onClick={() => {\n            setIsSuccess(false);\n            form.reset();\n          }}\n        >\n          Send another link\n        </Button>\n      </div>\n    );\n  }\n\n  return (\n    <Form {...form}>\n      <form\n        onSubmit={form.handleSubmit(handleSubmit)}\n        className={cn(\"space-y-4\", className)}\n      >\n        <div className=\"flex items-center gap-2 text-sm text-muted-foreground mb-2\">\n          <Sparkles className=\"size-4 text-primary\" />\n          <span>Sign in without a password</span>\n        </div>\n\n        <FormField\n          control={form.control}\n          name=\"email\"\n          render={({ field }) => (\n            <FormItem>\n              <FormLabel>Email</FormLabel>\n              <FormControl>\n                <div className=\"relative\">\n                  <Mail className=\"absolute left-3 top-1/2 -translate-y-1/2 size-4 text-muted-foreground\" />\n                  <Input\n                    type=\"email\"\n                    placeholder=\"name@example.com\"\n                    className=\"pl-10\"\n                    disabled={isLoading}\n                    {...field}\n                  />\n                </div>\n              </FormControl>\n              <FormMessage />\n            </FormItem>\n          )}\n        />\n\n        {form.formState.errors.root && (\n          <p className=\"text-sm text-destructive\">\n            {form.formState.errors.root.message}\n          </p>\n        )}\n\n        <Button type=\"submit\" className=\"w-full\" size=\"lg\" disabled={isLoading}>\n          {isLoading ? (\n            <>\n              <Loader2 className=\"size-4 mr-2 animate-spin\" />\n              Sending magic link...\n            </>\n          ) : (\n            <>\n              <Sparkles className=\"size-4 mr-2\" />\n              Send magic link\n            </>\n          )}\n        </Button>\n      </form>\n    </Form>\n  );\n}\n",
      "type": "registry:component",
      "target": "components/auth-01/components/magic-link-form.tsx"
    },
    {
      "path": "src/registry/blocks/auth-01/components/oauth-buttons.tsx",
      "content": "\"use client\";\n\nimport { useState } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { cn } from \"@/lib/utils\";\nimport { Loader2 } from \"lucide-react\";\nimport type { OAuthProvider, OAuthButtonsProps } from \"../types/auth\";\n\n// =============================================================================\n// OAuth Provider Icons\n// =============================================================================\n\nfunction GoogleIcon({ className }: { className?: string }) {\n  return (\n    <svg className={className} viewBox=\"0 0 24 24\" fill=\"currentColor\">\n      <path d=\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\" fill=\"#4285F4\" />\n      <path d=\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\" fill=\"#34A853\" />\n      <path d=\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\" fill=\"#FBBC05\" />\n      <path d=\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\" fill=\"#EA4335\" />\n    </svg>\n  );\n}\n\nfunction GitHubIcon({ className }: { className?: string }) {\n  return (\n    <svg className={className} viewBox=\"0 0 24 24\" fill=\"currentColor\">\n      <path d=\"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z\" />\n    </svg>\n  );\n}\n\nfunction DiscordIcon({ className }: { className?: string }) {\n  return (\n    <svg className={className} viewBox=\"0 0 24 24\" fill=\"currentColor\">\n      <path d=\"M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.037 19.7363 19.7363 0 00-4.8852 1.515.0699.0699 0 00-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824 0 00.0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.873.8914.0766.0766 0 00-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077 0 00.0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9555-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.9555 2.4189-2.1569 2.4189zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9554-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.946 2.4189-2.1568 2.4189Z\" />\n    </svg>\n  );\n}\n\nfunction TwitterIcon({ className }: { className?: string }) {\n  return (\n    <svg className={className} viewBox=\"0 0 24 24\" fill=\"currentColor\">\n      <path d=\"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z\" />\n    </svg>\n  );\n}\n\nconst providerIcons: Record<OAuthProvider, React.ComponentType<{ className?: string }>> = {\n  google: GoogleIcon,\n  github: GitHubIcon,\n  discord: DiscordIcon,\n  twitter: TwitterIcon,\n};\n\nconst providerLabels: Record<OAuthProvider, string> = {\n  google: \"Google\",\n  github: \"GitHub\",\n  discord: \"Discord\",\n  twitter: \"Twitter\",\n};\n\n// =============================================================================\n// OAuth Buttons Component\n// =============================================================================\n\nexport function OAuthButtons({\n  providers = [\"google\", \"github\"],\n  onOAuthClick,\n  isLoading = false,\n  className,\n}: OAuthButtonsProps) {\n  const [loadingProvider, setLoadingProvider] = useState<OAuthProvider | null>(null);\n\n  const handleClick = async (provider: OAuthProvider) => {\n    if (isLoading || loadingProvider) return;\n\n    setLoadingProvider(provider);\n    try {\n      await onOAuthClick?.(provider);\n    } finally {\n      setLoadingProvider(null);\n    }\n  };\n\n  return (\n    <div className={cn(\"grid gap-3\", providers.length > 2 ? \"grid-cols-2\" : \"grid-cols-1\", className)}>\n      {providers.map((provider) => {\n        const Icon = providerIcons[provider];\n        const isCurrentLoading = loadingProvider === provider;\n\n        return (\n          <Button\n            key={provider}\n            variant=\"outline\"\n            size=\"lg\"\n            className=\"w-full\"\n            disabled={isLoading || !!loadingProvider}\n            onClick={() => handleClick(provider)}\n          >\n            {isCurrentLoading ? (\n              <Loader2 className=\"size-5 mr-2 animate-spin\" />\n            ) : (\n              <Icon className=\"size-5 mr-2\" />\n            )}\n            Continue with {providerLabels[provider]}\n          </Button>\n        );\n      })}\n    </div>\n  );\n}\n",
      "type": "registry:component",
      "target": "components/auth-01/components/oauth-buttons.tsx"
    },
    {
      "path": "src/registry/blocks/auth-01/supabase/auth-actions.ts",
      "content": "\"use server\";\n\n/**\n * Supabase Auth Server Actions\n *\n * These server actions handle authentication with Supabase Auth.\n * They should be used with Next.js App Router.\n *\n * @example\n * // In a server component or server action\n * import { signInWithEmail, signUpWithEmail, signOut } from \"@/components/auth-01/supabase/auth-actions\"\n *\n * // Sign in\n * await signInWithEmail(\"user@example.com\", \"password\")\n *\n * // Sign up\n * await signUpWithEmail(\"user@example.com\", \"password\", \"John Doe\")\n *\n * // Sign out\n * await signOut()\n */\n\nimport type { OAuthProvider } from \"../types/auth\";\n\n// =============================================================================\n// MOCK IMPLEMENTATIONS (for preview/demo)\n// Replace with actual Supabase client calls in production\n// =============================================================================\n\n/**\n * Sign in with email and password\n */\nexport async function signInWithEmail(email: string, password: string) {\n  // Simulate network delay\n  await new Promise((resolve) => setTimeout(resolve, 1000));\n\n  // Demo: reject invalid credentials\n  if (password.length < 8) {\n    throw new Error(\"Invalid email or password\");\n  }\n\n  return {\n    user: {\n      id: \"demo-user-id\",\n      email,\n      name: email.split(\"@\")[0],\n    },\n  };\n}\n\n/**\n * Sign up with email and password\n */\nexport async function signUpWithEmail(email: string, password: string, name?: string) {\n  // Simulate network delay\n  await new Promise((resolve) => setTimeout(resolve, 1000));\n\n  // Demo: check password requirements\n  if (password.length < 8) {\n    throw new Error(\"Password must be at least 8 characters\");\n  }\n\n  return {\n    user: {\n      id: \"demo-user-id\",\n      email,\n      name: name ?? email.split(\"@\")[0],\n    },\n  };\n}\n\n/**\n * Sign in with OAuth provider\n * Returns the OAuth URL to redirect to\n */\nexport async function signInWithOAuth(provider: OAuthProvider) {\n  // Simulate network delay\n  await new Promise((resolve) => setTimeout(resolve, 500));\n\n  // In production, this would return the OAuth URL from Supabase\n  return {\n    url: `#oauth-${provider}`,\n  };\n}\n\n/**\n * Send password reset email\n */\nexport async function resetPassword(email: string) {\n  // Simulate network delay\n  await new Promise((resolve) => setTimeout(resolve, 1000));\n\n  // Demo: always succeed\n  return { success: true };\n}\n\n/**\n * Update user password (for reset password flow)\n */\nexport async function updatePassword(password: string) {\n  // Simulate network delay\n  await new Promise((resolve) => setTimeout(resolve, 1000));\n\n  if (password.length < 8) {\n    throw new Error(\"Password must be at least 8 characters\");\n  }\n\n  return { success: true };\n}\n\n/**\n * Send magic link email\n */\nexport async function sendMagicLink(email: string) {\n  // Simulate network delay\n  await new Promise((resolve) => setTimeout(resolve, 1000));\n\n  return { success: true };\n}\n\n/**\n * Sign out the current user\n */\nexport async function signOut() {\n  // Simulate network delay\n  await new Promise((resolve) => setTimeout(resolve, 500));\n\n  return { success: true };\n}\n\n/**\n * Get current user session\n */\nexport async function getSession() {\n  // In production, this would check the Supabase session\n  return null;\n}\n\n// =============================================================================\n// SUPABASE IMPLEMENTATION EXAMPLE (uncomment for production)\n// =============================================================================\n\n/*\nimport { createClient } from \"@/lib/supabase/server\";\nimport { redirect } from \"next/navigation\";\n\nexport async function signInWithEmail(email: string, password: string) {\n  const supabase = await createClient();\n\n  const { data, error } = await supabase.auth.signInWithPassword({\n    email,\n    password,\n  });\n\n  if (error) {\n    throw new Error(error.message);\n  }\n\n  return { user: data.user };\n}\n\nexport async function signUpWithEmail(email: string, password: string, name?: string) {\n  const supabase = await createClient();\n\n  const { data, error } = await supabase.auth.signUp({\n    email,\n    password,\n    options: {\n      data: { name },\n      emailRedirectTo: `${process.env.NEXT_PUBLIC_SITE_URL}/auth/callback`,\n    },\n  });\n\n  if (error) {\n    throw new Error(error.message);\n  }\n\n  return { user: data.user };\n}\n\nexport async function signInWithOAuth(provider: OAuthProvider) {\n  const supabase = await createClient();\n\n  const { data, error } = await supabase.auth.signInWithOAuth({\n    provider,\n    options: {\n      redirectTo: `${process.env.NEXT_PUBLIC_SITE_URL}/auth/callback`,\n    },\n  });\n\n  if (error) {\n    throw new Error(error.message);\n  }\n\n  return { url: data.url };\n}\n\nexport async function resetPassword(email: string) {\n  const supabase = await createClient();\n\n  const { error } = await supabase.auth.resetPasswordForEmail(email, {\n    redirectTo: `${process.env.NEXT_PUBLIC_SITE_URL}/auth/reset-password`,\n  });\n\n  if (error) {\n    throw new Error(error.message);\n  }\n\n  return { success: true };\n}\n\nexport async function updatePassword(password: string) {\n  const supabase = await createClient();\n\n  const { error } = await supabase.auth.updateUser({\n    password,\n  });\n\n  if (error) {\n    throw new Error(error.message);\n  }\n\n  return { success: true };\n}\n\nexport async function sendMagicLink(email: string) {\n  const supabase = await createClient();\n\n  const { error } = await supabase.auth.signInWithOtp({\n    email,\n    options: {\n      emailRedirectTo: `${process.env.NEXT_PUBLIC_SITE_URL}/auth/callback`,\n    },\n  });\n\n  if (error) {\n    throw new Error(error.message);\n  }\n\n  return { success: true };\n}\n\nexport async function signOut() {\n  const supabase = await createClient();\n  await supabase.auth.signOut();\n  redirect(\"/\");\n}\n\nexport async function getSession() {\n  const supabase = await createClient();\n  const { data: { session } } = await supabase.auth.getSession();\n  return session;\n}\n*/\n",
      "type": "registry:component",
      "target": "components/auth-01/supabase/auth-actions.ts"
    },
    {
      "path": "src/registry/blocks/auth-01/supabase/auth-provider.tsx",
      "content": "\"use client\";\n\nimport { createContext, useContext, useEffect, useState, useCallback } from \"react\";\nimport type { AuthUser, AuthSession, AuthState, OAuthProvider } from \"../types/auth\";\n\n// =============================================================================\n// Auth Context\n// =============================================================================\n\ninterface AuthContextType extends AuthState {\n  signIn: (email: string, password: string) => Promise<void>;\n  signUp: (email: string, password: string, name?: string) => Promise<void>;\n  signInWithOAuth: (provider: OAuthProvider) => Promise<void>;\n  signOut: () => Promise<void>;\n  resetPassword: (email: string) => Promise<void>;\n  updatePassword: (password: string) => Promise<void>;\n  sendMagicLink: (email: string) => Promise<void>;\n}\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\n\n// =============================================================================\n// Auth Provider\n// =============================================================================\n\ninterface AuthProviderProps {\n  children: React.ReactNode;\n  // Optional: inject custom auth handlers for different backends\n  authHandlers?: {\n    signIn?: (email: string, password: string) => Promise<{ user: AuthUser }>;\n    signUp?: (email: string, password: string, name?: string) => Promise<{ user: AuthUser }>;\n    signInWithOAuth?: (provider: OAuthProvider) => Promise<{ url: string }>;\n    signOut?: () => Promise<void>;\n    resetPassword?: (email: string) => Promise<void>;\n    updatePassword?: (password: string) => Promise<void>;\n    sendMagicLink?: (email: string) => Promise<void>;\n    getSession?: () => Promise<AuthSession | null>;\n  };\n}\n\nexport function AuthProvider({ children, authHandlers }: AuthProviderProps) {\n  const [state, setState] = useState<AuthState>({\n    user: null,\n    session: null,\n    isLoading: true,\n    error: null,\n  });\n\n  // Initialize - check for existing session\n  useEffect(() => {\n    const initializeAuth = async () => {\n      try {\n        const session = await authHandlers?.getSession?.();\n        setState({\n          user: session?.user ?? null,\n          session: session ?? null,\n          isLoading: false,\n          error: null,\n        });\n      } catch {\n        setState((prev) => ({ ...prev, isLoading: false }));\n      }\n    };\n\n    initializeAuth();\n  }, [authHandlers]);\n\n  const signIn = useCallback(\n    async (email: string, password: string) => {\n      setState((prev) => ({ ...prev, isLoading: true, error: null }));\n      try {\n        const result = await authHandlers?.signIn?.(email, password);\n        if (result?.user) {\n          setState({\n            user: result.user,\n            session: { user: result.user, accessToken: \"demo-token\" },\n            isLoading: false,\n            error: null,\n          });\n        }\n      } catch (error) {\n        const message = error instanceof Error ? error.message : \"Sign in failed\";\n        setState((prev) => ({ ...prev, isLoading: false, error: message }));\n        throw error;\n      }\n    },\n    [authHandlers]\n  );\n\n  const signUp = useCallback(\n    async (email: string, password: string, name?: string) => {\n      setState((prev) => ({ ...prev, isLoading: true, error: null }));\n      try {\n        const result = await authHandlers?.signUp?.(email, password, name);\n        if (result?.user) {\n          setState({\n            user: result.user,\n            session: { user: result.user, accessToken: \"demo-token\" },\n            isLoading: false,\n            error: null,\n          });\n        }\n      } catch (error) {\n        const message = error instanceof Error ? error.message : \"Sign up failed\";\n        setState((prev) => ({ ...prev, isLoading: false, error: message }));\n        throw error;\n      }\n    },\n    [authHandlers]\n  );\n\n  const signInWithOAuth = useCallback(\n    async (provider: OAuthProvider) => {\n      setState((prev) => ({ ...prev, isLoading: true, error: null }));\n      try {\n        const result = await authHandlers?.signInWithOAuth?.(provider);\n        if (result?.url) {\n          // Redirect to OAuth provider\n          window.location.href = result.url;\n        }\n      } catch (error) {\n        const message = error instanceof Error ? error.message : \"OAuth sign in failed\";\n        setState((prev) => ({ ...prev, isLoading: false, error: message }));\n        throw error;\n      }\n    },\n    [authHandlers]\n  );\n\n  const signOut = useCallback(async () => {\n    setState((prev) => ({ ...prev, isLoading: true, error: null }));\n    try {\n      await authHandlers?.signOut?.();\n      setState({\n        user: null,\n        session: null,\n        isLoading: false,\n        error: null,\n      });\n    } catch (error) {\n      const message = error instanceof Error ? error.message : \"Sign out failed\";\n      setState((prev) => ({ ...prev, isLoading: false, error: message }));\n      throw error;\n    }\n  }, [authHandlers]);\n\n  const resetPassword = useCallback(\n    async (email: string) => {\n      await authHandlers?.resetPassword?.(email);\n    },\n    [authHandlers]\n  );\n\n  const updatePassword = useCallback(\n    async (password: string) => {\n      await authHandlers?.updatePassword?.(password);\n    },\n    [authHandlers]\n  );\n\n  const sendMagicLink = useCallback(\n    async (email: string) => {\n      await authHandlers?.sendMagicLink?.(email);\n    },\n    [authHandlers]\n  );\n\n  return (\n    <AuthContext.Provider\n      value={{\n        ...state,\n        signIn,\n        signUp,\n        signInWithOAuth,\n        signOut,\n        resetPassword,\n        updatePassword,\n        sendMagicLink,\n      }}\n    >\n      {children}\n    </AuthContext.Provider>\n  );\n}\n\n// =============================================================================\n// Hook\n// =============================================================================\n\nexport function useAuth() {\n  const context = useContext(AuthContext);\n  if (context === undefined) {\n    throw new Error(\"useAuth must be used within an AuthProvider\");\n  }\n  return context;\n}\n\n/**\n * Supabase Setup Notes:\n *\n * 1. Create a Supabase client for server-side:\n *    // lib/supabase/server.ts\n *    import { createServerClient } from \"@supabase/ssr\";\n *    import { cookies } from \"next/headers\";\n *\n *    export async function createClient() {\n *      const cookieStore = await cookies();\n *      return createServerClient(\n *        process.env.NEXT_PUBLIC_SUPABASE_URL!,\n *        process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\n *        {\n *          cookies: {\n *            getAll() { return cookieStore.getAll(); },\n *            setAll(cookiesToSet) {\n *              cookiesToSet.forEach(({ name, value, options }) =>\n *                cookieStore.set(name, value, options)\n *              );\n *            },\n *          },\n *        }\n *      );\n *    }\n *\n * 2. Create a Supabase client for client-side:\n *    // lib/supabase/client.ts\n *    import { createBrowserClient } from \"@supabase/ssr\";\n *\n *    export function createClient() {\n *      return createBrowserClient(\n *        process.env.NEXT_PUBLIC_SUPABASE_URL!,\n *        process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\n *      );\n *    }\n *\n * 3. Set up the callback route:\n *    // app/auth/callback/route.ts\n *    import { createClient } from \"@/lib/supabase/server\";\n *    import { NextResponse } from \"next/server\";\n *\n *    export async function GET(request: Request) {\n *      const { searchParams, origin } = new URL(request.url);\n *      const code = searchParams.get(\"code\");\n *      const next = searchParams.get(\"next\") ?? \"/dashboard\";\n *\n *      if (code) {\n *        const supabase = await createClient();\n *        const { error } = await supabase.auth.exchangeCodeForSession(code);\n *        if (!error) {\n *          return NextResponse.redirect(`${origin}${next}`);\n *        }\n *      }\n *\n *      return NextResponse.redirect(`${origin}/auth/error`);\n *    }\n */\n",
      "type": "registry:component",
      "target": "components/auth-01/supabase/auth-provider.tsx"
    },
    {
      "path": "src/registry/blocks/auth-01/supabase/middleware.ts",
      "content": "/**\n * Supabase Auth Middleware Example\n *\n * This middleware protects routes by checking for valid Supabase sessions.\n * Copy this to your `src/middleware.ts` file.\n *\n * @example\n * // middleware.ts (at project root or src/)\n * export { middleware, config } from \"@/components/auth-01/supabase/middleware\"\n *\n * // Or customize the config:\n * export { middleware } from \"@/components/auth-01/supabase/middleware\"\n * export const config = {\n *   matcher: [\"/dashboard/:path*\", \"/settings/:path*\"],\n * }\n */\n\nimport { type NextRequest, NextResponse } from \"next/server\";\n\n// =============================================================================\n// SUPABASE MIDDLEWARE IMPLEMENTATION\n// =============================================================================\n\n/**\n * Create Supabase server client for middleware\n * This handles cookie management for server-side auth\n */\n// import { createServerClient } from \"@supabase/ssr\";\n//\n// function createClient(request: NextRequest) {\n//   let response = NextResponse.next({\n//     request: {\n//       headers: request.headers,\n//     },\n//   });\n//\n//   const supabase = createServerClient(\n//     process.env.NEXT_PUBLIC_SUPABASE_URL!,\n//     process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\n//     {\n//       cookies: {\n//         getAll() {\n//           return request.cookies.getAll();\n//         },\n//         setAll(cookiesToSet) {\n//           cookiesToSet.forEach(({ name, value, options }) => {\n//             request.cookies.set(name, value);\n//             response = NextResponse.next({\n//               request: {\n//                 headers: request.headers,\n//               },\n//             });\n//             response.cookies.set(name, value, options);\n//           });\n//         },\n//       },\n//     }\n//   );\n//\n//   return { supabase, response };\n// }\n\n/**\n * Middleware function to protect routes\n */\nexport async function middleware(request: NextRequest) {\n  const { pathname } = request.nextUrl;\n\n  // =============================================================================\n  // SUPABASE IMPLEMENTATION (uncomment when ready)\n  // =============================================================================\n  // const { supabase, response } = createClient(request);\n  //\n  // // Refresh session if expired\n  // const {\n  //   data: { user },\n  // } = await supabase.auth.getUser();\n  //\n  // // Define protected routes\n  // const protectedRoutes = [\"/dashboard\", \"/settings\", \"/profile\"];\n  // const authRoutes = [\"/auth/login\", \"/auth/register\", \"/auth/forgot-password\"];\n  //\n  // const isProtectedRoute = protectedRoutes.some((route) =>\n  //   pathname.startsWith(route)\n  // );\n  // const isAuthRoute = authRoutes.some((route) => pathname.startsWith(route));\n  //\n  // // Redirect unauthenticated users from protected routes\n  // if (isProtectedRoute && !user) {\n  //   const redirectUrl = new URL(\"/auth/login\", request.url);\n  //   redirectUrl.searchParams.set(\"redirect\", pathname);\n  //   return NextResponse.redirect(redirectUrl);\n  // }\n  //\n  // // Redirect authenticated users from auth routes\n  // if (isAuthRoute && user) {\n  //   return NextResponse.redirect(new URL(\"/dashboard\", request.url));\n  // }\n  //\n  // return response;\n\n  // =============================================================================\n  // DEMO MODE (remove this and uncomment above when ready)\n  // =============================================================================\n  console.log(`[Demo Middleware] Processing: ${pathname}`);\n\n  // Define protected routes\n  const protectedRoutes = [\"/dashboard\", \"/settings\", \"/profile\"];\n  const authRoutes = [\"/auth/login\", \"/auth/register\", \"/auth/forgot-password\"];\n\n  const isProtectedRoute = protectedRoutes.some((route) =>\n    pathname.startsWith(route)\n  );\n  const isAuthRoute = authRoutes.some((route) => pathname.startsWith(route));\n\n  // Demo: Check for demo auth cookie\n  const isAuthenticated = request.cookies.has(\"demo-auth\");\n\n  if (isProtectedRoute && !isAuthenticated) {\n    const redirectUrl = new URL(\"/auth/login\", request.url);\n    redirectUrl.searchParams.set(\"redirect\", pathname);\n    return NextResponse.redirect(redirectUrl);\n  }\n\n  if (isAuthRoute && isAuthenticated) {\n    return NextResponse.redirect(new URL(\"/dashboard\", request.url));\n  }\n\n  return NextResponse.next();\n}\n\n/**\n * Middleware matcher configuration\n *\n * Matches all routes except:\n * - _next/static (static files)\n * - _next/image (image optimization)\n * - favicon.ico (favicon file)\n * - public files (images, etc.)\n * - API routes (if you want to handle auth separately)\n */\nexport const config = {\n  matcher: [\n    /*\n     * Match all request paths except:\n     * - _next/static (static files)\n     * - _next/image (image optimization files)\n     * - favicon.ico (favicon file)\n     * - Public folder files\n     */\n    \"/((?!_next/static|_next/image|favicon.ico|.*\\\\.(?:svg|png|jpg|jpeg|gif|webp)$).*)\",\n  ],\n};\n",
      "type": "registry:component",
      "target": "components/auth-01/supabase/middleware.ts"
    },
    {
      "path": "src/registry/blocks/auth-01/postgres/auth-actions.ts",
      "content": "\"use server\";\n\n/**\n * PostgreSQL Auth Server Actions\n *\n * These server actions handle authentication with PostgreSQL + Drizzle ORM.\n * Uses JWT tokens stored in cookies for session management.\n *\n * Prerequisites:\n * 1. Install dependencies: drizzle-orm, bcryptjs, jose\n * 2. Configure your database connection\n * 3. Create users table with password hash column\n *\n * @example\n * // In a server component or server action\n * import { signInWithEmail, signUpWithEmail, signOut } from \"@/components/auth-01/postgres/auth-actions\"\n *\n * // Sign in\n * await signInWithEmail(\"user@example.com\", \"password\")\n *\n * // Sign up\n * await signUpWithEmail(\"user@example.com\", \"password\", \"John Doe\")\n *\n * // Sign out\n * await signOut()\n */\n\nimport type { OAuthProvider } from \"../types/auth\";\n\n// =============================================================================\n// MOCK IMPLEMENTATIONS (for preview/demo)\n// Replace with actual Drizzle ORM calls in production\n// =============================================================================\n\n/**\n * Sign in with email and password\n */\nexport async function signInWithEmail(email: string, password: string) {\n  // \n  // Drizzle ORM Implementation (uncomment when ready):\n  // \n  // import { db } from \"@/db\";\n  // import { users } from \"@/db/schema\";\n  // import { eq } from \"drizzle-orm\";\n  // import { compare } from \"bcryptjs\";\n  // import { SignJWT } from \"jose\";\n  // import { cookies } from \"next/headers\";\n  //\n  // const [user] = await db\n  //   .select()\n  //   .from(users)\n  //   .where(eq(users.email, email))\n  //   .limit(1);\n  //\n  // if (!user) {\n  //   throw new Error(\"Invalid email or password\");\n  // }\n  //\n  // const isValidPassword = await compare(password, user.passwordHash);\n  // if (!isValidPassword) {\n  //   throw new Error(\"Invalid email or password\");\n  // }\n  //\n  // // Create JWT token\n  // const secret = new TextEncoder().encode(process.env.JWT_SECRET);\n  // const token = await new SignJWT({ userId: user.id, email: user.email })\n  //   .setProtectedHeader({ alg: \"HS256\" })\n  //   .setIssuedAt()\n  //   .setExpirationTime(\"7d\")\n  //   .sign(secret);\n  //\n  // // Set cookie\n  // const cookieStore = await cookies();\n  // cookieStore.set(\"auth-token\", token, {\n  //   httpOnly: true,\n  //   secure: process.env.NODE_ENV === \"production\",\n  //   sameSite: \"lax\",\n  //   maxAge: 60 * 60 * 24 * 7, // 7 days\n  // });\n  //\n  // // Update last login\n  // await db\n  //   .update(users)\n  //   .set({ lastLogin: new Date() })\n  //   .where(eq(users.id, user.id));\n  //\n  // return {\n  //   user: {\n  //     id: user.id,\n  //     email: user.email,\n  //     name: user.name,\n  //   },\n  // };\n\n  // \n  // Demo mode:\n  // \n  console.log(`[Demo] Sign in with email: ${email}`);\n  await new Promise((resolve) => setTimeout(resolve, 1000));\n\n  if (password.length < 8) {\n    throw new Error(\"Invalid email or password\");\n  }\n\n  return {\n    user: {\n      id: \"demo-user-id\",\n      email,\n      name: email.split(\"@\")[0],\n    },\n  };\n}\n\n/**\n * Sign up with email and password\n */\nexport async function signUpWithEmail(email: string, password: string, name?: string) {\n  // \n  // Drizzle ORM Implementation (uncomment when ready):\n  // \n  // import { db } from \"@/db\";\n  // import { users } from \"@/db/schema\";\n  // import { eq } from \"drizzle-orm\";\n  // import { hash } from \"bcryptjs\";\n  //\n  // // Check if user already exists\n  // const [existingUser] = await db\n  //   .select()\n  //   .from(users)\n  //   .where(eq(users.email, email))\n  //   .limit(1);\n  //\n  // if (existingUser) {\n  //   throw new Error(\"User with this email already exists\");\n  // }\n  //\n  // // Hash password\n  // const passwordHash = await hash(password, 12);\n  //\n  // // Create user\n  // const [newUser] = await db\n  //   .insert(users)\n  //   .values({\n  //     email,\n  //     name: name ?? email.split(\"@\")[0],\n  //     passwordHash,\n  //   })\n  //   .returning();\n  //\n  // return {\n  //   user: {\n  //     id: newUser.id,\n  //     email: newUser.email,\n  //     name: newUser.name,\n  //   },\n  // };\n\n  // \n  // Demo mode:\n  // \n  console.log(`[Demo] Sign up with email: ${email}`);\n  await new Promise((resolve) => setTimeout(resolve, 1000));\n\n  if (password.length < 8) {\n    throw new Error(\"Password must be at least 8 characters\");\n  }\n\n  return {\n    user: {\n      id: crypto.randomUUID(),\n      email,\n      name: name ?? email.split(\"@\")[0],\n    },\n  };\n}\n\n/**\n * Sign in with OAuth provider\n * Note: OAuth with PostgreSQL requires additional setup (OAuth provider registration)\n * Returns the OAuth URL to redirect to\n */\nexport async function signInWithOAuth(provider: OAuthProvider) {\n  // \n  // OAuth Implementation (requires provider configuration):\n  // \n  // For OAuth with PostgreSQL, you'll need to:\n  // 1. Register your app with the OAuth provider (Google, GitHub, etc.)\n  // 2. Store OAuth credentials in environment variables\n  // 3. Handle the OAuth callback and create/update user records\n  //\n  // Example using next-auth or arctic (OAuth library):\n  // import { generateState, generateCodeVerifier } from \"arctic\";\n  // import { github, google } from \"@/lib/oauth\";\n  //\n  // const state = generateState();\n  // const codeVerifier = generateCodeVerifier();\n  //\n  // const cookieStore = await cookies();\n  // cookieStore.set(\"oauth_state\", state, { httpOnly: true, secure: true });\n  // cookieStore.set(\"oauth_code_verifier\", codeVerifier, { httpOnly: true, secure: true });\n  //\n  // let url: URL;\n  // switch (provider) {\n  //   case \"github\":\n  //     url = github.createAuthorizationURL(state, [\"user:email\"]);\n  //     break;\n  //   case \"google\":\n  //     url = google.createAuthorizationURL(state, codeVerifier, [\"openid\", \"email\", \"profile\"]);\n  //     break;\n  //   default:\n  //     throw new Error(`Unsupported OAuth provider: ${provider}`);\n  // }\n  //\n  // return { url: url.toString() };\n\n  // \n  // Demo mode:\n  // \n  console.log(`[Demo] Sign in with OAuth provider: ${provider}`);\n  await new Promise((resolve) => setTimeout(resolve, 500));\n\n  return {\n    url: `#oauth-${provider}`,\n  };\n}\n\n/**\n * Send password reset email\n */\nexport async function resetPassword(email: string) {\n  // \n  // Drizzle ORM Implementation (uncomment when ready):\n  // \n  // import { db } from \"@/db\";\n  // import { users, passwordResetTokens } from \"@/db/schema\";\n  // import { eq } from \"drizzle-orm\";\n  // import { sendEmail } from \"@/lib/email\";\n  //\n  // const [user] = await db\n  //   .select()\n  //   .from(users)\n  //   .where(eq(users.email, email))\n  //   .limit(1);\n  //\n  // // Don't reveal if user exists\n  // if (!user) {\n  //   return { success: true };\n  // }\n  //\n  // // Generate reset token\n  // const token = crypto.randomUUID();\n  // const expiresAt = new Date(Date.now() + 1000 * 60 * 60); // 1 hour\n  //\n  // // Store token in database\n  // await db.insert(passwordResetTokens).values({\n  //   userId: user.id,\n  //   token,\n  //   expiresAt,\n  // });\n  //\n  // // Send reset email\n  // const resetUrl = `${process.env.NEXT_PUBLIC_SITE_URL}/auth/reset-password?code=${token}`;\n  // await sendEmail({\n  //   to: email,\n  //   subject: \"Reset your password\",\n  //   html: `<p>Click <a href=\"${resetUrl}\">here</a> to reset your password.</p>`,\n  // });\n  //\n  // return { success: true };\n\n  // \n  // Demo mode:\n  // \n  console.log(`[Demo] Send password reset email to: ${email}`);\n  await new Promise((resolve) => setTimeout(resolve, 1000));\n\n  return { success: true };\n}\n\n/**\n * Update user password (for reset password flow)\n */\nexport async function updatePassword(password: string, token?: string) {\n  // \n  // Drizzle ORM Implementation (uncomment when ready):\n  // \n  // import { db } from \"@/db\";\n  // import { users, passwordResetTokens } from \"@/db/schema\";\n  // import { eq, and, gt } from \"drizzle-orm\";\n  // import { hash } from \"bcryptjs\";\n  //\n  // if (!token) {\n  //   throw new Error(\"Reset token is required\");\n  // }\n  //\n  // // Find valid reset token\n  // const [resetToken] = await db\n  //   .select()\n  //   .from(passwordResetTokens)\n  //   .where(\n  //     and(\n  //       eq(passwordResetTokens.token, token),\n  //       gt(passwordResetTokens.expiresAt, new Date())\n  //     )\n  //   )\n  //   .limit(1);\n  //\n  // if (!resetToken) {\n  //   throw new Error(\"Invalid or expired reset token\");\n  // }\n  //\n  // // Hash new password\n  // const passwordHash = await hash(password, 12);\n  //\n  // // Update user password\n  // await db\n  //   .update(users)\n  //   .set({ passwordHash })\n  //   .where(eq(users.id, resetToken.userId));\n  //\n  // // Delete used token\n  // await db\n  //   .delete(passwordResetTokens)\n  //   .where(eq(passwordResetTokens.id, resetToken.id));\n  //\n  // return { success: true };\n\n  // \n  // Demo mode:\n  // \n  console.log(`[Demo] Update password with token: ${token}`);\n  await new Promise((resolve) => setTimeout(resolve, 1000));\n\n  if (password.length < 8) {\n    throw new Error(\"Password must be at least 8 characters\");\n  }\n\n  return { success: true };\n}\n\n/**\n * Sign out the current user\n */\nexport async function signOut() {\n  // \n  // Implementation (uncomment when ready):\n  // \n  // import { cookies } from \"next/headers\";\n  // import { redirect } from \"next/navigation\";\n  //\n  // const cookieStore = await cookies();\n  // cookieStore.delete(\"auth-token\");\n  //\n  // redirect(\"/\");\n\n  // \n  // Demo mode:\n  // \n  console.log(`[Demo] Sign out`);\n  await new Promise((resolve) => setTimeout(resolve, 500));\n\n  return { success: true };\n}\n\n/**\n * Get current user session from JWT token\n */\nexport async function getSession() {\n  // \n  // Implementation (uncomment when ready):\n  // \n  // import { cookies } from \"next/headers\";\n  // import { jwtVerify } from \"jose\";\n  // import { db } from \"@/db\";\n  // import { users } from \"@/db/schema\";\n  // import { eq } from \"drizzle-orm\";\n  //\n  // const cookieStore = await cookies();\n  // const token = cookieStore.get(\"auth-token\")?.value;\n  //\n  // if (!token) {\n  //   return null;\n  // }\n  //\n  // try {\n  //   const secret = new TextEncoder().encode(process.env.JWT_SECRET);\n  //   const { payload } = await jwtVerify(token, secret);\n  //\n  //   const [user] = await db\n  //     .select()\n  //     .from(users)\n  //     .where(eq(users.id, payload.userId as string))\n  //     .limit(1);\n  //\n  //   if (!user) {\n  //     return null;\n  //   }\n  //\n  //   return {\n  //     user: {\n  //       id: user.id,\n  //       email: user.email,\n  //       name: user.name,\n  //     },\n  //   };\n  // } catch {\n  //   return null;\n  // }\n\n  // \n  // Demo mode:\n  // \n  return null;\n}\n\n/**\n * Drizzle Schema Example:\n *\n * // db/schema.ts\n * import { pgTable, text, timestamp, uuid } from \"drizzle-orm/pg-core\";\n *\n * export const users = pgTable(\"users\", {\n *   id: uuid(\"id\").defaultRandom().primaryKey(),\n *   email: text(\"email\").unique().notNull(),\n *   name: text(\"name\").notNull(),\n *   passwordHash: text(\"password_hash\").notNull(),\n *   emailVerified: timestamp(\"email_verified\"),\n *   createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n *   lastLogin: timestamp(\"last_login\"),\n * });\n *\n * export const passwordResetTokens = pgTable(\"password_reset_tokens\", {\n *   id: uuid(\"id\").defaultRandom().primaryKey(),\n *   userId: uuid(\"user_id\").references(() => users.id).notNull(),\n *   token: text(\"token\").unique().notNull(),\n *   expiresAt: timestamp(\"expires_at\").notNull(),\n *   createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n * });\n *\n * // SQL to create tables:\n * CREATE TABLE users (\n *   id UUID DEFAULT gen_random_uuid() PRIMARY KEY,\n *   email TEXT UNIQUE NOT NULL,\n *   name TEXT NOT NULL,\n *   password_hash TEXT NOT NULL,\n *   email_verified TIMESTAMPTZ,\n *   created_at TIMESTAMPTZ DEFAULT NOW() NOT NULL,\n *   last_login TIMESTAMPTZ\n * );\n *\n * CREATE TABLE password_reset_tokens (\n *   id UUID DEFAULT gen_random_uuid() PRIMARY KEY,\n *   user_id UUID REFERENCES users(id) ON DELETE CASCADE NOT NULL,\n *   token TEXT UNIQUE NOT NULL,\n *   expires_at TIMESTAMPTZ NOT NULL,\n *   created_at TIMESTAMPTZ DEFAULT NOW() NOT NULL\n * );\n *\n * -- Indexes\n * CREATE INDEX idx_users_email ON users(email);\n * CREATE INDEX idx_password_reset_tokens_token ON password_reset_tokens(token);\n * CREATE INDEX idx_password_reset_tokens_user_id ON password_reset_tokens(user_id);\n */\n",
      "type": "registry:component",
      "target": "components/auth-01/postgres/auth-actions.ts"
    },
    {
      "path": "src/registry/blocks/auth-01/postgres/middleware.ts",
      "content": "/**\n * PostgreSQL Auth Middleware Example (JWT-based)\n *\n * This middleware protects routes by verifying JWT tokens stored in cookies.\n * Copy this to your `src/middleware.ts` file.\n *\n * Prerequisites:\n * 1. Install jose: pnpm add jose\n * 2. Set JWT_SECRET in your environment variables\n *\n * @example\n * // middleware.ts (at project root or src/)\n * export { middleware, config } from \"@/components/auth-01/postgres/middleware\"\n *\n * // Or customize the config:\n * export { middleware } from \"@/components/auth-01/postgres/middleware\"\n * export const config = {\n *   matcher: [\"/dashboard/:path*\", \"/settings/:path*\"],\n * }\n */\n\nimport { type NextRequest, NextResponse } from \"next/server\";\n\n// =============================================================================\n// JWT VERIFICATION IMPLEMENTATION\n// =============================================================================\n\n/**\n * Verify JWT token from cookies\n */\n// import { jwtVerify } from \"jose\";\n//\n// async function verifyAuth(request: NextRequest) {\n//   const token = request.cookies.get(\"auth-token\")?.value;\n//\n//   if (!token) {\n//     return null;\n//   }\n//\n//   try {\n//     const secret = new TextEncoder().encode(process.env.JWT_SECRET);\n//     const { payload } = await jwtVerify(token, secret);\n//     return payload;\n//   } catch {\n//     return null;\n//   }\n// }\n\n/**\n * Middleware function to protect routes\n */\nexport async function middleware(request: NextRequest) {\n  const { pathname } = request.nextUrl;\n\n  // =============================================================================\n  // JWT IMPLEMENTATION (uncomment when ready)\n  // =============================================================================\n  // const user = await verifyAuth(request);\n  //\n  // // Define protected routes\n  // const protectedRoutes = [\"/dashboard\", \"/settings\", \"/profile\"];\n  // const authRoutes = [\"/auth/login\", \"/auth/register\", \"/auth/forgot-password\"];\n  // const adminRoutes = [\"/admin\"];\n  //\n  // const isProtectedRoute = protectedRoutes.some((route) =>\n  //   pathname.startsWith(route)\n  // );\n  // const isAuthRoute = authRoutes.some((route) => pathname.startsWith(route));\n  // const isAdminRoute = adminRoutes.some((route) => pathname.startsWith(route));\n  //\n  // // Redirect unauthenticated users from protected routes\n  // if (isProtectedRoute && !user) {\n  //   const redirectUrl = new URL(\"/auth/login\", request.url);\n  //   redirectUrl.searchParams.set(\"redirect\", pathname);\n  //   return NextResponse.redirect(redirectUrl);\n  // }\n  //\n  // // Check admin access\n  // if (isAdminRoute) {\n  //   if (!user) {\n  //     const redirectUrl = new URL(\"/auth/login\", request.url);\n  //     redirectUrl.searchParams.set(\"redirect\", pathname);\n  //     return NextResponse.redirect(redirectUrl);\n  //   }\n  //   if (user.role !== \"admin\") {\n  //     return NextResponse.redirect(new URL(\"/dashboard\", request.url));\n  //   }\n  // }\n  //\n  // // Redirect authenticated users from auth routes\n  // if (isAuthRoute && user) {\n  //   return NextResponse.redirect(new URL(\"/dashboard\", request.url));\n  // }\n  //\n  // // Add user info to headers for use in server components\n  // const response = NextResponse.next();\n  // if (user) {\n  //   response.headers.set(\"x-user-id\", user.userId as string);\n  //   response.headers.set(\"x-user-email\", user.email as string);\n  // }\n  //\n  // return response;\n\n  // =============================================================================\n  // DEMO MODE (remove this and uncomment above when ready)\n  // =============================================================================\n  console.log(`[Demo Middleware] Processing: ${pathname}`);\n\n  // Define protected routes\n  const protectedRoutes = [\"/dashboard\", \"/settings\", \"/profile\"];\n  const authRoutes = [\"/auth/login\", \"/auth/register\", \"/auth/forgot-password\"];\n  const adminRoutes = [\"/admin\"];\n\n  const isProtectedRoute = protectedRoutes.some((route) =>\n    pathname.startsWith(route)\n  );\n  const isAuthRoute = authRoutes.some((route) => pathname.startsWith(route));\n  const isAdminRoute = adminRoutes.some((route) => pathname.startsWith(route));\n\n  // Demo: Check for demo auth cookie\n  const isAuthenticated = request.cookies.has(\"demo-auth\");\n  const isAdmin = request.cookies.get(\"demo-role\")?.value === \"admin\";\n\n  if ((isProtectedRoute || isAdminRoute) && !isAuthenticated) {\n    const redirectUrl = new URL(\"/auth/login\", request.url);\n    redirectUrl.searchParams.set(\"redirect\", pathname);\n    return NextResponse.redirect(redirectUrl);\n  }\n\n  if (isAdminRoute && !isAdmin) {\n    return NextResponse.redirect(new URL(\"/dashboard\", request.url));\n  }\n\n  if (isAuthRoute && isAuthenticated) {\n    return NextResponse.redirect(new URL(\"/dashboard\", request.url));\n  }\n\n  return NextResponse.next();\n}\n\n/**\n * Middleware matcher configuration\n *\n * Matches all routes except:\n * - _next/static (static files)\n * - _next/image (image optimization)\n * - favicon.ico (favicon file)\n * - public files (images, etc.)\n * - API routes (if you want to handle auth separately)\n */\nexport const config = {\n  matcher: [\n    /*\n     * Match all request paths except:\n     * - _next/static (static files)\n     * - _next/image (image optimization files)\n     * - favicon.ico (favicon file)\n     * - Public folder files\n     */\n    \"/((?!_next/static|_next/image|favicon.ico|.*\\\\.(?:svg|png|jpg|jpeg|gif|webp)$).*)\",\n  ],\n};\n",
      "type": "registry:component",
      "target": "components/auth-01/postgres/middleware.ts"
    }
  ],
  "meta": {
    "image": "/r/previews/auth-01.webp",
    "stacks": [
      "supabase",
      "postgres"
    ]
  },
  "categories": [
    "authentication"
  ],
  "type": "registry:block"
}