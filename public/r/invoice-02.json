{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "invoice-02",
  "title": "Invoice 02",
  "description": "An invoice creation form with live preview, line items, calculations, and customer management",
  "dependencies": [
    "lucide-react",
    "date-fns"
  ],
  "registryDependencies": [
    "button",
    "card",
    "input",
    "label",
    "textarea",
    "select",
    "separator"
  ],
  "files": [
    {
      "path": "src/registry/blocks/invoice-02/invoice.tsx",
      "content": "\"use client\";\n\nimport { useState, useMemo } from \"react\";\nimport { cn } from \"@/lib/utils\";\nimport { Button } from \"@/components/ui/button\";\nimport { ChevronLeft, Save, Send } from \"lucide-react\";\nimport { InvoiceForm, InvoicePreviewPanel } from \"./components\";\nimport { LogoIcon } from \"@/registry/blocks/social-icons/icons\";\nimport type {\n  InvoiceFormData,\n  InvoiceLineItem,\n  InvoicePreview,\n  InvoiceCreateProps,\n  Customer,\n} from \"./types/invoice\";\n\n// =============================================================================\n// Demo Data\n// =============================================================================\n\nconst demoCustomers: Customer[] = [\n  {\n    id: \"cust_1\",\n    name: \"PT Nusantara Digital Solusi\",\n    email: \"finance@nusantara.co.id\",\n    address:\n      \"Jl. Jendral Sudirman No. 45, Jakarta Selatan, DKI Jakarta 12190 Indonesia\",\n  },\n  {\n    id: \"cust_2\",\n    name: \"Studio Aria Digital\",\n    email: \"billing@studioaria.com\",\n    address:\n      \"Jl. Jatiwu No. 5, Sawahan 9, Sambireho, Kec. Dau, Kabupaten Malang, Jawa Timur 65151\",\n  },\n  {\n    id: \"cust_3\",\n    name: \"Acme Corporation\",\n    email: \"accounts@acme.com\",\n    address: \"123 Business Ave, Suite 100, San Francisco, CA 94102, USA\",\n  },\n];\n\nconst initialFormData: InvoiceFormData = {\n  customer: demoCustomers[0],\n  billingAddress: demoCustomers[0].address,\n  issueDate: new Date().toISOString().split(\"T\")[0],\n  dueDate: new Date(Date.now() + 14 * 24 * 60 * 60 * 1000)\n    .toISOString()\n    .split(\"T\")[0],\n  paymentTerms: \"net_14\",\n  lineItems: [\n    {\n      id: \"item_1\",\n      description: \"Dashboard UI Design\",\n      quantity: 10,\n      unit: \"page\",\n      unitPrice: 750000,\n      amount: 7500000,\n    },\n    {\n      id: \"item_2\",\n      description: \"Mobile App\",\n      quantity: 100,\n      unit: \"page\",\n      unitPrice: 50000,\n      amount: 5000000,\n    },\n  ],\n  discount: 500000,\n  taxRate: 11,\n  notes:\n    \"Thank you for your trust. Please complete the payment before the due date.\\nFor any questions, feel free to contact us.\",\n};\n\n// =============================================================================\n// Invoice Create Component\n// =============================================================================\n\nexport default function InvoiceCreate({\n  customers = demoCustomers,\n  defaultCustomer,\n  companyName = \"Shadcnship\",\n  companyAddress = \"123 Design Street, Suite 456\\nSan Francisco, CA 94102\\nUnited States\",\n  companyLogo,\n  bankName = \"Bank Central Asia (BCA)\",\n  accountName = \"Shadcnship LLC\",\n  accountNumber = \"123 456 7890\",\n  onSaveDraft,\n  onSendInvoice,\n  className,\n}: InvoiceCreateProps) {\n  const [formData, setFormData] = useState<InvoiceFormData>(() => ({\n    ...initialFormData,\n    customer: defaultCustomer || initialFormData.customer,\n    billingAddress:\n      defaultCustomer?.address || initialFormData.billingAddress,\n  }));\n  const [isSaving, setIsSaving] = useState(false);\n  const [isSending, setIsSending] = useState(false);\n\n  // Generate invoice number (stable per session using timestamp)\n  const [invoiceNumber] = useState(() => {\n    const date = new Date();\n    const seq = String(date.getTime()).slice(-3);\n    return `INV-${date.getFullYear()}${String(date.getMonth() + 1).padStart(2, \"0\")}${seq}`;\n  });\n\n  // Calculate preview data\n  const preview: InvoicePreview = useMemo(() => {\n    const subtotal = formData.lineItems.reduce(\n      (sum, item) => sum + item.amount,\n      0\n    );\n    const discountAmount = formData.discount;\n    const taxableAmount = subtotal - discountAmount;\n    const taxAmount = (taxableAmount * formData.taxRate) / 100;\n    const total = taxableAmount + taxAmount;\n\n    return {\n      ...formData,\n      invoiceNumber,\n      subtotal,\n      discountAmount,\n      taxAmount,\n      total,\n    };\n  }, [formData, invoiceNumber]);\n\n  // Form handlers\n  const handleFormChange = (updates: Partial<InvoiceFormData>) => {\n    setFormData((prev) => ({ ...prev, ...updates }));\n  };\n\n  const handleAddLineItem = () => {\n    const newItem: InvoiceLineItem = {\n      id: `item_${Date.now()}`,\n      description: \"\",\n      quantity: 1,\n      unit: \"item\",\n      unitPrice: 0,\n      amount: 0,\n    };\n    setFormData((prev) => ({\n      ...prev,\n      lineItems: [...prev.lineItems, newItem],\n    }));\n  };\n\n  const handleUpdateLineItem = (\n    id: string,\n    updates: Partial<InvoiceLineItem>\n  ) => {\n    setFormData((prev) => ({\n      ...prev,\n      lineItems: prev.lineItems.map((item) =>\n        item.id === id ? { ...item, ...updates } : item\n      ),\n    }));\n  };\n\n  const handleRemoveLineItem = (id: string) => {\n    setFormData((prev) => ({\n      ...prev,\n      lineItems: prev.lineItems.filter((item) => item.id !== id),\n    }));\n  };\n\n  // Action handlers\n  const handleSaveDraft = async () => {\n    if (onSaveDraft) {\n      setIsSaving(true);\n      try {\n        await onSaveDraft(formData);\n      } finally {\n        setIsSaving(false);\n      }\n    } else {\n      // Demo: just log\n      console.log(\"Saving draft:\", formData);\n    }\n  };\n\n  const handleSendInvoice = async () => {\n    if (onSendInvoice) {\n      setIsSending(true);\n      try {\n        await onSendInvoice(formData);\n      } finally {\n        setIsSending(false);\n      }\n    } else {\n      // Demo: just log\n      console.log(\"Sending invoice:\", formData);\n    }\n  };\n\n  // Default logo\n  const logo = companyLogo || (\n    <LogoIcon className=\"size-10\" />\n  );\n\n  return (\n    <div className={cn(\"w-full max-w-7xl mx-auto\", className)}>\n      {/* Header */}\n      <div className=\"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6\">\n        <div>\n          <Button variant=\"ghost\" size=\"sm\" className=\"mb-2 -ml-3\">\n            <ChevronLeft className=\"size-4 mr-1\" />\n            Back to home\n          </Button>\n          <h1 className=\"text-2xl font-bold\">Create New Invoice</h1>\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <Button\n            variant=\"outline\"\n            onClick={handleSaveDraft}\n            disabled={isSaving}\n          >\n            <Save className=\"size-4 mr-2\" />\n            Save as Draft\n          </Button>\n          <Button onClick={handleSendInvoice} disabled={isSending}>\n            <Send className=\"size-4 mr-2\" />\n            Send Invoice\n          </Button>\n        </div>\n      </div>\n\n      {/* Main Content */}\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        {/* Form */}\n        <InvoiceForm\n          formData={formData}\n          customers={customers}\n          onFormChange={handleFormChange}\n          onAddLineItem={handleAddLineItem}\n          onUpdateLineItem={handleUpdateLineItem}\n          onRemoveLineItem={handleRemoveLineItem}\n          currency=\"IDR\"\n        />\n\n        {/* Preview */}\n        <InvoicePreviewPanel\n          preview={preview}\n          companyName={companyName}\n          companyAddress={companyAddress}\n          companyLogo={logo}\n          bankName={bankName}\n          accountName={accountName}\n          accountNumber={accountNumber}\n          currency=\"IDR\"\n        />\n      </div>\n    </div>\n  );\n}\n",
      "type": "registry:component",
      "target": "components/invoice-02/invoice.tsx"
    },
    {
      "path": "src/registry/blocks/invoice-02/types/invoice.ts",
      "content": "// =============================================================================\n// Invoice Creation Types\n// =============================================================================\n\nexport type PaymentTerms = \"net_7\" | \"net_14\" | \"net_30\" | \"net_60\" | \"due_on_receipt\";\n\nexport interface Customer {\n  id: string;\n  name: string;\n  email: string;\n  address: string;\n}\n\nexport interface InvoiceLineItem {\n  id: string;\n  description: string;\n  quantity: number;\n  unit: string;\n  unitPrice: number;\n  amount: number;\n}\n\nexport interface InvoiceFormData {\n  customer: Customer | null;\n  billingAddress: string;\n  issueDate: string;\n  dueDate: string;\n  paymentTerms: PaymentTerms;\n  lineItems: InvoiceLineItem[];\n  discount: number;\n  taxRate: number;\n  notes: string;\n}\n\nexport interface InvoicePreview extends InvoiceFormData {\n  invoiceNumber: string;\n  subtotal: number;\n  discountAmount: number;\n  taxAmount: number;\n  total: number;\n}\n\nexport interface InvoiceCreateProps {\n  customers?: Customer[];\n  defaultCustomer?: Customer;\n  companyName?: string;\n  companyAddress?: string;\n  companyLogo?: React.ReactNode;\n  bankName?: string;\n  accountName?: string;\n  accountNumber?: string;\n  onSaveDraft?: (data: InvoiceFormData) => Promise<void>;\n  onSendInvoice?: (data: InvoiceFormData) => Promise<void>;\n  className?: string;\n}\n\nexport interface InvoiceFormProps {\n  formData: InvoiceFormData;\n  customers: Customer[];\n  onFormChange: (data: Partial<InvoiceFormData>) => void;\n  onAddLineItem: () => void;\n  onUpdateLineItem: (id: string, updates: Partial<InvoiceLineItem>) => void;\n  onRemoveLineItem: (id: string) => void;\n}\n\nexport interface InvoicePreviewPanelProps {\n  preview: InvoicePreview;\n  companyName: string;\n  companyAddress: string;\n  companyLogo?: React.ReactNode;\n  bankName?: string;\n  accountName?: string;\n  accountNumber?: string;\n}\n",
      "type": "registry:component",
      "target": "components/invoice-02/types/invoice.ts"
    },
    {
      "path": "src/registry/blocks/invoice-02/components/index.ts",
      "content": "// Components\nexport { InvoiceForm } from \"./invoice-form\";\nexport { InvoicePreviewPanel } from \"./invoice-preview-panel\";\nexport { LineItemRow } from \"./line-item-row\";\n\n// Re-export types\nexport type {\n  PaymentTerms,\n  Customer,\n  InvoiceLineItem,\n  InvoiceFormData,\n  InvoicePreview,\n  InvoiceCreateProps,\n  InvoiceFormProps,\n  InvoicePreviewPanelProps,\n} from \"../types/invoice\";\n",
      "type": "registry:component",
      "target": "components/invoice-02/components/index.ts"
    },
    {
      "path": "src/registry/blocks/invoice-02/components/invoice-form.tsx",
      "content": "\"use client\";\n\nimport { cn } from \"@/lib/utils\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Button } from \"@/components/ui/button\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { LineItemRow } from \"./line-item-row\";\nimport { Plus, Calendar } from \"lucide-react\";\nimport type {\n  InvoiceFormData,\n  InvoiceLineItem,\n  Customer,\n  PaymentTerms,\n} from \"../types/invoice\";\n\ninterface InvoiceFormProps {\n  formData: InvoiceFormData;\n  customers: Customer[];\n  onFormChange: (data: Partial<InvoiceFormData>) => void;\n  onAddLineItem: () => void;\n  onUpdateLineItem: (id: string, updates: Partial<InvoiceLineItem>) => void;\n  onRemoveLineItem: (id: string) => void;\n  currency?: string;\n}\n\nconst paymentTermsOptions: { value: PaymentTerms; label: string }[] = [\n  { value: \"due_on_receipt\", label: \"Due on Receipt\" },\n  { value: \"net_7\", label: \"Net 7\" },\n  { value: \"net_14\", label: \"Net 14\" },\n  { value: \"net_30\", label: \"Net 30\" },\n  { value: \"net_60\", label: \"Net 60\" },\n];\n\nexport function InvoiceForm({\n  formData,\n  customers,\n  onFormChange,\n  onAddLineItem,\n  onUpdateLineItem,\n  onRemoveLineItem,\n  currency = \"USD\",\n}: InvoiceFormProps) {\n  const formatCurrency = (value: number) => {\n    return new Intl.NumberFormat(\"en-US\", {\n      style: \"currency\",\n      currency,\n      minimumFractionDigits: 0,\n      maximumFractionDigits: 0,\n    }).format(value);\n  };\n\n  const handleCustomerChange = (customerId: string) => {\n    const customer = customers.find((c) => c.id === customerId);\n    if (customer) {\n      onFormChange({\n        customer,\n        billingAddress: customer.address,\n      });\n    }\n  };\n\n  const handlePaymentTermsChange = (terms: PaymentTerms) => {\n    onFormChange({ paymentTerms: terms });\n    // Auto-calculate due date based on terms\n    const issueDate = new Date(formData.issueDate);\n    let daysToAdd = 0;\n    switch (terms) {\n      case \"net_7\":\n        daysToAdd = 7;\n        break;\n      case \"net_14\":\n        daysToAdd = 14;\n        break;\n      case \"net_30\":\n        daysToAdd = 30;\n        break;\n      case \"net_60\":\n        daysToAdd = 60;\n        break;\n      default:\n        daysToAdd = 0;\n    }\n    const dueDate = new Date(issueDate);\n    dueDate.setDate(dueDate.getDate() + daysToAdd);\n    onFormChange({ dueDate: dueDate.toISOString().split(\"T\")[0] });\n  };\n\n  // Calculate totals\n  const subtotal = formData.lineItems.reduce((sum, item) => sum + item.amount, 0);\n  const discountAmount = formData.discount;\n  const taxableAmount = subtotal - discountAmount;\n  const taxAmount = (taxableAmount * formData.taxRate) / 100;\n  const total = taxableAmount + taxAmount;\n\n  return (\n    <Card>\n      <CardHeader className=\"pb-4\">\n        <CardTitle className=\"text-lg\">Invoice Details</CardTitle>\n      </CardHeader>\n      <CardContent className=\"space-y-6\">\n        {/* Customer */}\n        <div className=\"space-y-2\">\n          <Label htmlFor=\"customer\">\n            Customer <span className=\"text-destructive\">*</span>\n          </Label>\n          <Select\n            value={formData.customer?.id || \"\"}\n            onValueChange={handleCustomerChange}\n          >\n            <SelectTrigger id=\"customer\">\n              <SelectValue placeholder=\"Select a customer\" />\n            </SelectTrigger>\n            <SelectContent>\n              {customers.map((customer) => (\n                <SelectItem key={customer.id} value={customer.id}>\n                  {customer.name}\n                </SelectItem>\n              ))}\n            </SelectContent>\n          </Select>\n        </div>\n\n        {/* Billing Address */}\n        <div className=\"space-y-2\">\n          <Label htmlFor=\"address\">\n            Billing Address <span className=\"text-destructive\">*</span>\n          </Label>\n          <Textarea\n            id=\"address\"\n            value={formData.billingAddress}\n            onChange={(e) => onFormChange({ billingAddress: e.target.value })}\n            placeholder=\"Enter billing address\"\n            rows={2}\n          />\n        </div>\n\n        {/* Dates and Payment Terms */}\n        <div className=\"grid grid-cols-3 gap-4\">\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"issueDate\">\n              Issue Date <span className=\"text-destructive\">*</span>\n            </Label>\n            <div className=\"relative\">\n              <Input\n                id=\"issueDate\"\n                type=\"date\"\n                value={formData.issueDate}\n                onChange={(e) => onFormChange({ issueDate: e.target.value })}\n              />\n              <Calendar className=\"absolute right-3 top-1/2 -translate-y-1/2 size-4 text-muted-foreground pointer-events-none\" />\n            </div>\n          </div>\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"dueDate\">\n              Due Date <span className=\"text-destructive\">*</span>\n            </Label>\n            <div className=\"relative\">\n              <Input\n                id=\"dueDate\"\n                type=\"date\"\n                value={formData.dueDate}\n                onChange={(e) => onFormChange({ dueDate: e.target.value })}\n              />\n              <Calendar className=\"absolute right-3 top-1/2 -translate-y-1/2 size-4 text-muted-foreground pointer-events-none\" />\n            </div>\n          </div>\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"paymentTerms\">\n              Payment Terms <span className=\"text-destructive\">*</span>\n            </Label>\n            <Select\n              value={formData.paymentTerms}\n              onValueChange={(v) => handlePaymentTermsChange(v as PaymentTerms)}\n            >\n              <SelectTrigger id=\"paymentTerms\">\n                <SelectValue />\n              </SelectTrigger>\n              <SelectContent>\n                {paymentTermsOptions.map((opt) => (\n                  <SelectItem key={opt.value} value={opt.value}>\n                    {opt.label}\n                  </SelectItem>\n                ))}\n              </SelectContent>\n            </Select>\n          </div>\n        </div>\n\n        {/* Line Items */}\n        <div className=\"space-y-2\">\n          <Label>\n            Items Details <span className=\"text-destructive\">*</span>\n          </Label>\n          <div className=\"border rounded-lg\">\n            {/* Header */}\n            <div className=\"grid grid-cols-[1fr,80px,100px,120px,120px,40px] gap-2 px-3 py-2 bg-muted/50 text-sm font-medium text-muted-foreground border-b\">\n              <div>Item</div>\n              <div className=\"text-center\">QTY</div>\n              <div>Unit</div>\n              <div className=\"text-right\">Cost</div>\n              <div className=\"text-right\">Amount</div>\n              <div></div>\n            </div>\n            {/* Items */}\n            <div className=\"px-3 divide-y\">\n              {formData.lineItems.map((item) => (\n                <LineItemRow\n                  key={item.id}\n                  item={item}\n                  onUpdate={onUpdateLineItem}\n                  onRemove={onRemoveLineItem}\n                  currency={currency}\n                />\n              ))}\n            </div>\n            {/* Add Item */}\n            <div className=\"px-3 py-2 border-t\">\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                onClick={onAddLineItem}\n                className=\"text-muted-foreground\"\n              >\n                <Plus className=\"size-4 mr-1\" />\n                Add item\n              </Button>\n            </div>\n          </div>\n        </div>\n\n        {/* Totals */}\n        <div className=\"grid grid-cols-3 gap-4\">\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"discount\">\n              Discount <span className=\"text-destructive\">*</span>\n            </Label>\n            <div className=\"flex items-center gap-2\">\n              <span className=\"text-sm text-muted-foreground\">{currency}</span>\n              <Input\n                id=\"discount\"\n                type=\"number\"\n                value={formData.discount}\n                onChange={(e) =>\n                  onFormChange({ discount: parseFloat(e.target.value) || 0 })\n                }\n                min={0}\n              />\n            </div>\n          </div>\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"tax\">\n              Tax (PPN 11%) <span className=\"text-destructive\">*</span>\n            </Label>\n            <div className=\"flex items-center gap-2\">\n              <span className=\"text-sm text-muted-foreground\">{currency}</span>\n              <Input\n                id=\"tax\"\n                value={formatCurrency(taxAmount).replace(/[^0-9.,]/g, \"\")}\n                readOnly\n                className=\"bg-muted\"\n              />\n            </div>\n          </div>\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"total\">\n              Total <span className=\"text-destructive\">*</span>\n            </Label>\n            <div className=\"flex items-center gap-2\">\n              <span className=\"text-sm text-muted-foreground\">{currency}</span>\n              <Input\n                id=\"total\"\n                value={formatCurrency(total).replace(/[^0-9.,]/g, \"\")}\n                readOnly\n                className=\"bg-muted font-semibold\"\n              />\n            </div>\n          </div>\n        </div>\n\n        {/* Notes */}\n        <div className=\"space-y-2\">\n          <Label htmlFor=\"notes\">\n            Notes to Customer <span className=\"text-destructive\">*</span>\n          </Label>\n          <Textarea\n            id=\"notes\"\n            value={formData.notes}\n            onChange={(e) => onFormChange({ notes: e.target.value })}\n            placeholder=\"Thank you for your trust. Please complete the payment before the due date. For any questions, feel free to contact us.\"\n            rows={3}\n          />\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n",
      "type": "registry:component",
      "target": "components/invoice-02/components/invoice-form.tsx"
    },
    {
      "path": "src/registry/blocks/invoice-02/components/invoice-preview-panel.tsx",
      "content": "\"use client\";\n\nimport { cn } from \"@/lib/utils\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { format } from \"date-fns\";\nimport type { InvoicePreview } from \"../types/invoice\";\n\ninterface InvoicePreviewPanelProps {\n  preview: InvoicePreview;\n  companyName: string;\n  companyAddress: string;\n  companyLogo?: React.ReactNode;\n  bankName?: string;\n  accountName?: string;\n  accountNumber?: string;\n  currency?: string;\n}\n\nexport function InvoicePreviewPanel({\n  preview,\n  companyName,\n  companyAddress,\n  companyLogo,\n  bankName,\n  accountName,\n  accountNumber,\n  currency = \"USD\",\n}: InvoicePreviewPanelProps) {\n  const formatCurrency = (value: number) => {\n    return new Intl.NumberFormat(\"en-US\", {\n      style: \"currency\",\n      currency,\n      minimumFractionDigits: 0,\n      maximumFractionDigits: 0,\n    }).format(value);\n  };\n\n  const formatDate = (dateString: string) => {\n    try {\n      return format(new Date(dateString), \"dd MMMM yyyy\");\n    } catch {\n      return dateString;\n    }\n  };\n\n  const paymentTermsLabels: Record<string, string> = {\n    due_on_receipt: \"Due on Receipt\",\n    net_7: \"Net 7\",\n    net_14: \"Net 14\",\n    net_30: \"Net 30\",\n    net_60: \"Net 60\",\n  };\n\n  return (\n    <Card className=\"bg-muted/30\">\n      <CardHeader className=\"pb-4\">\n        <CardTitle className=\"text-lg\">Preview</CardTitle>\n      </CardHeader>\n      <CardContent>\n        {/* Invoice Preview Card */}\n        <div className=\"bg-background rounded-lg border shadow-sm p-6 space-y-6\">\n          {/* Header with logo */}\n          <div className=\"flex items-start justify-between\">\n            <div className=\"flex items-center gap-3\">\n              {companyLogo ? (\n                companyLogo\n              ) : (\n                <div className=\"size-10 rounded-lg bg-primary flex items-center justify-center text-primary-foreground font-bold\">\n                  {companyName.charAt(0)}\n                </div>\n              )}\n            </div>\n            <div className=\"text-right text-xs text-muted-foreground\">\n              <p className=\"font-medium text-foreground\">{preview.invoiceNumber}</p>\n            </div>\n          </div>\n\n          {/* Dates Row */}\n          <div className=\"grid grid-cols-3 gap-4 text-xs\">\n            <div>\n              <p className=\"text-muted-foreground mb-1\">Issue Date</p>\n              <p className=\"font-medium\">{formatDate(preview.issueDate)}</p>\n            </div>\n            <div>\n              <p className=\"text-muted-foreground mb-1\">Due Date</p>\n              <p className=\"font-medium\">{formatDate(preview.dueDate)}</p>\n            </div>\n            <div>\n              <p className=\"text-muted-foreground mb-1\">Payment Terms</p>\n              <p className=\"font-medium\">\n                {paymentTermsLabels[preview.paymentTerms] || preview.paymentTerms}\n              </p>\n            </div>\n          </div>\n\n          {/* Billed By / To */}\n          <div className=\"grid grid-cols-2 gap-4 text-xs\">\n            <div className=\"space-y-1\">\n              <p className=\"text-muted-foreground\">Billed by</p>\n              <div className=\"bg-muted/50 rounded-lg p-3\">\n                <p className=\"font-medium\">{companyName}</p>\n                <p className=\"text-muted-foreground whitespace-pre-line\">\n                  {companyAddress}\n                </p>\n              </div>\n            </div>\n            <div className=\"space-y-1\">\n              <p className=\"text-muted-foreground\">Billed to</p>\n              <div className=\"bg-muted/50 rounded-lg p-3\">\n                <p className=\"font-medium\">\n                  {preview.customer?.name || \"No customer selected\"}\n                </p>\n                <p className=\"text-muted-foreground whitespace-pre-line\">\n                  {preview.billingAddress || \"No address\"}\n                </p>\n              </div>\n            </div>\n          </div>\n\n          {/* Line Items Table */}\n          <div className=\"border rounded-lg overflow-hidden\">\n            <div className=\"grid grid-cols-[1fr,80px,100px,100px] bg-muted/50 px-3 py-2 text-xs font-medium text-muted-foreground\">\n              <div>Item</div>\n              <div className=\"text-center\">QTY</div>\n              <div className=\"text-right\">Cost</div>\n              <div className=\"text-right\">Amount</div>\n            </div>\n            <div className=\"divide-y\">\n              {preview.lineItems.length > 0 ? (\n                preview.lineItems.map((item) => (\n                  <div\n                    key={item.id}\n                    className=\"grid grid-cols-[1fr,80px,100px,100px] px-3 py-2 text-xs\"\n                  >\n                    <div>{item.description || \"Untitled\"}</div>\n                    <div className=\"text-center\">\n                      {item.quantity} {item.unit}\n                    </div>\n                    <div className=\"text-right\">{formatCurrency(item.unitPrice)}</div>\n                    <div className=\"text-right font-medium\">\n                      {formatCurrency(item.amount)}\n                    </div>\n                  </div>\n                ))\n              ) : (\n                <div className=\"px-3 py-4 text-xs text-muted-foreground text-center\">\n                  No items added\n                </div>\n              )}\n            </div>\n          </div>\n\n          {/* Bank Info and Totals */}\n          <div className=\"grid grid-cols-2 gap-4\">\n            {/* Bank Info */}\n            {(bankName || accountName || accountNumber) && (\n              <div className=\"space-y-2 text-xs\">\n                {bankName && (\n                  <div>\n                    <p className=\"text-muted-foreground\">Bank Name</p>\n                    <p className=\"font-medium\">{bankName}</p>\n                  </div>\n                )}\n                {accountName && (\n                  <div>\n                    <p className=\"text-muted-foreground\">Account Name</p>\n                    <p className=\"font-medium\">{accountName}</p>\n                  </div>\n                )}\n                {accountNumber && (\n                  <div>\n                    <p className=\"text-muted-foreground\">Account Number</p>\n                    <p className=\"font-medium\">{accountNumber}</p>\n                  </div>\n                )}\n              </div>\n            )}\n\n            {/* Totals */}\n            <div className=\"space-y-2 text-xs ml-auto w-[200px]\">\n              <div className=\"flex justify-between\">\n                <span className=\"text-muted-foreground\">Subtotal</span>\n                <span>{formatCurrency(preview.subtotal)}</span>\n              </div>\n              <div className=\"flex justify-between\">\n                <span className=\"text-muted-foreground\">Discount</span>\n                <span>{formatCurrency(preview.discountAmount)}</span>\n              </div>\n              <div className=\"flex justify-between\">\n                <span className=\"text-muted-foreground\">Tax (11%)</span>\n                <span>{formatCurrency(preview.taxAmount)}</span>\n              </div>\n              <Separator />\n              <div className=\"flex justify-between font-semibold text-sm\">\n                <span>Total</span>\n                <span>{formatCurrency(preview.total)}</span>\n              </div>\n            </div>\n          </div>\n\n          {/* Notes */}\n          {preview.notes && (\n            <div className=\"text-xs\">\n              <p className=\"text-muted-foreground mb-1\">Notes</p>\n              <p className=\"text-muted-foreground whitespace-pre-line\">\n                {preview.notes}\n              </p>\n            </div>\n          )}\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n",
      "type": "registry:component",
      "target": "components/invoice-02/components/invoice-preview-panel.tsx"
    },
    {
      "path": "src/registry/blocks/invoice-02/components/line-item-row.tsx",
      "content": "\"use client\";\n\nimport { cn } from \"@/lib/utils\";\nimport { Input } from \"@/components/ui/input\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport { Trash2 } from \"lucide-react\";\nimport type { InvoiceLineItem } from \"../types/invoice\";\n\ninterface LineItemRowProps {\n  item: InvoiceLineItem;\n  onUpdate: (id: string, updates: Partial<InvoiceLineItem>) => void;\n  onRemove: (id: string) => void;\n  currency?: string;\n}\n\nconst units = [\n  { value: \"page\", label: \"page\" },\n  { value: \"hour\", label: \"hour\" },\n  { value: \"item\", label: \"item\" },\n  { value: \"unit\", label: \"unit\" },\n  { value: \"day\", label: \"day\" },\n  { value: \"month\", label: \"month\" },\n];\n\nexport function LineItemRow({\n  item,\n  onUpdate,\n  onRemove,\n  currency = \"USD\",\n}: LineItemRowProps) {\n  const formatCurrency = (value: number) => {\n    return new Intl.NumberFormat(\"en-US\", {\n      style: \"currency\",\n      currency,\n      minimumFractionDigits: 0,\n      maximumFractionDigits: 0,\n    }).format(value);\n  };\n\n  const handleQuantityChange = (value: string) => {\n    const qty = parseInt(value) || 0;\n    onUpdate(item.id, {\n      quantity: qty,\n      amount: qty * item.unitPrice,\n    });\n  };\n\n  const handleUnitPriceChange = (value: string) => {\n    const price = parseFloat(value.replace(/[^0-9.]/g, \"\")) || 0;\n    onUpdate(item.id, {\n      unitPrice: price,\n      amount: item.quantity * price,\n    });\n  };\n\n  return (\n    <div className=\"grid grid-cols-[1fr,80px,100px,120px,120px,40px] gap-2 items-center py-2\">\n      <Input\n        value={item.description}\n        onChange={(e) => onUpdate(item.id, { description: e.target.value })}\n        placeholder=\"Item description\"\n        className=\"h-9\"\n      />\n      <Input\n        type=\"number\"\n        value={item.quantity}\n        onChange={(e) => handleQuantityChange(e.target.value)}\n        min={0}\n        className=\"h-9 text-center\"\n      />\n      <Select\n        value={item.unit}\n        onValueChange={(v) => onUpdate(item.id, { unit: v })}\n      >\n        <SelectTrigger className=\"h-9\">\n          <SelectValue />\n        </SelectTrigger>\n        <SelectContent>\n          {units.map((u) => (\n            <SelectItem key={u.value} value={u.value}>\n              {u.label}\n            </SelectItem>\n          ))}\n        </SelectContent>\n      </Select>\n      <Input\n        value={item.unitPrice}\n        onChange={(e) => handleUnitPriceChange(e.target.value)}\n        className=\"h-9 text-right\"\n      />\n      <div className=\"text-right font-medium text-sm pr-2\">\n        {formatCurrency(item.amount)}\n      </div>\n      <Button\n        variant=\"ghost\"\n        size=\"icon\"\n        className=\"size-8 text-muted-foreground hover:text-destructive\"\n        onClick={() => onRemove(item.id)}\n      >\n        <Trash2 className=\"size-4\" />\n      </Button>\n    </div>\n  );\n}\n",
      "type": "registry:component",
      "target": "components/invoice-02/components/line-item-row.tsx"
    }
  ],
  "meta": {
    "image": "/r/previews/invoice-02.webp"
  },
  "categories": [
    "invoice"
  ],
  "type": "registry:block"
}