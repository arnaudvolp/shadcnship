{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "waitlist-01",
  "title": "Waitlist 01",
  "description": "A waitlist signup section with email form and social proof",
  "dependencies": [
    "lucide-react"
  ],
  "registryDependencies": [
    "button",
    "input",
    "badge"
  ],
  "files": [
    {
      "path": "src/registry/blocks/waitlist-01/waitlist.tsx",
      "content": "\"use client\";\n\nimport { useState } from \"react\";\nimport { CheckCircle2, Loader2, XCircle } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Toaster } from \"@/components/ui/sonner\";\nimport { toast } from \"sonner\";\n\n// ============================================================================\n// Types\n// ============================================================================\n\ntype SubmitStatus = \"idle\" | \"loading\" | \"success\" | \"error\";\n\ninterface Waitlist01Props {\n  badge?: string;\n  heading?: string;\n  description?: string;\n  inputPlaceholder?: string;\n  buttonText?: string;\n  // Submit handler - injected by stack-specific hooks\n  onSubmit?: (email: string) => Promise<void>;\n  // Messages\n  successMessage?: string;\n  errorMessage?: string;\n  // Social proof\n  socialProof?: {\n    avatars: string[];\n    text: string;\n  };\n  className?: string;\n}\n\n// ============================================================================\n// Email Validation\n// ============================================================================\n\nconst isValidEmail = (email: string): boolean => {\n  return /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email);\n};\n\n// ============================================================================\n// Main Component\n// ============================================================================\n\nconst Waitlist01 = ({\n  badge = \"Coming Soon\",\n  heading = \"Join the Waiting List\",\n  description = \"Be amongst the first to experience our product. Sign up to be notified when we launch!\",\n  inputPlaceholder = \"Enter your email\",\n  buttonText = \"Join waitlist\",\n  onSubmit,\n  successMessage = \"You're on the list! We'll notify you when we launch.\",\n  errorMessage = \"Something went wrong. Please try again.\",\n  socialProof = {\n    avatars: [\n      \"https://github.com/shadcn.png\",\n      \"https://github.com/shadcn.png\",\n      \"https://github.com/shadcn.png\",\n      \"https://github.com/shadcn.png\",\n    ],\n    text: \"Join 2,500+ others on the waitlist\",\n  },\n  className,\n}: Waitlist01Props) => {\n  const [email, setEmail] = useState(\"\");\n  const [status, setStatus] = useState<SubmitStatus>(\"idle\");\n  const [message, setMessage] = useState(\"\");\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n\n    if (!isValidEmail(email)) {\n      setStatus(\"error\");\n      setMessage(\"Please enter a valid email address\");\n      return;\n    }\n\n    setStatus(\"loading\");\n    setMessage(\"\");\n\n    try {\n      if (onSubmit) {\n        await onSubmit(email);\n      } else {\n        // Demo mode - simulate success\n        await new Promise((resolve) => setTimeout(resolve, 1000));\n      }\n      setStatus(\"success\");\n      setMessage(successMessage);\n      toast(successMessage);\n      setEmail(\"\");\n    } catch (error) {\n      setStatus(\"error\");\n      setMessage(error instanceof Error ? error.message : errorMessage);\n      toast(errorMessage);\n    }\n  };\n\n  const isDisabled = status === \"loading\" || status === \"success\";\n\n  return (\n    <section className={cn(\"container mx-auto px-6 py-12 md:py-24\", className)}>\n      <div className=\"mx-auto max-w-2xl space-y-4 text-center\">\n        {/* Badge */}\n        <Badge variant=\"outline\" className=\"gap-1.5 uppercase\">\n          <div className=\"size-1.5 rounded-full bg-primary\" />\n          {badge}\n        </Badge>\n\n        {/* Heading */}\n        <h2 className=\"text-4xl font-semibold tracking-tight md:text-5xl\">\n          {heading}\n        </h2>\n\n        {/* Description */}\n        <p className=\"text-muted-foreground\">{description}</p>\n\n        {/* Email Form */}\n        <form onSubmit={handleSubmit}>\n          <div className=\"mx-auto flex max-w-md items-center gap-2 rounded-full border bg-background p-1.5 shadow-sm\">\n            <Input\n              type=\"email\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n              placeholder={inputPlaceholder}\n              disabled={isDisabled}\n              className=\"flex-1 rounded-full border-0 bg-transparent shadow-none focus-visible:ring-0\"\n            />\n            <Button\n              type=\"submit\"\n              disabled={isDisabled}\n              className=\"rounded-full px-6\"\n            >\n              {status === \"loading\" && (\n                <Loader2 className=\"mr-2 size-4 animate-spin\" />\n              )}\n              {buttonText}\n            </Button>\n          </div>\n        </form>\n\n        {/* Status Message */}\n        <Toaster />\n\n        {/* Social Proof */}\n        {socialProof && (\n          <div className=\"mt-6 flex items-center justify-center gap-3\">\n            <div className=\"flex -space-x-2\">\n              {socialProof.avatars.map((avatar, index) => (\n                <img\n                  key={index}\n                  src={avatar}\n                  alt={`User ${index + 1}`}\n                  className=\"size-8 rounded-full border-2 border-background object-cover\"\n                />\n              ))}\n            </div>\n            <p className=\"text-sm text-muted-foreground\">{socialProof.text}</p>\n          </div>\n        )}\n      </div>\n    </section>\n  );\n};\n\nexport { Waitlist01 };\nexport type { Waitlist01Props };\n",
      "type": "registry:component",
      "target": "components/waitlist-01/waitlist.tsx"
    },
    {
      "path": "src/registry/blocks/waitlist-01/supabase/use-waitlist.ts",
      "content": "import { useMemo } from \"react\";\nimport { createClient } from \"@supabase/supabase-js\";\n\ninterface UseWaitlistOptions {\n  supabaseUrl?: string;\n  supabaseAnonKey?: string;\n  tableName?: string;\n}\n\n/**\n * Hook for Supabase waitlist integration\n *\n * @example\n * // page.tsx\n * import { Waitlist01 } from \"@/components/waitlist-01/waitlist\"\n * import { useWaitlist } from \"@/components/waitlist-01/supabase/use-waitlist\"\n *\n * export default function Page() {\n *   const { onSubmit } = useWaitlist()\n *   return <Waitlist01 onSubmit={onSubmit} />\n * }\n *\n * // Required env vars:\n * // NEXT_PUBLIC_SUPABASE_URL=your-project-url\n * // NEXT_PUBLIC_SUPABASE_PUBLISHABLE_KEY=your-publishable-key\n */\nexport function useWaitlist({\n  supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!,\n  supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_PUBLISHABLE_KEY!,\n  tableName = \"waitlist\",\n}: UseWaitlistOptions = {}) {\n  const supabase = useMemo(\n    () => createClient(supabaseUrl, supabaseAnonKey),\n    [supabaseUrl, supabaseAnonKey],\n  );\n\n  const onSubmit = async (email: string): Promise<void> => {\n    const { error } = await supabase.from(tableName).insert({ email });\n    if (error) {\n      if (error.code === \"23505\") {\n        throw new Error(\"This email is already on the waitlist\");\n      }\n      throw new Error(error.message);\n    }\n  };\n\n  return { onSubmit };\n}\n\n/**\n * Supabase Setup - Run in SQL Editor:\n *\n * CREATE TABLE waitlist (\n *   id UUID DEFAULT gen_random_uuid() PRIMARY KEY,\n *   email TEXT UNIQUE NOT NULL,\n *   created_at TIMESTAMPTZ DEFAULT NOW()\n * );\n *\n * ALTER TABLE waitlist ENABLE ROW LEVEL SECURITY;\n *\n * CREATE POLICY \"Allow anonymous inserts\" ON waitlist\n *   FOR INSERT TO anon WITH CHECK (true);\n */\n",
      "type": "registry:component",
      "target": "components/waitlist-01/supabase/use-waitlist.ts"
    },
    {
      "path": "src/registry/blocks/waitlist-01/postgres/action.ts",
      "content": "\"use server\";\n\n// ============================================================================\n// Example server action for PostgreSQL waitlist\n//\n// Replace with your preferred database client:\n// - @vercel/postgres\n// - pg (node-postgres)\n// - drizzle-orm\n// - prisma\n// ============================================================================\n\n/**\n * Add email to waitlist\n *\n * @example\n * // page.tsx\n * import { Waitlist01 } from \"@/components/waitlist-01/waitlist\"\n * import { addToWaitlist } from \"@/components/waitlist-01/postgres/action\"\n *\n * export default function Page() {\n *   return <Waitlist01 onSubmit={addToWaitlist} />\n * }\n */\nexport async function addToWaitlist(email: string): Promise<void> {\n  // ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\n  // Option 1: @vercel/postgres\n  // ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\n  // import { sql } from \"@vercel/postgres\";\n  //\n  // try {\n  //   await sql`INSERT INTO waitlist (email) VALUES (${email})`;\n  // } catch (error: unknown) {\n  //   if (_isPostgresError(error, \"23505\")) {\n  //     throw new Error(\"This email is already on the waitlist\");\n  //   }\n  //   throw error;\n  // }\n\n  // ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\n  // Option 2: Drizzle ORM\n  // ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\n  // import { db } from \"@/db\";\n  // import { waitlist } from \"@/db/schema\";\n  //\n  // try {\n  //   await db.insert(waitlist).values({ email });\n  // } catch (error: unknown) {\n  //   if (_isPostgresError(error, \"23505\")) {\n  //     throw new Error(\"This email is already on the waitlist\");\n  //   }\n  //   throw error;\n  // }\n\n  // ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\n  // Demo mode (remove this and uncomment one of the options above)\n  // ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\n  await new Promise((resolve) => setTimeout(resolve, 1000));\n  console.log(`[Demo] Added ${email} to waitlist`);\n}\n\n// Helper to check PostgreSQL error codes\nfunction __isPostgresError(error: unknown, code: string): boolean {\n  return (\n    typeof error === \"object\" &&\n    error !== null &&\n    \"code\" in error &&\n    error.code === code\n  );\n}\n\n/**\n * PostgreSQL Schema - Run in your database:\n *\n * CREATE TABLE waitlist (\n *   id SERIAL PRIMARY KEY,\n *   email VARCHAR(255) UNIQUE NOT NULL,\n *   created_at TIMESTAMPTZ DEFAULT NOW()\n * );\n */\n",
      "type": "registry:component",
      "target": "components/waitlist-01/postgres/action.ts"
    }
  ],
  "meta": {
    "image": "/r/previews/waitlist-01.webp",
    "stacks": [
      "supabase",
      "postgres"
    ]
  },
  "categories": [
    "waitlist"
  ],
  "type": "registry:block"
}